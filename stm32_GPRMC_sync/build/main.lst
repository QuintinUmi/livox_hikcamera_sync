ARM GAS  /tmp/ccZLh1YE.s 			page 1


   1              		.cpu cortex-m3
   2              		.eabi_attribute 20, 1
   3              		.eabi_attribute 21, 1
   4              		.eabi_attribute 23, 3
   5              		.eabi_attribute 24, 1
   6              		.eabi_attribute 25, 1
   7              		.eabi_attribute 26, 1
   8              		.eabi_attribute 30, 1
   9              		.eabi_attribute 34, 1
  10              		.eabi_attribute 18, 4
  11              		.file	"main.c"
  12              		.text
  13              	.Ltext0:
  14              		.cfi_sections	.debug_frame
  15              		.section	.text.Error_Handler_Custom,"ax",%progbits
  16              		.align	1
  17              		.global	Error_Handler_Custom
  18              		.arch armv7-m
  19              		.syntax unified
  20              		.thumb
  21              		.thumb_func
  22              		.fpu softvfp
  24              	Error_Handler_Custom:
  25              	.LFB68:
  26              		.file 1 "Src/main.c"
   1:Src/main.c    **** /* USER CODE BEGIN Header */
   2:Src/main.c    **** /**
   3:Src/main.c    ****   ******************************************************************************
   4:Src/main.c    ****   * @file           : main.c
   5:Src/main.c    ****   * @brief          : Main program body
   6:Src/main.c    ****   ******************************************************************************
   7:Src/main.c    ****   * @attention
   8:Src/main.c    ****   *
   9:Src/main.c    ****   * Copyright (c) 2024 STMicroelectronics.
  10:Src/main.c    ****   * All rights reserved.
  11:Src/main.c    ****   *
  12:Src/main.c    ****   * This software is licensed under terms that can be found in the LICENSE file
  13:Src/main.c    ****   * in the root directory of this software component.
  14:Src/main.c    ****   * If no LICENSE file comes with this software, it is provided AS-IS.
  15:Src/main.c    ****   *
  16:Src/main.c    ****   ******************************************************************************
  17:Src/main.c    ****   */
  18:Src/main.c    **** /* USER CODE END Header */
  19:Src/main.c    **** /* Includes ------------------------------------------------------------------*/
  20:Src/main.c    **** #include "main.h"
  21:Src/main.c    **** #include "dma.h"
  22:Src/main.c    **** #include "tim.h"
  23:Src/main.c    **** #include "usart.h"
  24:Src/main.c    **** #include "gpio.h"
  25:Src/main.c    **** 
  26:Src/main.c    **** /* Private includes ----------------------------------------------------------*/
  27:Src/main.c    **** /* USER CODE BEGIN Includes */
  28:Src/main.c    **** #include <stdio.h>
  29:Src/main.c    **** #include <stdlib.h>
  30:Src/main.c    **** #include <string.h>
  31:Src/main.c    **** #include "core_cm3.h"
  32:Src/main.c    **** /* USER CODE END Includes */
ARM GAS  /tmp/ccZLh1YE.s 			page 2


  33:Src/main.c    **** 
  34:Src/main.c    **** /* Private typedef -----------------------------------------------------------*/
  35:Src/main.c    **** /* USER CODE BEGIN PTD */
  36:Src/main.c    **** 
  37:Src/main.c    **** /* USER CODE END PTD */
  38:Src/main.c    **** 
  39:Src/main.c    **** /* Private define ------------------------------------------------------------*/
  40:Src/main.c    **** /* USER CODE BEGIN PD */
  41:Src/main.c    **** 
  42:Src/main.c    **** /* USER CODE END PD */
  43:Src/main.c    **** 
  44:Src/main.c    **** /* Private macro -------------------------------------------------------------*/
  45:Src/main.c    **** /* USER CODE BEGIN PM */
  46:Src/main.c    **** 
  47:Src/main.c    **** /* USER CODE END PM */
  48:Src/main.c    **** 
  49:Src/main.c    **** /* Private variables ---------------------------------------------------------*/
  50:Src/main.c    **** 
  51:Src/main.c    **** /* USER CODE BEGIN PV */
  52:Src/main.c    **** 
  53:Src/main.c    **** /* USER CODE END PV */
  54:Src/main.c    **** 
  55:Src/main.c    **** /* Private function prototypes -----------------------------------------------*/
  56:Src/main.c    **** void SystemClock_Config(void);
  57:Src/main.c    **** /* USER CODE BEGIN PFP */
  58:Src/main.c    **** 
  59:Src/main.c    **** /* USER CODE END PFP */
  60:Src/main.c    **** 
  61:Src/main.c    **** /* Private user code ---------------------------------------------------------*/
  62:Src/main.c    **** /* USER CODE BEGIN 0 */
  63:Src/main.c    **** 
  64:Src/main.c    **** 
  65:Src/main.c    **** 
  66:Src/main.c    **** // 定义基准时间 2003-02-12 02:00:00
  67:Src/main.c    **** unsigned int BASE_YEAR = 2003;
  68:Src/main.c    **** unsigned int  BASE_MONTH = 2;
  69:Src/main.c    **** unsigned int  BASE_DAY = 12;
  70:Src/main.c    **** unsigned int  BASE_HOUR = 2;
  71:Src/main.c    **** unsigned int BASE_MINUTE = 0;
  72:Src/main.c    **** unsigned int  BASE_SECOND = 0;
  73:Src/main.c    **** 
  74:Src/main.c    **** // 定义位置
  75:Src/main.c    **** char LATITUDE[20] = "2237.8840,N"; // 22.6314°N
  76:Src/main.c    **** char LONGITUDE[20] = "11009.2400,E"; // 110.154°E
  77:Src/main.c    **** 
  78:Src/main.c    **** // 初始时间设置
  79:Src/main.c    **** uint32_t baseTime = 0; // 秒数
  80:Src/main.c    **** 
  81:Src/main.c    **** uint32_t baseTick = 0;
  82:Src/main.c    **** uint32_t elapsed = 0;
  83:Src/main.c    **** 
  84:Src/main.c    **** // GPS数据模拟
  85:Src/main.c    **** char gprmc_data[100];
  86:Src/main.c    **** 
  87:Src/main.c    **** 
  88:Src/main.c    **** 
  89:Src/main.c    **** // USART句柄声明
ARM GAS  /tmp/ccZLh1YE.s 			page 3


  90:Src/main.c    **** extern UART_HandleTypeDef huart3;
  91:Src/main.c    **** extern UART_HandleTypeDef huart1;
  92:Src/main.c    **** 
  93:Src/main.c    **** uint8_t uart_rx_buffer; 
  94:Src/main.c    **** 
  95:Src/main.c    **** // 定时器句柄声明
  96:Src/main.c    **** extern TIM_HandleTypeDef htim2; 
  97:Src/main.c    **** extern TIM_HandleTypeDef htim3;
  98:Src/main.c    **** extern TIM_HandleTypeDef htim4; // 100Hz -- /100: PPS ,  /10: Trigger
  99:Src/main.c    **** 
 100:Src/main.c    **** 
 101:Src/main.c    **** // 触发发送trigger的标志
 102:Src/main.c    **** volatile uint8_t trigger_flag = 0;
 103:Src/main.c    **** // 触发发送GPS数据的标志
 104:Src/main.c    **** volatile uint8_t send_gps_flag = 0;
 105:Src/main.c    **** 
 106:Src/main.c    **** 
 107:Src/main.c    **** 
 108:Src/main.c    **** void Error_Handler_Custom(void)
 109:Src/main.c    **** {
  27              		.loc 1 109 1 view -0
  28              		.cfi_startproc
  29              		@ args = 0, pretend = 0, frame = 0
  30              		@ frame_needed = 0, uses_anonymous_args = 0
  31 0000 08B5     		push	{r3, lr}
  32              	.LCFI0:
  33              		.cfi_def_cfa_offset 8
  34              		.cfi_offset 3, -8
  35              		.cfi_offset 14, -4
  36              	.L6:
 110:Src/main.c    **** 
 111:Src/main.c    ****   while (1) {
  37              		.loc 1 111 3 view .LVU1
 112:Src/main.c    ****     // 闪烁错误指示 LED 
 113:Src/main.c    ****     HAL_GPIO_WritePin(GPIOC, GPIO_PIN_5, RESET); 
  38              		.loc 1 113 5 view .LVU2
  39 0002 0022     		movs	r2, #0
  40 0004 2021     		movs	r1, #32
  41 0006 0F48     		ldr	r0, .L9
  42 0008 FFF7FEFF 		bl	HAL_GPIO_WritePin
  43              	.LVL0:
 114:Src/main.c    ****     HAL_GPIO_WritePin(GPIOB, GPIO_PIN_2, RESET); 
  44              		.loc 1 114 5 view .LVU3
  45 000c 0022     		movs	r2, #0
  46 000e 0421     		movs	r1, #4
  47 0010 0D48     		ldr	r0, .L9+4
  48 0012 FFF7FEFF 		bl	HAL_GPIO_WritePin
  49              	.LVL1:
 115:Src/main.c    ****     for(int i = 0; i < 500; i ++);
  50              		.loc 1 115 5 view .LVU4
  51              	.LBB2:
  52              		.loc 1 115 9 view .LVU5
  53              		.loc 1 115 13 is_stmt 0 view .LVU6
  54 0016 0023     		movs	r3, #0
  55              	.LVL2:
  56              	.L2:
  57              		.loc 1 115 20 is_stmt 1 discriminator 1 view .LVU7
ARM GAS  /tmp/ccZLh1YE.s 			page 4


  58              		.loc 1 115 5 is_stmt 0 discriminator 1 view .LVU8
  59 0018 B3F5FA7F 		cmp	r3, #500
  60 001c 01DA     		bge	.L8
  61              		.loc 1 115 34 is_stmt 1 discriminator 3 view .LVU9
  62              		.loc 1 115 29 discriminator 3 view .LVU10
  63              		.loc 1 115 31 is_stmt 0 discriminator 3 view .LVU11
  64 001e 0133     		adds	r3, r3, #1
  65              	.LVL3:
  66              		.loc 1 115 31 discriminator 3 view .LVU12
  67 0020 FAE7     		b	.L2
  68              	.L8:
  69              		.loc 1 115 31 discriminator 3 view .LVU13
  70              	.LBE2:
 116:Src/main.c    ****     HAL_GPIO_WritePin(GPIOC, GPIO_PIN_5, SET); 
  71              		.loc 1 116 5 is_stmt 1 view .LVU14
  72 0022 0122     		movs	r2, #1
  73 0024 2021     		movs	r1, #32
  74 0026 0748     		ldr	r0, .L9
  75 0028 FFF7FEFF 		bl	HAL_GPIO_WritePin
  76              	.LVL4:
 117:Src/main.c    ****     HAL_GPIO_WritePin(GPIOB, GPIO_PIN_2, SET); 
  77              		.loc 1 117 5 view .LVU15
  78 002c 0122     		movs	r2, #1
  79 002e 0421     		movs	r1, #4
  80 0030 0548     		ldr	r0, .L9+4
  81 0032 FFF7FEFF 		bl	HAL_GPIO_WritePin
  82              	.LVL5:
 118:Src/main.c    ****     for(int i = 0; i < 500; i ++);
  83              		.loc 1 118 5 view .LVU16
  84              	.LBB3:
  85              		.loc 1 118 9 view .LVU17
  86              		.loc 1 118 13 is_stmt 0 view .LVU18
  87 0036 0023     		movs	r3, #0
  88              	.LVL6:
  89              	.L4:
  90              		.loc 1 118 20 is_stmt 1 discriminator 1 view .LVU19
  91              		.loc 1 118 5 is_stmt 0 discriminator 1 view .LVU20
  92 0038 B3F5FA7F 		cmp	r3, #500
  93 003c E1DA     		bge	.L6
  94              		.loc 1 118 34 is_stmt 1 discriminator 3 view .LVU21
  95              		.loc 1 118 29 discriminator 3 view .LVU22
  96              		.loc 1 118 31 is_stmt 0 discriminator 3 view .LVU23
  97 003e 0133     		adds	r3, r3, #1
  98              	.LVL7:
  99              		.loc 1 118 31 discriminator 3 view .LVU24
 100 0040 FAE7     		b	.L4
 101              	.L10:
 102 0042 00BF     		.align	2
 103              	.L9:
 104 0044 00100140 		.word	1073811456
 105 0048 000C0140 		.word	1073810432
 106              	.LBE3:
 107              		.cfi_endproc
 108              	.LFE68:
 110              		.section	.text.DWT_Init,"ax",%progbits
 111              		.align	1
 112              		.global	DWT_Init
ARM GAS  /tmp/ccZLh1YE.s 			page 5


 113              		.syntax unified
 114              		.thumb
 115              		.thumb_func
 116              		.fpu softvfp
 118              	DWT_Init:
 119              	.LFB69:
 119:Src/main.c    ****   }
 120:Src/main.c    **** }
 121:Src/main.c    **** 
 122:Src/main.c    **** 
 123:Src/main.c    **** void DWT_Init(void) {
 120              		.loc 1 123 21 is_stmt 1 view -0
 121              		.cfi_startproc
 122              		@ args = 0, pretend = 0, frame = 0
 123              		@ frame_needed = 0, uses_anonymous_args = 0
 124              		@ link register save eliminated.
 124:Src/main.c    ****     if (!(DWT->CTRL & DWT_CTRL_CYCCNTENA_Msk)) {
 125              		.loc 1 124 5 view .LVU26
 126              		.loc 1 124 14 is_stmt 0 view .LVU27
 127 0000 084B     		ldr	r3, .L13
 128 0002 1B68     		ldr	r3, [r3]
 129              		.loc 1 124 8 view .LVU28
 130 0004 13F0010F 		tst	r3, #1
 131 0008 0BD1     		bne	.L11
 125:Src/main.c    ****         CoreDebug->DEMCR |= CoreDebug_DEMCR_TRCENA_Msk; // 启用DWT和ITM单元
 132              		.loc 1 125 9 is_stmt 1 view .LVU29
 133              		.loc 1 125 26 is_stmt 0 view .LVU30
 134 000a 074A     		ldr	r2, .L13+4
 135 000c D368     		ldr	r3, [r2, #12]
 136 000e 43F08073 		orr	r3, r3, #16777216
 137 0012 D360     		str	r3, [r2, #12]
 126:Src/main.c    ****         DWT->CYCCNT = 0; // 清零计数器
 138              		.loc 1 126 9 is_stmt 1 view .LVU31
 139              		.loc 1 126 21 is_stmt 0 view .LVU32
 140 0014 034B     		ldr	r3, .L13
 141 0016 0022     		movs	r2, #0
 142 0018 5A60     		str	r2, [r3, #4]
 127:Src/main.c    ****         DWT->CTRL |= DWT_CTRL_CYCCNTENA_Msk; // 启用CYCCNT
 143              		.loc 1 127 9 is_stmt 1 view .LVU33
 144              		.loc 1 127 19 is_stmt 0 view .LVU34
 145 001a 1A68     		ldr	r2, [r3]
 146 001c 42F00102 		orr	r2, r2, #1
 147 0020 1A60     		str	r2, [r3]
 148              	.L11:
 128:Src/main.c    ****     }
 129:Src/main.c    **** }
 149              		.loc 1 129 1 view .LVU35
 150 0022 7047     		bx	lr
 151              	.L14:
 152              		.align	2
 153              	.L13:
 154 0024 001000E0 		.word	-536866816
 155 0028 F0ED00E0 		.word	-536810000
 156              		.cfi_endproc
 157              	.LFE69:
 159              		.section	.text.DWT_Delay,"ax",%progbits
 160              		.align	1
ARM GAS  /tmp/ccZLh1YE.s 			page 6


 161              		.global	DWT_Delay
 162              		.syntax unified
 163              		.thumb
 164              		.thumb_func
 165              		.fpu softvfp
 167              	DWT_Delay:
 168              	.LVL8:
 169              	.LFB70:
 130:Src/main.c    **** void DWT_Delay(uint32_t us) {   // 微秒级延时
 170              		.loc 1 130 29 is_stmt 1 view -0
 171              		.cfi_startproc
 172              		@ args = 0, pretend = 0, frame = 0
 173              		@ frame_needed = 0, uses_anonymous_args = 0
 174              		@ link register save eliminated.
 131:Src/main.c    ****     uint32_t startTick = DWT->CYCCNT;
 175              		.loc 1 131 5 view .LVU37
 176              		.loc 1 131 14 is_stmt 0 view .LVU38
 177 0000 074B     		ldr	r3, .L17
 178 0002 5A68     		ldr	r2, [r3, #4]
 179              	.LVL9:
 132:Src/main.c    ****     uint32_t delayTicks = us * (SystemCoreClock / 1000000); // 转换微秒为tick数
 180              		.loc 1 132 5 is_stmt 1 view .LVU39
 181              		.loc 1 132 49 is_stmt 0 view .LVU40
 182 0004 074B     		ldr	r3, .L17+4
 183 0006 1B68     		ldr	r3, [r3]
 184 0008 0749     		ldr	r1, .L17+8
 185 000a A1FB0313 		umull	r1, r3, r1, r3
 186 000e 9B0C     		lsrs	r3, r3, #18
 187              		.loc 1 132 14 view .LVU41
 188 0010 00FB03F0 		mul	r0, r0, r3
 189              	.LVL10:
 133:Src/main.c    **** 
 134:Src/main.c    ****     while (DWT->CYCCNT - startTick < delayTicks);
 190              		.loc 1 134 5 is_stmt 1 view .LVU42
 191              	.L16:
 192              		.loc 1 134 49 discriminator 1 view .LVU43
 193              		.loc 1 134 11 discriminator 1 view .LVU44
 194              		.loc 1 134 15 is_stmt 0 discriminator 1 view .LVU45
 195 0014 024B     		ldr	r3, .L17
 196 0016 5B68     		ldr	r3, [r3, #4]
 197              		.loc 1 134 24 discriminator 1 view .LVU46
 198 0018 9B1A     		subs	r3, r3, r2
 199              		.loc 1 134 11 discriminator 1 view .LVU47
 200 001a 8342     		cmp	r3, r0
 201 001c FAD3     		bcc	.L16
 135:Src/main.c    **** }
 202              		.loc 1 135 1 view .LVU48
 203 001e 7047     		bx	lr
 204              	.L18:
 205              		.align	2
 206              	.L17:
 207 0020 001000E0 		.word	-536866816
 208 0024 00000000 		.word	SystemCoreClock
 209 0028 83DE1B43 		.word	1125899907
 210              		.cfi_endproc
 211              	.LFE70:
 213              		.section	.text.nmea_checksum,"ax",%progbits
ARM GAS  /tmp/ccZLh1YE.s 			page 7


 214              		.align	1
 215              		.global	nmea_checksum
 216              		.syntax unified
 217              		.thumb
 218              		.thumb_func
 219              		.fpu softvfp
 221              	nmea_checksum:
 222              	.LVL11:
 223              	.LFB71:
 136:Src/main.c    **** 
 137:Src/main.c    **** 
 138:Src/main.c    **** // 校验和计算函数
 139:Src/main.c    **** uint8_t nmea_checksum(const char* sentence) {
 224              		.loc 1 139 45 is_stmt 1 view -0
 225              		.cfi_startproc
 226              		@ args = 0, pretend = 0, frame = 0
 227              		@ frame_needed = 0, uses_anonymous_args = 0
 228              		@ link register save eliminated.
 229              		.loc 1 139 45 is_stmt 0 view .LVU50
 230 0000 0246     		mov	r2, r0
 140:Src/main.c    ****     uint8_t checksum = 0;
 231              		.loc 1 140 5 is_stmt 1 view .LVU51
 232              	.LVL12:
 141:Src/main.c    ****     if (*sentence == '$') {
 233              		.loc 1 141 5 view .LVU52
 234              		.loc 1 141 9 is_stmt 0 view .LVU53
 235 0002 0378     		ldrb	r3, [r0]	@ zero_extendqisi2
 236              		.loc 1 141 8 view .LVU54
 237 0004 242B     		cmp	r3, #36
 238 0006 07D0     		beq	.L24
 239              	.LVL13:
 240              	.L20:
 139:Src/main.c    ****     uint8_t checksum = 0;
 241              		.loc 1 139 45 view .LVU55
 242 0008 0020     		movs	r0, #0
 243              	.LVL14:
 244              	.L21:
 142:Src/main.c    ****         sentence++;  // Skip '$'
 143:Src/main.c    ****     }
 144:Src/main.c    ****     
 145:Src/main.c    ****     while (*sentence && *sentence != '*') {
 245              		.loc 1 145 11 is_stmt 1 view .LVU56
 246              		.loc 1 145 12 is_stmt 0 view .LVU57
 247 000a 1378     		ldrb	r3, [r2]	@ zero_extendqisi2
 248              		.loc 1 145 11 view .LVU58
 249 000c 33B1     		cbz	r3, .L22
 250              		.loc 1 145 22 discriminator 1 view .LVU59
 251 000e 2A2B     		cmp	r3, #42
 252 0010 04D0     		beq	.L22
 146:Src/main.c    ****         checksum ^= *sentence++;
 253              		.loc 1 146 9 is_stmt 1 view .LVU60
 254              		.loc 1 146 30 is_stmt 0 view .LVU61
 255 0012 0132     		adds	r2, r2, #1
 256              	.LVL15:
 257              		.loc 1 146 18 view .LVU62
 258 0014 5840     		eors	r0, r0, r3
 259              	.LVL16:
ARM GAS  /tmp/ccZLh1YE.s 			page 8


 260              		.loc 1 146 18 view .LVU63
 261 0016 F8E7     		b	.L21
 262              	.LVL17:
 263              	.L24:
 142:Src/main.c    ****         sentence++;  // Skip '$'
 264              		.loc 1 142 9 is_stmt 1 view .LVU64
 142:Src/main.c    ****         sentence++;  // Skip '$'
 265              		.loc 1 142 17 is_stmt 0 view .LVU65
 266 0018 0132     		adds	r2, r2, #1
 267              	.LVL18:
 142:Src/main.c    ****         sentence++;  // Skip '$'
 268              		.loc 1 142 17 view .LVU66
 269 001a F5E7     		b	.L20
 270              	.LVL19:
 271              	.L22:
 147:Src/main.c    ****     }
 148:Src/main.c    ****     return checksum;
 272              		.loc 1 148 5 is_stmt 1 view .LVU67
 149:Src/main.c    **** }
 273              		.loc 1 149 1 is_stmt 0 view .LVU68
 274 001c 7047     		bx	lr
 275              		.cfi_endproc
 276              	.LFE71:
 278              		.section	.rodata.GPRMC_Generator.str1.4,"aMS",%progbits,1
 279              		.align	2
 280              	.LC0:
 281 0000 24475052 		.ascii	"$GPRMC,%02d%02d%02d.00,A,%s,%s,0.00,0.00,%02d%02d%0"
 281      4D432C25 
 281      30326425 
 281      30326425 
 281      3032642E 
 282 0033 32642C2C 		.ascii	"2d,,,A*\000"
 282      2C412A00 
 283 003b 00       		.align	2
 284              	.LC1:
 285 003c 25303258 		.ascii	"%02X\015\012\000"
 285      0D0A00
 286              		.section	.text.GPRMC_Generator,"ax",%progbits
 287              		.align	1
 288              		.global	GPRMC_Generator
 289              		.syntax unified
 290              		.thumb
 291              		.thumb_func
 292              		.fpu softvfp
 294              	GPRMC_Generator:
 295              	.LVL20:
 296              	.LFB72:
 150:Src/main.c    **** 
 151:Src/main.c    **** 
 152:Src/main.c    **** 
 153:Src/main.c    **** // GPRMC Generator
 154:Src/main.c    **** void GPRMC_Generator(uint32_t input_baseTime) {
 297              		.loc 1 154 47 is_stmt 1 view -0
 298              		.cfi_startproc
 299              		@ args = 0, pretend = 0, frame = 0
 300              		@ frame_needed = 0, uses_anonymous_args = 0
 301              		.loc 1 154 47 is_stmt 0 view .LVU70
ARM GAS  /tmp/ccZLh1YE.s 			page 9


 302 0000 2DE9F041 		push	{r4, r5, r6, r7, r8, lr}
 303              	.LCFI1:
 304              		.cfi_def_cfa_offset 24
 305              		.cfi_offset 4, -24
 306              		.cfi_offset 5, -20
 307              		.cfi_offset 6, -16
 308              		.cfi_offset 7, -12
 309              		.cfi_offset 8, -8
 310              		.cfi_offset 14, -4
 311 0004 86B0     		sub	sp, sp, #24
 312              	.LCFI2:
 313              		.cfi_def_cfa_offset 48
 155:Src/main.c    ****     
 156:Src/main.c    ****     uint32_t culmulative_hms = 3600 * BASE_HOUR + 60 * BASE_MINUTE + BASE_SECOND;
 314              		.loc 1 156 5 is_stmt 1 view .LVU71
 315              		.loc 1 156 37 is_stmt 0 view .LVU72
 316 0006 324B     		ldr	r3, .L27
 317 0008 1C68     		ldr	r4, [r3]
 318              		.loc 1 156 54 view .LVU73
 319 000a 324B     		ldr	r3, .L27+4
 320 000c 1B68     		ldr	r3, [r3]
 321 000e C3EB0313 		rsb	r3, r3, r3, lsl #4
 322 0012 9B00     		lsls	r3, r3, #2
 323              		.loc 1 156 49 view .LVU74
 324 0014 4FF46160 		mov	r0, #3600
 325              	.LVL21:
 326              		.loc 1 156 49 view .LVU75
 327 0018 00FB0433 		mla	r3, r0, r4, r3
 328              		.loc 1 156 68 view .LVU76
 329 001c 2E4A     		ldr	r2, .L27+8
 330 001e 1468     		ldr	r4, [r2]
 331              		.loc 1 156 14 view .LVU77
 332 0020 1C44     		add	r4, r4, r3
 333              	.LVL22:
 157:Src/main.c    ****     uint32_t currentTime = culmulative_hms + (HAL_GetTick() + elapsed) / 1000;
 334              		.loc 1 157 5 is_stmt 1 view .LVU78
 335              		.loc 1 157 47 is_stmt 0 view .LVU79
 336 0022 FFF7FEFF 		bl	HAL_GetTick
 337              	.LVL23:
 338              		.loc 1 157 61 view .LVU80
 339 0026 2D4B     		ldr	r3, .L27+12
 340 0028 1B68     		ldr	r3, [r3]
 341 002a 1844     		add	r0, r0, r3
 342              		.loc 1 157 72 view .LVU81
 343 002c 2C4B     		ldr	r3, .L27+16
 344 002e A3FB0030 		umull	r3, r0, r3, r0
 345              		.loc 1 157 14 view .LVU82
 346 0032 04EB9010 		add	r0, r4, r0, lsr #6
 347              	.LVL24:
 158:Src/main.c    ****     uint8_t hour = (currentTime / 3600) % 24;
 348              		.loc 1 158 5 is_stmt 1 view .LVU83
 349              		.loc 1 158 33 is_stmt 0 view .LVU84
 350 0036 2B4B     		ldr	r3, .L27+20
 351 0038 A3FB0023 		umull	r2, r3, r3, r0
 352 003c DB0A     		lsrs	r3, r3, #11
 353              		.loc 1 158 41 view .LVU85
 354 003e 2A4D     		ldr	r5, .L27+24
ARM GAS  /tmp/ccZLh1YE.s 			page 10


 355 0040 A5FB0325 		umull	r2, r5, r5, r3
 356 0044 2D09     		lsrs	r5, r5, #4
 357 0046 05EB4505 		add	r5, r5, r5, lsl #1
 358 004a A3EBC505 		sub	r5, r3, r5, lsl #3
 359              	.LVL25:
 159:Src/main.c    ****     uint8_t minute = (currentTime / 60) % 60;
 360              		.loc 1 159 5 is_stmt 1 view .LVU86
 361              		.loc 1 159 35 is_stmt 0 view .LVU87
 362 004e 274C     		ldr	r4, .L27+28
 363              	.LVL26:
 364              		.loc 1 159 35 view .LVU88
 365 0050 A4FB0023 		umull	r2, r3, r4, r0
 366 0054 5B09     		lsrs	r3, r3, #5
 367              		.loc 1 159 41 view .LVU89
 368 0056 A4FB0324 		umull	r2, r4, r4, r3
 369 005a 6409     		lsrs	r4, r4, #5
 370 005c C4EB0414 		rsb	r4, r4, r4, lsl #4
 371 0060 A3EB8404 		sub	r4, r3, r4, lsl #2
 372              	.LVL27:
 160:Src/main.c    ****     uint8_t second = currentTime % 60;
 373              		.loc 1 160 5 is_stmt 1 view .LVU90
 374              		.loc 1 160 34 is_stmt 0 view .LVU91
 375 0064 C3EB0313 		rsb	r3, r3, r3, lsl #4
 376 0068 A0EB8306 		sub	r6, r0, r3, lsl #2
 377              	.LVL28:
 161:Src/main.c    **** 
 162:Src/main.c    ****     memset(gprmc_data, 0, sizeof(gprmc_data));
 378              		.loc 1 162 5 is_stmt 1 view .LVU92
 379 006c 204F     		ldr	r7, .L27+32
 380 006e 4FF06408 		mov	r8, #100
 381 0072 4246     		mov	r2, r8
 382 0074 0021     		movs	r1, #0
 383 0076 3846     		mov	r0, r7
 384              	.LVL29:
 385              		.loc 1 162 5 is_stmt 0 view .LVU93
 386 0078 FFF7FEFF 		bl	memset
 387              	.LVL30:
 163:Src/main.c    **** 
 164:Src/main.c    ****     // sprintf(gprmc_data, "$GPRMC,020008.00,A,2237.8840,N,11009.2400,E,0.00,0.00,120203,,,A*");
 165:Src/main.c    ****     sprintf(gprmc_data, "$GPRMC,%02d%02d%02d.00,A,%s,%s,0.00,0.00,%02d%02d%02d,,,A*",
 388              		.loc 1 165 5 is_stmt 1 view .LVU94
 389 007c 1D4B     		ldr	r3, .L27+36
 390 007e 1B68     		ldr	r3, [r3]
 391 0080 1D4A     		ldr	r2, .L27+40
 392 0082 A2FB0312 		umull	r1, r2, r2, r3
 393 0086 5209     		lsrs	r2, r2, #5
 394 0088 08FB1232 		mls	r2, r8, r2, r3
 395 008c 0592     		str	r2, [sp, #20]
 396 008e 1B4B     		ldr	r3, .L27+44
 397 0090 1B68     		ldr	r3, [r3]
 398 0092 0493     		str	r3, [sp, #16]
 399 0094 1A4B     		ldr	r3, .L27+48
 400 0096 1B68     		ldr	r3, [r3]
 401 0098 0393     		str	r3, [sp, #12]
 402 009a 1A4B     		ldr	r3, .L27+52
 403 009c 0293     		str	r3, [sp, #8]
 404 009e 1A4B     		ldr	r3, .L27+56
ARM GAS  /tmp/ccZLh1YE.s 			page 11


 405 00a0 0193     		str	r3, [sp, #4]
 406 00a2 F6B2     		uxtb	r6, r6
 407              		.loc 1 165 5 is_stmt 0 view .LVU95
 408 00a4 0096     		str	r6, [sp]
 409 00a6 E3B2     		uxtb	r3, r4
 410 00a8 EAB2     		uxtb	r2, r5
 411 00aa 1849     		ldr	r1, .L27+60
 412 00ac 3846     		mov	r0, r7
 413 00ae FFF7FEFF 		bl	sprintf
 414              	.LVL31:
 166:Src/main.c    ****             hour, minute, second, LATITUDE, LONGITUDE, BASE_DAY, BASE_MONTH, (BASE_YEAR % 100));
 167:Src/main.c    ****     
 168:Src/main.c    **** 
 169:Src/main.c    ****     // check sum
 170:Src/main.c    ****     uint8_t checksum = nmea_checksum(gprmc_data);
 415              		.loc 1 170 5 is_stmt 1 view .LVU96
 416              		.loc 1 170 24 is_stmt 0 view .LVU97
 417 00b2 3846     		mov	r0, r7
 418 00b4 FFF7FEFF 		bl	nmea_checksum
 419              	.LVL32:
 420 00b8 0446     		mov	r4, r0
 421              	.LVL33:
 171:Src/main.c    ****     
 172:Src/main.c    ****     int length = strlen(gprmc_data);
 422              		.loc 1 172 5 is_stmt 1 view .LVU98
 423              		.loc 1 172 18 is_stmt 0 view .LVU99
 424 00ba 3846     		mov	r0, r7
 425 00bc FFF7FEFF 		bl	strlen
 426              	.LVL34:
 173:Src/main.c    ****     sprintf(gprmc_data + length, "%02X\r\n", checksum);
 427              		.loc 1 173 5 is_stmt 1 view .LVU100
 428 00c0 2246     		mov	r2, r4
 429 00c2 1349     		ldr	r1, .L27+64
 430 00c4 3844     		add	r0, r0, r7
 431              	.LVL35:
 432              		.loc 1 173 5 is_stmt 0 view .LVU101
 433 00c6 FFF7FEFF 		bl	sprintf
 434              	.LVL36:
 174:Src/main.c    **** 
 175:Src/main.c    **** }
 435              		.loc 1 175 1 view .LVU102
 436 00ca 06B0     		add	sp, sp, #24
 437              	.LCFI3:
 438              		.cfi_def_cfa_offset 24
 439              		@ sp needed
 440 00cc BDE8F081 		pop	{r4, r5, r6, r7, r8, pc}
 441              	.LVL37:
 442              	.L28:
 443              		.loc 1 175 1 view .LVU103
 444              		.align	2
 445              	.L27:
 446 00d0 00000000 		.word	.LANCHOR0
 447 00d4 00000000 		.word	.LANCHOR1
 448 00d8 00000000 		.word	.LANCHOR2
 449 00dc 00000000 		.word	.LANCHOR3
 450 00e0 D34D6210 		.word	274877907
 451 00e4 C5B3A291 		.word	-1851608123
ARM GAS  /tmp/ccZLh1YE.s 			page 12


 452 00e8 ABAAAAAA 		.word	-1431655765
 453 00ec 89888888 		.word	-2004318071
 454 00f0 00000000 		.word	gprmc_data
 455 00f4 00000000 		.word	.LANCHOR4
 456 00f8 1F85EB51 		.word	1374389535
 457 00fc 00000000 		.word	.LANCHOR5
 458 0100 00000000 		.word	.LANCHOR6
 459 0104 00000000 		.word	.LANCHOR7
 460 0108 00000000 		.word	.LANCHOR8
 461 010c 00000000 		.word	.LC0
 462 0110 3C000000 		.word	.LC1
 463              		.cfi_endproc
 464              	.LFE72:
 466              		.section	.text.TIM2_IRQHandler,"ax",%progbits
 467              		.align	1
 468              		.global	TIM2_IRQHandler
 469              		.syntax unified
 470              		.thumb
 471              		.thumb_func
 472              		.fpu softvfp
 474              	TIM2_IRQHandler:
 475              	.LFB73:
 176:Src/main.c    **** 
 177:Src/main.c    **** 
 178:Src/main.c    **** 
 179:Src/main.c    **** 
 180:Src/main.c    **** volatile uint8_t enable_synchrone = 1;
 181:Src/main.c    **** 
 182:Src/main.c    **** void TIM2_IRQHandler(void)
 183:Src/main.c    **** {
 476              		.loc 1 183 1 is_stmt 1 view -0
 477              		.cfi_startproc
 478              		@ args = 0, pretend = 0, frame = 0
 479              		@ frame_needed = 0, uses_anonymous_args = 0
 480 0000 08B5     		push	{r3, lr}
 481              	.LCFI4:
 482              		.cfi_def_cfa_offset 8
 483              		.cfi_offset 3, -8
 484              		.cfi_offset 14, -4
 184:Src/main.c    ****     if(__HAL_TIM_GET_FLAG(&htim2, TIM_FLAG_TRIGGER) != RESET) {
 485              		.loc 1 184 5 view .LVU105
 486              		.loc 1 184 8 is_stmt 0 view .LVU106
 487 0002 124B     		ldr	r3, .L34
 488 0004 1B68     		ldr	r3, [r3]
 489 0006 1A69     		ldr	r2, [r3, #16]
 490              		.loc 1 184 7 view .LVU107
 491 0008 12F0400F 		tst	r2, #64
 492 000c 08D0     		beq	.L30
 185:Src/main.c    ****         __HAL_TIM_CLEAR_IT(&htim2, TIM_IT_TRIGGER);
 493              		.loc 1 185 9 is_stmt 1 view .LVU108
 494 000e 6FF04002 		mvn	r2, #64
 495 0012 1A61     		str	r2, [r3, #16]
 186:Src/main.c    **** 
 187:Src/main.c    ****         enable_synchrone = !enable_synchrone;
 496              		.loc 1 187 9 view .LVU109
 497              		.loc 1 187 28 is_stmt 0 view .LVU110
 498 0014 0E49     		ldr	r1, .L34+4
ARM GAS  /tmp/ccZLh1YE.s 			page 13


 499 0016 0A78     		ldrb	r2, [r1]	@ zero_extendqisi2
 500 0018 B2FA82F2 		clz	r2, r2
 501 001c 5209     		lsrs	r2, r2, #5
 502              		.loc 1 187 26 view .LVU111
 503 001e 0A70     		strb	r2, [r1]
 504              	.L30:
 188:Src/main.c    **** 
 189:Src/main.c    ****     }
 190:Src/main.c    **** 
 191:Src/main.c    ****     if (__HAL_TIM_GET_FLAG(&htim2, TIM_FLAG_UPDATE) != RESET) {
 505              		.loc 1 191 5 is_stmt 1 view .LVU112
 506              		.loc 1 191 9 is_stmt 0 view .LVU113
 507 0020 1A69     		ldr	r2, [r3, #16]
 508              		.loc 1 191 8 view .LVU114
 509 0022 12F0010F 		tst	r2, #1
 510 0026 05D0     		beq	.L29
 192:Src/main.c    ****         __HAL_TIM_CLEAR_IT(&htim2, TIM_IT_UPDATE);
 511              		.loc 1 192 9 is_stmt 1 view .LVU115
 512 0028 6FF00102 		mvn	r2, #1
 513 002c 1A61     		str	r2, [r3, #16]
 193:Src/main.c    **** 
 194:Src/main.c    ****         if(!enable_synchrone)
 514              		.loc 1 194 9 view .LVU116
 515              		.loc 1 194 12 is_stmt 0 view .LVU117
 516 002e 084B     		ldr	r3, .L34+4
 517 0030 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 518              		.loc 1 194 11 view .LVU118
 519 0032 03B1     		cbz	r3, .L33
 520              	.L29:
 195:Src/main.c    ****         {
 196:Src/main.c    ****             HAL_GPIO_WritePin(GPIOC, GPIO_PIN_5, RESET); 
 197:Src/main.c    ****             HAL_GPIO_WritePin(GPIOB, GPIO_PIN_2, SET); 
 198:Src/main.c    ****         } 
 199:Src/main.c    ****     }
 200:Src/main.c    **** }
 521              		.loc 1 200 1 view .LVU119
 522 0034 08BD     		pop	{r3, pc}
 523              	.L33:
 196:Src/main.c    ****             HAL_GPIO_WritePin(GPIOB, GPIO_PIN_2, SET); 
 524              		.loc 1 196 13 is_stmt 1 view .LVU120
 525 0036 0022     		movs	r2, #0
 526 0038 2021     		movs	r1, #32
 527 003a 0648     		ldr	r0, .L34+8
 528 003c FFF7FEFF 		bl	HAL_GPIO_WritePin
 529              	.LVL38:
 197:Src/main.c    ****         } 
 530              		.loc 1 197 13 view .LVU121
 531 0040 0122     		movs	r2, #1
 532 0042 0421     		movs	r1, #4
 533 0044 0448     		ldr	r0, .L34+12
 534 0046 FFF7FEFF 		bl	HAL_GPIO_WritePin
 535              	.LVL39:
 536              		.loc 1 200 1 is_stmt 0 view .LVU122
 537 004a F3E7     		b	.L29
 538              	.L35:
 539              		.align	2
 540              	.L34:
ARM GAS  /tmp/ccZLh1YE.s 			page 14


 541 004c 00000000 		.word	htim2
 542 0050 00000000 		.word	.LANCHOR9
 543 0054 00100140 		.word	1073811456
 544 0058 000C0140 		.word	1073810432
 545              		.cfi_endproc
 546              	.LFE73:
 548              		.section	.text.HAL_TIM_PeriodElapsedCallback,"ax",%progbits
 549              		.align	1
 550              		.global	HAL_TIM_PeriodElapsedCallback
 551              		.syntax unified
 552              		.thumb
 553              		.thumb_func
 554              		.fpu softvfp
 556              	HAL_TIM_PeriodElapsedCallback:
 557              	.LVL40:
 558              	.LFB74:
 201:Src/main.c    **** 
 202:Src/main.c    **** 
 203:Src/main.c    **** 
 204:Src/main.c    **** 
 205:Src/main.c    **** volatile uint8_t trigger_led_flag = 0;
 206:Src/main.c    **** int trigger_led_count = 0;
 207:Src/main.c    **** volatile uint8_t pps_flag = 0;
 208:Src/main.c    **** int pps_count = 0;
 209:Src/main.c    **** volatile uint8_t gprmc_led_flag = 0;
 210:Src/main.c    **** int gprmc_led_count = 0;
 211:Src/main.c    **** 
 212:Src/main.c    **** volatile uint8_t uart_transmit_flag = 0;
 213:Src/main.c    **** 
 214:Src/main.c    **** void HAL_TIM_PeriodElapsedCallback(TIM_HandleTypeDef *htim)
 215:Src/main.c    **** {
 559              		.loc 1 215 1 is_stmt 1 view -0
 560              		.cfi_startproc
 561              		@ args = 0, pretend = 0, frame = 0
 562              		@ frame_needed = 0, uses_anonymous_args = 0
 563              		.loc 1 215 1 is_stmt 0 view .LVU124
 564 0000 08B5     		push	{r3, lr}
 565              	.LCFI5:
 566              		.cfi_def_cfa_offset 8
 567              		.cfi_offset 3, -8
 568              		.cfi_offset 14, -4
 216:Src/main.c    ****     if (htim->Instance == TIM3) {
 569              		.loc 1 216 5 is_stmt 1 view .LVU125
 570              		.loc 1 216 13 is_stmt 0 view .LVU126
 571 0002 0268     		ldr	r2, [r0]
 572              		.loc 1 216 8 view .LVU127
 573 0004 134B     		ldr	r3, .L43
 574 0006 9A42     		cmp	r2, r3
 575 0008 00D0     		beq	.L41
 576              	.LVL41:
 577              	.L36:
 217:Src/main.c    ****       
 218:Src/main.c    ****         if (trigger_led_flag) {
 219:Src/main.c    **** 
 220:Src/main.c    ****             trigger_led_count ++;
 221:Src/main.c    ****             
 222:Src/main.c    ****         }
ARM GAS  /tmp/ccZLh1YE.s 			page 15


 223:Src/main.c    ****         if (pps_flag) {
 224:Src/main.c    **** 
 225:Src/main.c    ****             pps_count ++;
 226:Src/main.c    **** 
 227:Src/main.c    ****             if (pps_count >= 2)
 228:Src/main.c    ****             {
 229:Src/main.c    ****                 pps_flag = 0;
 230:Src/main.c    ****                 pps_count = 0;
 231:Src/main.c    ****                 HAL_GPIO_WritePin(GPIOB, GPIO_PIN_3, GPIO_PIN_RESET); // PPS LOW
 232:Src/main.c    ****             }
 233:Src/main.c    ****             
 234:Src/main.c    ****         }
 235:Src/main.c    ****         if (gprmc_led_flag) {
 236:Src/main.c    **** 
 237:Src/main.c    ****             gprmc_led_count ++;
 238:Src/main.c    ****             
 239:Src/main.c    ****         }
 240:Src/main.c    ****     }
 241:Src/main.c    **** 
 242:Src/main.c    **** }
 578              		.loc 1 242 1 view .LVU128
 579 000a 08BD     		pop	{r3, pc}
 580              	.LVL42:
 581              	.L41:
 218:Src/main.c    **** 
 582              		.loc 1 218 9 is_stmt 1 view .LVU129
 218:Src/main.c    **** 
 583              		.loc 1 218 13 is_stmt 0 view .LVU130
 584 000c 124B     		ldr	r3, .L43+4
 585 000e 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 218:Src/main.c    **** 
 586              		.loc 1 218 12 view .LVU131
 587 0010 1BB1     		cbz	r3, .L38
 220:Src/main.c    ****             
 588              		.loc 1 220 13 is_stmt 1 view .LVU132
 220:Src/main.c    ****             
 589              		.loc 1 220 31 is_stmt 0 view .LVU133
 590 0012 124A     		ldr	r2, .L43+8
 591 0014 1368     		ldr	r3, [r2]
 592 0016 0133     		adds	r3, r3, #1
 593 0018 1360     		str	r3, [r2]
 594              	.L38:
 223:Src/main.c    **** 
 595              		.loc 1 223 9 is_stmt 1 view .LVU134
 223:Src/main.c    **** 
 596              		.loc 1 223 13 is_stmt 0 view .LVU135
 597 001a 114B     		ldr	r3, .L43+12
 598 001c 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 223:Src/main.c    **** 
 599              		.loc 1 223 12 view .LVU136
 600 001e 2BB1     		cbz	r3, .L39
 225:Src/main.c    **** 
 601              		.loc 1 225 13 is_stmt 1 view .LVU137
 225:Src/main.c    **** 
 602              		.loc 1 225 23 is_stmt 0 view .LVU138
 603 0020 104A     		ldr	r2, .L43+16
 604 0022 1368     		ldr	r3, [r2]
ARM GAS  /tmp/ccZLh1YE.s 			page 16


 605 0024 0133     		adds	r3, r3, #1
 606 0026 1360     		str	r3, [r2]
 227:Src/main.c    ****             {
 607              		.loc 1 227 13 is_stmt 1 view .LVU139
 227:Src/main.c    ****             {
 608              		.loc 1 227 16 is_stmt 0 view .LVU140
 609 0028 012B     		cmp	r3, #1
 610 002a 08DC     		bgt	.L42
 611              	.LVL43:
 612              	.L39:
 235:Src/main.c    **** 
 613              		.loc 1 235 9 is_stmt 1 view .LVU141
 235:Src/main.c    **** 
 614              		.loc 1 235 13 is_stmt 0 view .LVU142
 615 002c 0E4B     		ldr	r3, .L43+20
 616 002e 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 235:Src/main.c    **** 
 617              		.loc 1 235 12 view .LVU143
 618 0030 002B     		cmp	r3, #0
 619 0032 EAD0     		beq	.L36
 237:Src/main.c    ****             
 620              		.loc 1 237 13 is_stmt 1 view .LVU144
 237:Src/main.c    ****             
 621              		.loc 1 237 29 is_stmt 0 view .LVU145
 622 0034 0D4A     		ldr	r2, .L43+24
 623 0036 1368     		ldr	r3, [r2]
 624 0038 0133     		adds	r3, r3, #1
 625 003a 1360     		str	r3, [r2]
 626              		.loc 1 242 1 view .LVU146
 627 003c E5E7     		b	.L36
 628              	.LVL44:
 629              	.L42:
 229:Src/main.c    ****                 pps_count = 0;
 630              		.loc 1 229 17 is_stmt 1 view .LVU147
 229:Src/main.c    ****                 pps_count = 0;
 631              		.loc 1 229 26 is_stmt 0 view .LVU148
 632 003e 0022     		movs	r2, #0
 633 0040 074B     		ldr	r3, .L43+12
 634 0042 1A70     		strb	r2, [r3]
 230:Src/main.c    ****                 HAL_GPIO_WritePin(GPIOB, GPIO_PIN_3, GPIO_PIN_RESET); // PPS LOW
 635              		.loc 1 230 17 is_stmt 1 view .LVU149
 230:Src/main.c    ****                 HAL_GPIO_WritePin(GPIOB, GPIO_PIN_3, GPIO_PIN_RESET); // PPS LOW
 636              		.loc 1 230 27 is_stmt 0 view .LVU150
 637 0044 074B     		ldr	r3, .L43+16
 638 0046 1A60     		str	r2, [r3]
 231:Src/main.c    ****             }
 639              		.loc 1 231 17 is_stmt 1 view .LVU151
 640 0048 0821     		movs	r1, #8
 641 004a 0948     		ldr	r0, .L43+28
 642              	.LVL45:
 231:Src/main.c    ****             }
 643              		.loc 1 231 17 is_stmt 0 view .LVU152
 644 004c FFF7FEFF 		bl	HAL_GPIO_WritePin
 645              	.LVL46:
 646 0050 ECE7     		b	.L39
 647              	.L44:
 648 0052 00BF     		.align	2
ARM GAS  /tmp/ccZLh1YE.s 			page 17


 649              	.L43:
 650 0054 00040040 		.word	1073742848
 651 0058 00000000 		.word	.LANCHOR10
 652 005c 00000000 		.word	.LANCHOR11
 653 0060 00000000 		.word	.LANCHOR12
 654 0064 00000000 		.word	.LANCHOR13
 655 0068 00000000 		.word	.LANCHOR14
 656 006c 00000000 		.word	.LANCHOR15
 657 0070 000C0140 		.word	1073810432
 658              		.cfi_endproc
 659              	.LFE74:
 661              		.section	.text.HAL_UART_TxCpltCallback,"ax",%progbits
 662              		.align	1
 663              		.global	HAL_UART_TxCpltCallback
 664              		.syntax unified
 665              		.thumb
 666              		.thumb_func
 667              		.fpu softvfp
 669              	HAL_UART_TxCpltCallback:
 670              	.LVL47:
 671              	.LFB76:
 243:Src/main.c    **** 
 244:Src/main.c    **** uint32_t pps_offset = 350;
 245:Src/main.c    **** uint32_t for_delay = 0;
 246:Src/main.c    **** // uint32_t pps_offset = 390;
 247:Src/main.c    **** // uint32_t for_delay = 35;
 248:Src/main.c    **** // uint32_t pps_offset = 0;
 249:Src/main.c    **** // uint32_t for_delay = 0;
 250:Src/main.c    **** void TIM4_IRQHandler(void) {
 251:Src/main.c    ****     if (__HAL_TIM_GET_FLAG(&htim4, TIM_FLAG_UPDATE) != RESET) {
 252:Src/main.c    ****         __HAL_TIM_CLEAR_IT(&htim4, TIM_IT_UPDATE);
 253:Src/main.c    ****         
 254:Src/main.c    ****         static uint32_t count_10hz = 0, count_1hz = 0;
 255:Src/main.c    ****         
 256:Src/main.c    ****         count_1hz ++;
 257:Src/main.c    ****         count_10hz ++;
 258:Src/main.c    ****         if (count_10hz >= 250) {
 259:Src/main.c    ****             DWT_Delay(pps_offset);
 260:Src/main.c    ****             for(int i = 0; i < for_delay; i ++);
 261:Src/main.c    **** 
 262:Src/main.c    ****             HAL_GPIO_TogglePin(GPIOC, GPIO_PIN_4); // Toggle Trigger signal
 263:Src/main.c    ****             trigger_flag = 1;
 264:Src/main.c    **** 
 265:Src/main.c    ****             if (count_1hz >= 5000) {
 266:Src/main.c    ****                 if(pps_flag) {
 267:Src/main.c    ****                     Error_Handler();
 268:Src/main.c    ****                 }
 269:Src/main.c    ****                 HAL_GPIO_WritePin(GPIOB, GPIO_PIN_3, GPIO_PIN_SET); // PPS HIGH
 270:Src/main.c    ****                 send_gps_flag = 1;    
 271:Src/main.c    ****                 pps_flag = 1;  // Set flag to turn off PPS in ISR after 100 ms
 272:Src/main.c    ****                 count_1hz = 0;          
 273:Src/main.c    ****             }
 274:Src/main.c    ****             count_10hz = 0;
 275:Src/main.c    ****         }
 276:Src/main.c    ****         
 277:Src/main.c    ****     }
 278:Src/main.c    **** }
ARM GAS  /tmp/ccZLh1YE.s 			page 18


 279:Src/main.c    **** 
 280:Src/main.c    **** 
 281:Src/main.c    **** void HAL_UART_TxCpltCallback(UART_HandleTypeDef *huart)
 282:Src/main.c    **** {
 672              		.loc 1 282 1 is_stmt 1 view -0
 673              		.cfi_startproc
 674              		@ args = 0, pretend = 0, frame = 0
 675              		@ frame_needed = 0, uses_anonymous_args = 0
 676              		@ link register save eliminated.
 283:Src/main.c    ****     if (huart->Instance == USART1 || huart->Instance == USART3)
 677              		.loc 1 283 5 view .LVU154
 678              		.loc 1 283 14 is_stmt 0 view .LVU155
 679 0000 0368     		ldr	r3, [r0]
 680              		.loc 1 283 8 view .LVU156
 681 0002 054A     		ldr	r2, .L48
 682 0004 9342     		cmp	r3, r2
 683 0006 03D0     		beq	.L46
 684              		.loc 1 283 35 discriminator 1 view .LVU157
 685 0008 A2F57042 		sub	r2, r2, #61440
 686 000c 9342     		cmp	r3, r2
 687 000e 02D1     		bne	.L45
 688              	.L46:
 284:Src/main.c    ****     {
 285:Src/main.c    ****         gprmc_led_flag = 0;
 689              		.loc 1 285 9 is_stmt 1 view .LVU158
 690              		.loc 1 285 24 is_stmt 0 view .LVU159
 691 0010 024B     		ldr	r3, .L48+4
 692 0012 0022     		movs	r2, #0
 693 0014 1A70     		strb	r2, [r3]
 694              	.L45:
 286:Src/main.c    ****     }
 287:Src/main.c    **** }
 695              		.loc 1 287 1 view .LVU160
 696 0016 7047     		bx	lr
 697              	.L49:
 698              		.align	2
 699              	.L48:
 700 0018 00380140 		.word	1073821696
 701 001c 00000000 		.word	.LANCHOR14
 702              		.cfi_endproc
 703              	.LFE76:
 705              		.section	.rodata.ProcessReceivedData.str1.4,"aMS",%progbits,1
 706              		.align	2
 707              	.LC2:
 708 0000 53657420 		.ascii	"Set pps_offset = %ld\012\000"
 708      7070735F 
 708      6F666673 
 708      6574203D 
 708      20256C64 
 709 0016 0000     		.align	2
 710              	.LC4:
 711 0018 24475052 		.ascii	"$GPRMC\000"
 711      4D4300
 712 001f 00       		.align	2
 713              	.LC5:
 714 0020 2C00     		.ascii	",\000"
 715 0022 0000     		.align	2
ARM GAS  /tmp/ccZLh1YE.s 			page 19


 716              	.LC6:
 717 0024 323000   		.ascii	"20\000"
 718 0027 00       		.align	2
 719              	.LC3:
 720 0028 4661696C 		.ascii	"Fail to set pps_offset! Invalid input as number.\012"
 720      20746F20 
 720      73657420 
 720      7070735F 
 720      6F666673 
 721 0059 00       		.ascii	"\000"
 722 005a 0000     		.align	2
 723              	.LC7:
 724 005c 4661696C 		.ascii	"Fail to set GPRMC data! Invalid GPRMC data!\000"
 724      20746F20 
 724      73657420 
 724      4750524D 
 724      43206461 
 725              		.section	.text.ProcessReceivedData,"ax",%progbits
 726              		.align	1
 727              		.global	ProcessReceivedData
 728              		.syntax unified
 729              		.thumb
 730              		.thumb_func
 731              		.fpu softvfp
 733              	ProcessReceivedData:
 734              	.LVL48:
 735              	.LFB77:
 288:Src/main.c    **** 
 289:Src/main.c    **** 
 290:Src/main.c    **** 
 291:Src/main.c    **** void ProcessReceivedData(uint8_t data) {
 736              		.loc 1 291 40 is_stmt 1 view -0
 737              		.cfi_startproc
 738              		@ args = 0, pretend = 0, frame = 112
 739              		@ frame_needed = 0, uses_anonymous_args = 0
 292:Src/main.c    ****     static char buffer[1024];
 740              		.loc 1 292 5 view .LVU162
 293:Src/main.c    ****     static int index = 0;
 741              		.loc 1 293 5 view .LVU163
 294:Src/main.c    **** 
 295:Src/main.c    ****     // 接收到换行符，处理数据
 296:Src/main.c    ****     if (data == '\n' || data == '\0') {
 742              		.loc 1 296 5 view .LVU164
 743              		.loc 1 296 8 is_stmt 0 view .LVU165
 744 0000 0A28     		cmp	r0, #10
 745 0002 02D0     		beq	.L51
 746              		.loc 1 296 22 discriminator 1 view .LVU166
 747 0004 0028     		cmp	r0, #0
 748 0006 40F04381 		bne	.L52
 749              	.L51:
 291:Src/main.c    ****     static char buffer[1024];
 750              		.loc 1 291 40 view .LVU167
 751 000a 70B5     		push	{r4, r5, r6, lr}
 752              	.LCFI6:
 753              		.cfi_def_cfa_offset 16
 754              		.cfi_offset 4, -16
 755              		.cfi_offset 5, -12
ARM GAS  /tmp/ccZLh1YE.s 			page 20


 756              		.cfi_offset 6, -8
 757              		.cfi_offset 14, -4
 758 000c 9CB0     		sub	sp, sp, #112
 759              	.LCFI7:
 760              		.cfi_def_cfa_offset 128
 297:Src/main.c    ****         buffer[index] = '\0'; 
 761              		.loc 1 297 9 is_stmt 1 view .LVU168
 762              		.loc 1 297 15 is_stmt 0 view .LVU169
 763 000e A74B     		ldr	r3, .L83
 764 0010 1A68     		ldr	r2, [r3]
 765              		.loc 1 297 23 view .LVU170
 766 0012 A74B     		ldr	r3, .L83+4
 767 0014 0021     		movs	r1, #0
 768 0016 9954     		strb	r1, [r3, r2]
 298:Src/main.c    ****         
 299:Src/main.c    ****         // 如果第一个字符是 #
 300:Src/main.c    ****         if (buffer[0] == '#') {
 769              		.loc 1 300 9 is_stmt 1 view .LVU171
 770              		.loc 1 300 19 is_stmt 0 view .LVU172
 771 0018 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 772              		.loc 1 300 12 view .LVU173
 773 001a 232B     		cmp	r3, #35
 774 001c 0DD0     		beq	.L78
 301:Src/main.c    ****             char *ptr;
 302:Src/main.c    ****             long num = strtol(buffer + 1, &ptr, 10);  // 尝试将字符串转换为长整型数字
 303:Src/main.c    ****             if (*ptr == '\0') {  // 检查转换后的剩余部分是否为空
 304:Src/main.c    ****                 pps_offset = (uint32_t)num;
 305:Src/main.c    **** 
 306:Src/main.c    ****                 char output_log[100];
 307:Src/main.c    ****                 sprintf(output_log, "Set pps_offset = %ld\n", pps_offset);
 308:Src/main.c    ****                 HAL_UART_Transmit(&huart1, (uint8_t *)output_log, strlen(output_log), 1000);
 309:Src/main.c    ****             } else {
 310:Src/main.c    **** 
 311:Src/main.c    ****                 char output_log[] = "Fail to set pps_offset! Invalid input as number.\n";
 312:Src/main.c    ****                 HAL_UART_Transmit(&huart1, (uint8_t *)output_log, strlen(output_log), 1000);
 313:Src/main.c    ****             }
 314:Src/main.c    ****         }
 315:Src/main.c    ****         // 如果第一个字符是 $
 316:Src/main.c    ****         else if (buffer[0] == '$') {
 775              		.loc 1 316 14 is_stmt 1 view .LVU174
 776              		.loc 1 316 17 is_stmt 0 view .LVU175
 777 001e 242B     		cmp	r3, #36
 778 0020 3AD0     		beq	.L79
 779              	.LVL49:
 780              	.L56:
 317:Src/main.c    ****             if (strncmp(buffer, "$GPRMC", 6) == 0) {
 318:Src/main.c    ****                 int commaCount = 0;
 319:Src/main.c    ****                 for (int i = 0; buffer[i]; i++) {
 320:Src/main.c    ****                     if (buffer[i] == ',') commaCount++;
 321:Src/main.c    ****                 }
 322:Src/main.c    ****                 // 检查逗号数量是否符合最低要求
 323:Src/main.c    ****                 if (commaCount >= 11) { // GPRMC 应该至少有 12 个字段，即至少 11 个逗
 324:Src/main.c    ****                     // 解析 GPRMC 数据
 325:Src/main.c    ****                     char *token = strtok(buffer, ",");
 326:Src/main.c    ****                     int tokenIndex = 0;
 327:Src/main.c    ****                     while (token != NULL) {
 328:Src/main.c    ****                         token = strtok(NULL, ",");
ARM GAS  /tmp/ccZLh1YE.s 			page 21


 329:Src/main.c    ****                         tokenIndex++;
 330:Src/main.c    **** 
 331:Src/main.c    ****                     
 332:Src/main.c    ****                         // 根据 GPRMC 的格式选择数据
 333:Src/main.c    ****                         switch (tokenIndex) {
 334:Src/main.c    ****                             case 1: // 时间
 335:Src/main.c    ****                                 BASE_HOUR = atoi(token) / 10000;
 336:Src/main.c    ****                                 BASE_MINUTE = (atoi(token) % 10000) / 100;
 337:Src/main.c    ****                                 BASE_SECOND = atoi(token) % 100;
 338:Src/main.c    ****                                 break;
 339:Src/main.c    ****                             case 3: // 纬度
 340:Src/main.c    ****                                 strncpy(LATITUDE, token, sizeof(LATITUDE) - 1);
 341:Src/main.c    ****                                 LATITUDE[sizeof(LATITUDE) - 1] = '\0';  // 确保字符串以null
 342:Src/main.c    ****                                 break;
 343:Src/main.c    ****                             case 4: // 纬度方向
 344:Src/main.c    ****                                 if (strlen(LATITUDE) + 2 < sizeof(LATITUDE)) {  // Check enough spa
 345:Src/main.c    ****                                     size_t len = strlen(LATITUDE);
 346:Src/main.c    ****                                     LATITUDE[len] = ',';           // Append comma directly
 347:Src/main.c    ****                                     LATITUDE[len + 1] = '\0';      // Null-terminate
 348:Src/main.c    ****                                     strncat(LATITUDE, token, sizeof(LATITUDE) - strlen(LATITUDE) - 
 349:Src/main.c    ****                                 }
 350:Src/main.c    ****                                 break;
 351:Src/main.c    ****                             case 5: // 经度
 352:Src/main.c    ****                                 strncpy(LONGITUDE, token, sizeof(LONGITUDE) - 1);
 353:Src/main.c    ****                                 LONGITUDE[sizeof(LONGITUDE) - 1] = '\0';  // 确保字符串以null
 354:Src/main.c    ****                                 break;
 355:Src/main.c    ****                             case 6: // 经度方向
 356:Src/main.c    ****                                 if (strlen(LONGITUDE) + 2 < sizeof(LONGITUDE)) {
 357:Src/main.c    ****                                     size_t len = strlen(LONGITUDE);
 358:Src/main.c    ****                                     LONGITUDE[len] = ',';          // Append comma directly
 359:Src/main.c    ****                                     LONGITUDE[len + 1] = '\0';     // Null-terminate
 360:Src/main.c    ****                                     strncat(LONGITUDE, token, sizeof(LONGITUDE) - strlen(LONGITUDE)
 361:Src/main.c    ****                                 }
 362:Src/main.c    ****                                 break;
 363:Src/main.c    ****                             case 9: // 日期，格式为 DDMMYY
 364:Src/main.c    ****                                 if (strlen(token) == 6) {
 365:Src/main.c    ****                                     char day[3], month[3], year[5];
 366:Src/main.c    ****                                     // Prepend '20' for the year
 367:Src/main.c    ****                                     strcpy(year, "20"); // Use strcpy here for clarity and safety
 368:Src/main.c    ****                                     strncat(year, token + 4, 2); // Append last two digits of the y
 369:Src/main.c    **** 
 370:Src/main.c    ****                                     strncpy(day, token, 2);
 371:Src/main.c    ****                                     day[2] = '\0'; // Ensure null termination
 372:Src/main.c    ****                                     strncpy(month, token + 2, 2);
 373:Src/main.c    ****                                     month[2] = '\0'; // Ensure null termination
 374:Src/main.c    **** 
 375:Src/main.c    ****                                     BASE_DAY = atoi(day);
 376:Src/main.c    ****                                     BASE_MONTH = atoi(month);
 377:Src/main.c    ****                                     BASE_YEAR = atoi(year);
 378:Src/main.c    ****                                 }
 379:Src/main.c    ****                                 break;
 380:Src/main.c    ****                         }
 381:Src/main.c    ****                     }
 382:Src/main.c    ****                     elapsed = baseTick - HAL_GetTick();
 383:Src/main.c    **** 
 384:Src/main.c    ****                 } else {
 385:Src/main.c    ****                     char output_log[] = "Fail to set GPRMC data! Invalid GPRMC data!";
ARM GAS  /tmp/ccZLh1YE.s 			page 22


 386:Src/main.c    ****                     HAL_UART_Transmit(&huart1, (uint8_t *)output_log, strlen(output_log), 100);
 387:Src/main.c    ****                 }
 388:Src/main.c    ****             }
 389:Src/main.c    ****         }
 390:Src/main.c    **** 
 391:Src/main.c    ****         while (__HAL_UART_GET_FLAG(&huart1, UART_FLAG_RXNE)) {
 781              		.loc 1 391 15 is_stmt 1 view .LVU176
 782              		.loc 1 391 16 is_stmt 0 view .LVU177
 783 0022 A44B     		ldr	r3, .L83+8
 784 0024 1B68     		ldr	r3, [r3]
 785 0026 1B68     		ldr	r3, [r3]
 786              		.loc 1 391 15 view .LVU178
 787 0028 13F0200F 		tst	r3, #32
 788 002c 00F02581 		beq	.L80
 789              	.LBB4:
 392:Src/main.c    ****             volatile uint32_t dummy = USART1->DR; // 替换USART1为相应的USART实例
 790              		.loc 1 392 13 is_stmt 1 view .LVU179
 791              		.loc 1 392 45 is_stmt 0 view .LVU180
 792 0030 A14B     		ldr	r3, .L83+12
 793 0032 5B68     		ldr	r3, [r3, #4]
 794              		.loc 1 392 31 view .LVU181
 795 0034 0393     		str	r3, [sp, #12]
 393:Src/main.c    ****             dummy;
 796              		.loc 1 393 13 is_stmt 1 view .LVU182
 797 0036 039B     		ldr	r3, [sp, #12]
 798 0038 F3E7     		b	.L56
 799              	.LVL50:
 800              	.L78:
 801              		.loc 1 393 13 is_stmt 0 view .LVU183
 802              	.LBE4:
 803              	.LBB5:
 301:Src/main.c    ****             long num = strtol(buffer + 1, &ptr, 10);  // 尝试将字符串转换为长整型数字
 804              		.loc 1 301 13 is_stmt 1 view .LVU184
 302:Src/main.c    ****             if (*ptr == '\0') {  // 检查转换后的剩余部分是否为空
 805              		.loc 1 302 13 view .LVU185
 302:Src/main.c    ****             if (*ptr == '\0') {  // 检查转换后的剩余部分是否为空
 806              		.loc 1 302 24 is_stmt 0 view .LVU186
 807 003a 0A22     		movs	r2, #10
 808 003c 02A9     		add	r1, sp, #8
 809 003e 9F48     		ldr	r0, .L83+16
 810              	.LVL51:
 302:Src/main.c    ****             if (*ptr == '\0') {  // 检查转换后的剩余部分是否为空
 811              		.loc 1 302 24 view .LVU187
 812 0040 FFF7FEFF 		bl	strtol
 813              	.LVL52:
 814 0044 0246     		mov	r2, r0
 815              	.LVL53:
 303:Src/main.c    ****                 pps_offset = (uint32_t)num;
 816              		.loc 1 303 13 is_stmt 1 view .LVU188
 303:Src/main.c    ****                 pps_offset = (uint32_t)num;
 817              		.loc 1 303 17 is_stmt 0 view .LVU189
 818 0046 029B     		ldr	r3, [sp, #8]
 819 0048 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 303:Src/main.c    ****                 pps_offset = (uint32_t)num;
 820              		.loc 1 303 16 view .LVU190
 821 004a 83B9     		cbnz	r3, .L54
 822              	.LBB6:
ARM GAS  /tmp/ccZLh1YE.s 			page 23


 304:Src/main.c    **** 
 823              		.loc 1 304 17 is_stmt 1 view .LVU191
 304:Src/main.c    **** 
 824              		.loc 1 304 28 is_stmt 0 view .LVU192
 825 004c 9C4B     		ldr	r3, .L83+20
 826 004e 1860     		str	r0, [r3]
 306:Src/main.c    ****                 sprintf(output_log, "Set pps_offset = %ld\n", pps_offset);
 827              		.loc 1 306 17 is_stmt 1 view .LVU193
 307:Src/main.c    ****                 HAL_UART_Transmit(&huart1, (uint8_t *)output_log, strlen(output_log), 1000);
 828              		.loc 1 307 17 view .LVU194
 829 0050 9C49     		ldr	r1, .L83+24
 830 0052 03A8     		add	r0, sp, #12
 831              	.LVL54:
 307:Src/main.c    ****                 HAL_UART_Transmit(&huart1, (uint8_t *)output_log, strlen(output_log), 1000);
 832              		.loc 1 307 17 is_stmt 0 view .LVU195
 833 0054 FFF7FEFF 		bl	sprintf
 834              	.LVL55:
 308:Src/main.c    ****             } else {
 835              		.loc 1 308 17 is_stmt 1 view .LVU196
 308:Src/main.c    ****             } else {
 836              		.loc 1 308 67 is_stmt 0 view .LVU197
 837 0058 03A8     		add	r0, sp, #12
 838 005a FFF7FEFF 		bl	strlen
 839              	.LVL56:
 308:Src/main.c    ****             } else {
 840              		.loc 1 308 17 view .LVU198
 841 005e 4FF47A73 		mov	r3, #1000
 842 0062 82B2     		uxth	r2, r0
 843 0064 03A9     		add	r1, sp, #12
 844 0066 9348     		ldr	r0, .L83+8
 845 0068 FFF7FEFF 		bl	HAL_UART_Transmit
 846              	.LVL57:
 847              	.LBE6:
 848 006c D9E7     		b	.L56
 849              	.LVL58:
 850              	.L54:
 851              	.LBB7:
 311:Src/main.c    ****                 HAL_UART_Transmit(&huart1, (uint8_t *)output_log, strlen(output_log), 1000);
 852              		.loc 1 311 17 is_stmt 1 discriminator 2 view .LVU199
 311:Src/main.c    ****                 HAL_UART_Transmit(&huart1, (uint8_t *)output_log, strlen(output_log), 1000);
 853              		.loc 1 311 22 is_stmt 0 discriminator 2 view .LVU200
 854 006e 03AC     		add	r4, sp, #12
 855 0070 954D     		ldr	r5, .L83+28
 856 0072 0FCD     		ldmia	r5!, {r0, r1, r2, r3}
 857              	.LVL59:
 311:Src/main.c    ****                 HAL_UART_Transmit(&huart1, (uint8_t *)output_log, strlen(output_log), 1000);
 858              		.loc 1 311 22 discriminator 2 view .LVU201
 859 0074 0FC4     		stmia	r4!, {r0, r1, r2, r3}
 860 0076 0FCD     		ldmia	r5!, {r0, r1, r2, r3}
 861 0078 0FC4     		stmia	r4!, {r0, r1, r2, r3}
 862 007a 0FCD     		ldmia	r5!, {r0, r1, r2, r3}
 863 007c 0FC4     		stmia	r4!, {r0, r1, r2, r3}
 864 007e 2B68     		ldr	r3, [r5]
 865 0080 2380     		strh	r3, [r4]	@ movhi
 312:Src/main.c    ****             }
 866              		.loc 1 312 17 is_stmt 1 discriminator 2 view .LVU202
 312:Src/main.c    ****             }
ARM GAS  /tmp/ccZLh1YE.s 			page 24


 867              		.loc 1 312 67 is_stmt 0 discriminator 2 view .LVU203
 868 0082 03A8     		add	r0, sp, #12
 869 0084 FFF7FEFF 		bl	strlen
 870              	.LVL60:
 312:Src/main.c    ****             }
 871              		.loc 1 312 17 discriminator 2 view .LVU204
 872 0088 4FF47A73 		mov	r3, #1000
 873 008c 82B2     		uxth	r2, r0
 874 008e 03A9     		add	r1, sp, #12
 875 0090 8848     		ldr	r0, .L83+8
 876 0092 FFF7FEFF 		bl	HAL_UART_Transmit
 877              	.LVL61:
 878 0096 C4E7     		b	.L56
 879              	.LVL62:
 880              	.L79:
 312:Src/main.c    ****             }
 881              		.loc 1 312 17 discriminator 2 view .LVU205
 882              	.LBE7:
 883              	.LBE5:
 317:Src/main.c    ****                 int commaCount = 0;
 884              		.loc 1 317 13 is_stmt 1 view .LVU206
 317:Src/main.c    ****                 int commaCount = 0;
 885              		.loc 1 317 17 is_stmt 0 view .LVU207
 886 0098 0622     		movs	r2, #6
 887 009a 8C49     		ldr	r1, .L83+32
 888 009c 8448     		ldr	r0, .L83+4
 889              	.LVL63:
 317:Src/main.c    ****                 int commaCount = 0;
 890              		.loc 1 317 17 view .LVU208
 891 009e FFF7FEFF 		bl	strncmp
 892              	.LVL64:
 317:Src/main.c    ****                 int commaCount = 0;
 893              		.loc 1 317 16 view .LVU209
 894 00a2 0546     		mov	r5, r0
 895 00a4 0028     		cmp	r0, #0
 896 00a6 BCD1     		bne	.L56
 897              	.LBB8:
 898              	.LBB9:
 319:Src/main.c    ****                     if (buffer[i] == ',') commaCount++;
 899              		.loc 1 319 26 view .LVU210
 900 00a8 0246     		mov	r2, r0
 901              	.LBE9:
 318:Src/main.c    ****                 for (int i = 0; buffer[i]; i++) {
 902              		.loc 1 318 21 view .LVU211
 903 00aa 0146     		mov	r1, r0
 904 00ac 00E0     		b	.L58
 905              	.LVL65:
 906              	.L59:
 907              	.LBB10:
 319:Src/main.c    ****                     if (buffer[i] == ',') commaCount++;
 908              		.loc 1 319 44 is_stmt 1 discriminator 2 view .LVU212
 319:Src/main.c    ****                     if (buffer[i] == ',') commaCount++;
 909              		.loc 1 319 45 is_stmt 0 discriminator 2 view .LVU213
 910 00ae 0132     		adds	r2, r2, #1
 911              	.LVL66:
 912              	.L58:
 319:Src/main.c    ****                     if (buffer[i] == ',') commaCount++;
ARM GAS  /tmp/ccZLh1YE.s 			page 25


 913              		.loc 1 319 33 is_stmt 1 discriminator 1 view .LVU214
 319:Src/main.c    ****                     if (buffer[i] == ',') commaCount++;
 914              		.loc 1 319 39 is_stmt 0 discriminator 1 view .LVU215
 915 00b0 7F4B     		ldr	r3, .L83+4
 916 00b2 9B5C     		ldrb	r3, [r3, r2]	@ zero_extendqisi2
 319:Src/main.c    ****                     if (buffer[i] == ',') commaCount++;
 917              		.loc 1 319 17 discriminator 1 view .LVU216
 918 00b4 1BB1     		cbz	r3, .L81
 320:Src/main.c    ****                 }
 919              		.loc 1 320 21 is_stmt 1 view .LVU217
 320:Src/main.c    ****                 }
 920              		.loc 1 320 24 is_stmt 0 view .LVU218
 921 00b6 2C2B     		cmp	r3, #44
 922 00b8 F9D1     		bne	.L59
 320:Src/main.c    ****                 }
 923              		.loc 1 320 43 is_stmt 1 discriminator 1 view .LVU219
 320:Src/main.c    ****                 }
 924              		.loc 1 320 53 is_stmt 0 discriminator 1 view .LVU220
 925 00ba 0131     		adds	r1, r1, #1
 926              	.LVL67:
 320:Src/main.c    ****                 }
 927              		.loc 1 320 53 discriminator 1 view .LVU221
 928 00bc F7E7     		b	.L59
 929              	.L81:
 320:Src/main.c    ****                 }
 930              		.loc 1 320 53 discriminator 1 view .LVU222
 931              	.LBE10:
 323:Src/main.c    ****                     // 解析 GPRMC 数据
 932              		.loc 1 323 17 is_stmt 1 view .LVU223
 323:Src/main.c    ****                     // 解析 GPRMC 数据
 933              		.loc 1 323 20 is_stmt 0 view .LVU224
 934 00be 0A29     		cmp	r1, #10
 935 00c0 40F3C780 		ble	.L61
 936              	.LBB11:
 325:Src/main.c    ****                     int tokenIndex = 0;
 937              		.loc 1 325 21 is_stmt 1 view .LVU225
 325:Src/main.c    ****                     int tokenIndex = 0;
 938              		.loc 1 325 35 is_stmt 0 view .LVU226
 939 00c4 8249     		ldr	r1, .L83+36
 940              	.LVL68:
 325:Src/main.c    ****                     int tokenIndex = 0;
 941              		.loc 1 325 35 view .LVU227
 942 00c6 7A48     		ldr	r0, .L83+4
 943 00c8 FFF7FEFF 		bl	strtok
 944              	.LVL69:
 325:Src/main.c    ****                     int tokenIndex = 0;
 945              		.loc 1 325 35 view .LVU228
 946 00cc 0446     		mov	r4, r0
 947              	.LVL70:
 326:Src/main.c    ****                     while (token != NULL) {
 948              		.loc 1 326 21 is_stmt 1 view .LVU229
 327:Src/main.c    ****                         token = strtok(NULL, ",");
 949              		.loc 1 327 21 view .LVU230
 327:Src/main.c    ****                         token = strtok(NULL, ",");
 950              		.loc 1 327 27 is_stmt 0 view .LVU231
 951 00ce 2AE0     		b	.L62
 952              	.LVL71:
ARM GAS  /tmp/ccZLh1YE.s 			page 26


 953              	.L70:
 335:Src/main.c    ****                                 BASE_MINUTE = (atoi(token) % 10000) / 100;
 954              		.loc 1 335 33 is_stmt 1 view .LVU232
 335:Src/main.c    ****                                 BASE_MINUTE = (atoi(token) % 10000) / 100;
 955              		.loc 1 335 45 is_stmt 0 view .LVU233
 956 00d0 FFF7FEFF 		bl	atoi
 957              	.LVL72:
 335:Src/main.c    ****                                 BASE_MINUTE = (atoi(token) % 10000) / 100;
 958              		.loc 1 335 57 view .LVU234
 959 00d4 7F4E     		ldr	r6, .L83+40
 960 00d6 86FB0032 		smull	r3, r2, r6, r0
 961 00da C317     		asrs	r3, r0, #31
 962 00dc C3EB2233 		rsb	r3, r3, r2, asr #12
 335:Src/main.c    ****                                 BASE_MINUTE = (atoi(token) % 10000) / 100;
 963              		.loc 1 335 43 view .LVU235
 964 00e0 7D4A     		ldr	r2, .L83+44
 965 00e2 1360     		str	r3, [r2]
 336:Src/main.c    ****                                 BASE_SECOND = atoi(token) % 100;
 966              		.loc 1 336 33 is_stmt 1 view .LVU236
 336:Src/main.c    ****                                 BASE_SECOND = atoi(token) % 100;
 967              		.loc 1 336 48 is_stmt 0 view .LVU237
 968 00e4 2046     		mov	r0, r4
 969 00e6 FFF7FEFF 		bl	atoi
 970              	.LVL73:
 336:Src/main.c    ****                                 BASE_SECOND = atoi(token) % 100;
 971              		.loc 1 336 60 view .LVU238
 972 00ea 86FB0036 		smull	r3, r6, r6, r0
 973 00ee C317     		asrs	r3, r0, #31
 974 00f0 C3EB2633 		rsb	r3, r3, r6, asr #12
 975 00f4 42F21072 		movw	r2, #10000
 976 00f8 02FB1303 		mls	r3, r2, r3, r0
 336:Src/main.c    ****                                 BASE_SECOND = atoi(token) % 100;
 977              		.loc 1 336 69 view .LVU239
 978 00fc 774E     		ldr	r6, .L83+48
 979 00fe 86FB0312 		smull	r1, r2, r6, r3
 980 0102 DB17     		asrs	r3, r3, #31
 981 0104 C3EB6213 		rsb	r3, r3, r2, asr #5
 336:Src/main.c    ****                                 BASE_SECOND = atoi(token) % 100;
 982              		.loc 1 336 45 view .LVU240
 983 0108 754A     		ldr	r2, .L83+52
 984 010a 1360     		str	r3, [r2]
 337:Src/main.c    ****                                 break;
 985              		.loc 1 337 33 is_stmt 1 view .LVU241
 337:Src/main.c    ****                                 break;
 986              		.loc 1 337 47 is_stmt 0 view .LVU242
 987 010c 2046     		mov	r0, r4
 988 010e FFF7FEFF 		bl	atoi
 989              	.LVL74:
 337:Src/main.c    ****                                 break;
 990              		.loc 1 337 59 view .LVU243
 991 0112 86FB0036 		smull	r3, r6, r6, r0
 992 0116 C317     		asrs	r3, r0, #31
 993 0118 C3EB6613 		rsb	r3, r3, r6, asr #5
 994 011c 6422     		movs	r2, #100
 995 011e 02FB1303 		mls	r3, r2, r3, r0
 337:Src/main.c    ****                                 break;
 996              		.loc 1 337 45 view .LVU244
ARM GAS  /tmp/ccZLh1YE.s 			page 27


 997 0122 704A     		ldr	r2, .L83+56
 998 0124 1360     		str	r3, [r2]
 338:Src/main.c    ****                             case 3: // 纬度
 999              		.loc 1 338 33 is_stmt 1 view .LVU245
 1000              	.LVL75:
 1001              	.L62:
 327:Src/main.c    ****                         token = strtok(NULL, ",");
 1002              		.loc 1 327 27 view .LVU246
 1003 0126 002C     		cmp	r4, #0
 1004 0128 00F08B80 		beq	.L82
 328:Src/main.c    ****                         tokenIndex++;
 1005              		.loc 1 328 25 view .LVU247
 328:Src/main.c    ****                         tokenIndex++;
 1006              		.loc 1 328 33 is_stmt 0 view .LVU248
 1007 012c 6849     		ldr	r1, .L83+36
 1008 012e 0020     		movs	r0, #0
 1009 0130 FFF7FEFF 		bl	strtok
 1010              	.LVL76:
 1011 0134 0446     		mov	r4, r0
 1012              	.LVL77:
 329:Src/main.c    **** 
 1013              		.loc 1 329 25 is_stmt 1 view .LVU249
 329:Src/main.c    **** 
 1014              		.loc 1 329 35 is_stmt 0 view .LVU250
 1015 0136 0135     		adds	r5, r5, #1
 1016              	.LVL78:
 333:Src/main.c    ****                             case 1: // 时间
 1017              		.loc 1 333 25 is_stmt 1 view .LVU251
 1018 0138 6B1E     		subs	r3, r5, #1
 1019 013a 082B     		cmp	r3, #8
 1020 013c F3D8     		bhi	.L62
 1021 013e 01A2     		adr	r2, .L65
 1022 0140 52F823F0 		ldr	pc, [r2, r3, lsl #2]
 1023              		.p2align 2
 1024              	.L65:
 1025 0144 D1000000 		.word	.L70+1
 1026 0148 27010000 		.word	.L62+1
 1027 014c 69010000 		.word	.L69+1
 1028 0150 7B010000 		.word	.L68+1
 1029 0154 A7010000 		.word	.L67+1
 1030 0158 B9010000 		.word	.L66+1
 1031 015c 27010000 		.word	.L62+1
 1032 0160 27010000 		.word	.L62+1
 1033 0164 E5010000 		.word	.L64+1
 1034              		.p2align 1
 1035              	.L69:
 340:Src/main.c    ****                                 LATITUDE[sizeof(LATITUDE) - 1] = '\0';  // 确保字符串以null
 1036              		.loc 1 340 33 view .LVU252
 1037 0168 5F4E     		ldr	r6, .L83+60
 1038 016a 1322     		movs	r2, #19
 1039 016c 0146     		mov	r1, r0
 1040 016e 3046     		mov	r0, r6
 1041              	.LVL79:
 340:Src/main.c    ****                                 LATITUDE[sizeof(LATITUDE) - 1] = '\0';  // 确保字符串以null
 1042              		.loc 1 340 33 is_stmt 0 view .LVU253
 1043 0170 FFF7FEFF 		bl	strncpy
 1044              	.LVL80:
ARM GAS  /tmp/ccZLh1YE.s 			page 28


 341:Src/main.c    ****                                 break;
 1045              		.loc 1 341 33 is_stmt 1 view .LVU254
 341:Src/main.c    ****                                 break;
 1046              		.loc 1 341 64 is_stmt 0 view .LVU255
 1047 0174 0023     		movs	r3, #0
 1048 0176 F374     		strb	r3, [r6, #19]
 342:Src/main.c    ****                             case 4: // 纬度方向
 1049              		.loc 1 342 33 is_stmt 1 view .LVU256
 1050 0178 D5E7     		b	.L62
 1051              	.LVL81:
 1052              	.L68:
 344:Src/main.c    ****                                     size_t len = strlen(LATITUDE);
 1053              		.loc 1 344 33 view .LVU257
 344:Src/main.c    ****                                     size_t len = strlen(LATITUDE);
 1054              		.loc 1 344 37 is_stmt 0 view .LVU258
 1055 017a 5B48     		ldr	r0, .L83+60
 1056              	.LVL82:
 344:Src/main.c    ****                                     size_t len = strlen(LATITUDE);
 1057              		.loc 1 344 37 view .LVU259
 1058 017c FFF7FEFF 		bl	strlen
 1059              	.LVL83:
 344:Src/main.c    ****                                     size_t len = strlen(LATITUDE);
 1060              		.loc 1 344 54 view .LVU260
 1061 0180 831C     		adds	r3, r0, #2
 344:Src/main.c    ****                                     size_t len = strlen(LATITUDE);
 1062              		.loc 1 344 36 view .LVU261
 1063 0182 132B     		cmp	r3, #19
 1064 0184 CFD8     		bhi	.L62
 1065              	.LBB12:
 345:Src/main.c    ****                                     LATITUDE[len] = ',';           // Append comma directly
 1066              		.loc 1 345 37 is_stmt 1 view .LVU262
 1067              	.LVL84:
 346:Src/main.c    ****                                     LATITUDE[len + 1] = '\0';      // Null-terminate
 1068              		.loc 1 346 37 view .LVU263
 346:Src/main.c    ****                                     LATITUDE[len + 1] = '\0';      // Null-terminate
 1069              		.loc 1 346 51 is_stmt 0 view .LVU264
 1070 0186 584E     		ldr	r6, .L83+60
 1071 0188 2C23     		movs	r3, #44
 1072 018a 3354     		strb	r3, [r6, r0]
 347:Src/main.c    ****                                     strncat(LATITUDE, token, sizeof(LATITUDE) - strlen(LATITUDE) - 
 1073              		.loc 1 347 37 is_stmt 1 view .LVU265
 347:Src/main.c    ****                                     strncat(LATITUDE, token, sizeof(LATITUDE) - strlen(LATITUDE) - 
 1074              		.loc 1 347 50 is_stmt 0 view .LVU266
 1075 018c 0130     		adds	r0, r0, #1
 1076              	.LVL85:
 347:Src/main.c    ****                                     strncat(LATITUDE, token, sizeof(LATITUDE) - strlen(LATITUDE) - 
 1077              		.loc 1 347 55 view .LVU267
 1078 018e 0023     		movs	r3, #0
 1079 0190 3354     		strb	r3, [r6, r0]
 348:Src/main.c    ****                                 }
 1080              		.loc 1 348 37 is_stmt 1 view .LVU268
 348:Src/main.c    ****                                 }
 1081              		.loc 1 348 81 is_stmt 0 view .LVU269
 1082 0192 3046     		mov	r0, r6
 1083              	.LVL86:
 348:Src/main.c    ****                                 }
 1084              		.loc 1 348 81 view .LVU270
ARM GAS  /tmp/ccZLh1YE.s 			page 29


 1085 0194 FFF7FEFF 		bl	strlen
 1086              	.LVL87:
 348:Src/main.c    ****                                 }
 1087              		.loc 1 348 37 view .LVU271
 1088 0198 C0F11302 		rsb	r2, r0, #19
 1089 019c 2146     		mov	r1, r4
 1090 019e 3046     		mov	r0, r6
 1091 01a0 FFF7FEFF 		bl	strncat
 1092              	.LVL88:
 1093 01a4 BFE7     		b	.L62
 1094              	.LVL89:
 1095              	.L67:
 348:Src/main.c    ****                                 }
 1096              		.loc 1 348 37 view .LVU272
 1097              	.LBE12:
 352:Src/main.c    ****                                 LONGITUDE[sizeof(LONGITUDE) - 1] = '\0';  // 确保字符串以null
 1098              		.loc 1 352 33 is_stmt 1 view .LVU273
 1099 01a6 514E     		ldr	r6, .L83+64
 1100 01a8 1322     		movs	r2, #19
 1101 01aa 0146     		mov	r1, r0
 1102 01ac 3046     		mov	r0, r6
 1103              	.LVL90:
 352:Src/main.c    ****                                 LONGITUDE[sizeof(LONGITUDE) - 1] = '\0';  // 确保字符串以null
 1104              		.loc 1 352 33 is_stmt 0 view .LVU274
 1105 01ae FFF7FEFF 		bl	strncpy
 1106              	.LVL91:
 353:Src/main.c    ****                                 break;
 1107              		.loc 1 353 33 is_stmt 1 view .LVU275
 353:Src/main.c    ****                                 break;
 1108              		.loc 1 353 66 is_stmt 0 view .LVU276
 1109 01b2 0023     		movs	r3, #0
 1110 01b4 F374     		strb	r3, [r6, #19]
 354:Src/main.c    ****                             case 6: // 经度方向
 1111              		.loc 1 354 33 is_stmt 1 view .LVU277
 1112 01b6 B6E7     		b	.L62
 1113              	.LVL92:
 1114              	.L66:
 356:Src/main.c    ****                                     size_t len = strlen(LONGITUDE);
 1115              		.loc 1 356 33 view .LVU278
 356:Src/main.c    ****                                     size_t len = strlen(LONGITUDE);
 1116              		.loc 1 356 37 is_stmt 0 view .LVU279
 1117 01b8 4C48     		ldr	r0, .L83+64
 1118              	.LVL93:
 356:Src/main.c    ****                                     size_t len = strlen(LONGITUDE);
 1119              		.loc 1 356 37 view .LVU280
 1120 01ba FFF7FEFF 		bl	strlen
 1121              	.LVL94:
 356:Src/main.c    ****                                     size_t len = strlen(LONGITUDE);
 1122              		.loc 1 356 55 view .LVU281
 1123 01be 831C     		adds	r3, r0, #2
 356:Src/main.c    ****                                     size_t len = strlen(LONGITUDE);
 1124              		.loc 1 356 36 view .LVU282
 1125 01c0 132B     		cmp	r3, #19
 1126 01c2 B0D8     		bhi	.L62
 1127              	.LBB13:
 357:Src/main.c    ****                                     LONGITUDE[len] = ',';          // Append comma directly
 1128              		.loc 1 357 37 is_stmt 1 view .LVU283
ARM GAS  /tmp/ccZLh1YE.s 			page 30


 1129              	.LVL95:
 358:Src/main.c    ****                                     LONGITUDE[len + 1] = '\0';     // Null-terminate
 1130              		.loc 1 358 37 view .LVU284
 358:Src/main.c    ****                                     LONGITUDE[len + 1] = '\0';     // Null-terminate
 1131              		.loc 1 358 52 is_stmt 0 view .LVU285
 1132 01c4 494E     		ldr	r6, .L83+64
 1133 01c6 2C23     		movs	r3, #44
 1134 01c8 3354     		strb	r3, [r6, r0]
 359:Src/main.c    ****                                     strncat(LONGITUDE, token, sizeof(LONGITUDE) - strlen(LONGITUDE)
 1135              		.loc 1 359 37 is_stmt 1 view .LVU286
 359:Src/main.c    ****                                     strncat(LONGITUDE, token, sizeof(LONGITUDE) - strlen(LONGITUDE)
 1136              		.loc 1 359 51 is_stmt 0 view .LVU287
 1137 01ca 0130     		adds	r0, r0, #1
 1138              	.LVL96:
 359:Src/main.c    ****                                     strncat(LONGITUDE, token, sizeof(LONGITUDE) - strlen(LONGITUDE)
 1139              		.loc 1 359 56 view .LVU288
 1140 01cc 0023     		movs	r3, #0
 1141 01ce 3354     		strb	r3, [r6, r0]
 360:Src/main.c    ****                                 }
 1142              		.loc 1 360 37 is_stmt 1 view .LVU289
 360:Src/main.c    ****                                 }
 1143              		.loc 1 360 83 is_stmt 0 view .LVU290
 1144 01d0 3046     		mov	r0, r6
 1145              	.LVL97:
 360:Src/main.c    ****                                 }
 1146              		.loc 1 360 83 view .LVU291
 1147 01d2 FFF7FEFF 		bl	strlen
 1148              	.LVL98:
 360:Src/main.c    ****                                 }
 1149              		.loc 1 360 37 view .LVU292
 1150 01d6 C0F11302 		rsb	r2, r0, #19
 1151 01da 2146     		mov	r1, r4
 1152 01dc 3046     		mov	r0, r6
 1153 01de FFF7FEFF 		bl	strncat
 1154              	.LVL99:
 1155 01e2 A0E7     		b	.L62
 1156              	.LVL100:
 1157              	.L64:
 360:Src/main.c    ****                                 }
 1158              		.loc 1 360 37 view .LVU293
 1159              	.LBE13:
 364:Src/main.c    ****                                     char day[3], month[3], year[5];
 1160              		.loc 1 364 33 is_stmt 1 view .LVU294
 364:Src/main.c    ****                                     char day[3], month[3], year[5];
 1161              		.loc 1 364 37 is_stmt 0 view .LVU295
 1162 01e4 FFF7FEFF 		bl	strlen
 1163              	.LVL101:
 364:Src/main.c    ****                                     char day[3], month[3], year[5];
 1164              		.loc 1 364 36 view .LVU296
 1165 01e8 0628     		cmp	r0, #6
 1166 01ea 9CD1     		bne	.L62
 1167              	.LBB14:
 365:Src/main.c    ****                                     // Prepend '20' for the year
 1168              		.loc 1 365 37 is_stmt 1 view .LVU297
 367:Src/main.c    ****                                     strncat(year, token + 4, 2); // Append last two digits of the y
 1169              		.loc 1 367 37 view .LVU298
 1170 01ec 404B     		ldr	r3, .L83+68
ARM GAS  /tmp/ccZLh1YE.s 			page 31


 1171 01ee 1B68     		ldr	r3, [r3]
 1172 01f0 ADF80C30 		strh	r3, [sp, #12]	@ movhi
 1173 01f4 1B0C     		lsrs	r3, r3, #16
 1174 01f6 8DF80E30 		strb	r3, [sp, #14]
 368:Src/main.c    **** 
 1175              		.loc 1 368 37 view .LVU299
 1176 01fa 0222     		movs	r2, #2
 1177 01fc 211D     		adds	r1, r4, #4
 1178 01fe 03A8     		add	r0, sp, #12
 1179 0200 FFF7FEFF 		bl	strncat
 1180              	.LVL102:
 370:Src/main.c    ****                                     day[2] = '\0'; // Ensure null termination
 1181              		.loc 1 370 37 view .LVU300
 1182 0204 0222     		movs	r2, #2
 1183 0206 2146     		mov	r1, r4
 1184 0208 01A8     		add	r0, sp, #4
 1185 020a FFF7FEFF 		bl	strncpy
 1186              	.LVL103:
 371:Src/main.c    ****                                     strncpy(month, token + 2, 2);
 1187              		.loc 1 371 37 view .LVU301
 371:Src/main.c    ****                                     strncpy(month, token + 2, 2);
 1188              		.loc 1 371 44 is_stmt 0 view .LVU302
 1189 020e 0026     		movs	r6, #0
 1190 0210 8DF80660 		strb	r6, [sp, #6]
 372:Src/main.c    ****                                     month[2] = '\0'; // Ensure null termination
 1191              		.loc 1 372 37 is_stmt 1 view .LVU303
 1192 0214 0222     		movs	r2, #2
 1193 0216 A118     		adds	r1, r4, r2
 1194 0218 02A8     		add	r0, sp, #8
 1195 021a FFF7FEFF 		bl	strncpy
 1196              	.LVL104:
 373:Src/main.c    **** 
 1197              		.loc 1 373 37 view .LVU304
 373:Src/main.c    **** 
 1198              		.loc 1 373 46 is_stmt 0 view .LVU305
 1199 021e 8DF80A60 		strb	r6, [sp, #10]
 375:Src/main.c    ****                                     BASE_MONTH = atoi(month);
 1200              		.loc 1 375 37 is_stmt 1 view .LVU306
 375:Src/main.c    ****                                     BASE_MONTH = atoi(month);
 1201              		.loc 1 375 48 is_stmt 0 view .LVU307
 1202 0222 01A8     		add	r0, sp, #4
 1203 0224 FFF7FEFF 		bl	atoi
 1204              	.LVL105:
 375:Src/main.c    ****                                     BASE_MONTH = atoi(month);
 1205              		.loc 1 375 46 view .LVU308
 1206 0228 324B     		ldr	r3, .L83+72
 1207 022a 1860     		str	r0, [r3]
 376:Src/main.c    ****                                     BASE_YEAR = atoi(year);
 1208              		.loc 1 376 37 is_stmt 1 view .LVU309
 376:Src/main.c    ****                                     BASE_YEAR = atoi(year);
 1209              		.loc 1 376 50 is_stmt 0 view .LVU310
 1210 022c 02A8     		add	r0, sp, #8
 1211 022e FFF7FEFF 		bl	atoi
 1212              	.LVL106:
 376:Src/main.c    ****                                     BASE_YEAR = atoi(year);
 1213              		.loc 1 376 48 view .LVU311
 1214 0232 314B     		ldr	r3, .L83+76
ARM GAS  /tmp/ccZLh1YE.s 			page 32


 1215 0234 1860     		str	r0, [r3]
 377:Src/main.c    ****                                 }
 1216              		.loc 1 377 37 is_stmt 1 view .LVU312
 377:Src/main.c    ****                                 }
 1217              		.loc 1 377 49 is_stmt 0 view .LVU313
 1218 0236 03A8     		add	r0, sp, #12
 1219 0238 FFF7FEFF 		bl	atoi
 1220              	.LVL107:
 377:Src/main.c    ****                                 }
 1221              		.loc 1 377 47 view .LVU314
 1222 023c 2F4B     		ldr	r3, .L83+80
 1223 023e 1860     		str	r0, [r3]
 1224 0240 71E7     		b	.L62
 1225              	.L82:
 377:Src/main.c    ****                                 }
 1226              		.loc 1 377 47 view .LVU315
 1227              	.LBE14:
 382:Src/main.c    **** 
 1228              		.loc 1 382 21 is_stmt 1 view .LVU316
 382:Src/main.c    **** 
 1229              		.loc 1 382 40 is_stmt 0 view .LVU317
 1230 0242 2F4B     		ldr	r3, .L83+84
 1231 0244 1C68     		ldr	r4, [r3]
 1232              	.LVL108:
 382:Src/main.c    **** 
 1233              		.loc 1 382 42 view .LVU318
 1234 0246 FFF7FEFF 		bl	HAL_GetTick
 1235              	.LVL109:
 382:Src/main.c    **** 
 1236              		.loc 1 382 40 view .LVU319
 1237 024a 241A     		subs	r4, r4, r0
 382:Src/main.c    **** 
 1238              		.loc 1 382 29 view .LVU320
 1239 024c 2D4B     		ldr	r3, .L83+88
 1240 024e 1C60     		str	r4, [r3]
 1241              	.LBE11:
 1242 0250 E7E6     		b	.L56
 1243              	.LVL110:
 1244              	.L61:
 1245              	.LBB15:
 385:Src/main.c    ****                     HAL_UART_Transmit(&huart1, (uint8_t *)output_log, strlen(output_log), 100);
 1246              		.loc 1 385 21 is_stmt 1 discriminator 5 view .LVU321
 385:Src/main.c    ****                     HAL_UART_Transmit(&huart1, (uint8_t *)output_log, strlen(output_log), 100);
 1247              		.loc 1 385 26 is_stmt 0 discriminator 5 view .LVU322
 1248 0252 03AC     		add	r4, sp, #12
 1249 0254 2C4D     		ldr	r5, .L83+92
 1250 0256 0FCD     		ldmia	r5!, {r0, r1, r2, r3}
 1251              	.LVL111:
 385:Src/main.c    ****                     HAL_UART_Transmit(&huart1, (uint8_t *)output_log, strlen(output_log), 100);
 1252              		.loc 1 385 26 discriminator 5 view .LVU323
 1253 0258 0FC4     		stmia	r4!, {r0, r1, r2, r3}
 1254 025a 0FCD     		ldmia	r5!, {r0, r1, r2, r3}
 1255 025c 0FC4     		stmia	r4!, {r0, r1, r2, r3}
 1256 025e 95E80700 		ldm	r5, {r0, r1, r2}
 1257 0262 84E80700 		stm	r4, {r0, r1, r2}
 386:Src/main.c    ****                 }
 1258              		.loc 1 386 21 is_stmt 1 discriminator 5 view .LVU324
ARM GAS  /tmp/ccZLh1YE.s 			page 33


 386:Src/main.c    ****                 }
 1259              		.loc 1 386 71 is_stmt 0 discriminator 5 view .LVU325
 1260 0266 03A8     		add	r0, sp, #12
 1261 0268 FFF7FEFF 		bl	strlen
 1262              	.LVL112:
 386:Src/main.c    ****                 }
 1263              		.loc 1 386 21 discriminator 5 view .LVU326
 1264 026c 6423     		movs	r3, #100
 1265 026e 82B2     		uxth	r2, r0
 1266 0270 03A9     		add	r1, sp, #12
 1267 0272 1048     		ldr	r0, .L83+8
 1268 0274 FFF7FEFF 		bl	HAL_UART_Transmit
 1269              	.LVL113:
 1270 0278 D3E6     		b	.L56
 1271              	.L80:
 386:Src/main.c    ****                 }
 1272              		.loc 1 386 21 discriminator 5 view .LVU327
 1273              	.LBE15:
 1274              	.LBE8:
 394:Src/main.c    ****         }
 395:Src/main.c    ****         memset(buffer, 0, sizeof(buffer)); // 显式清空缓冲区
 1275              		.loc 1 395 9 is_stmt 1 view .LVU328
 1276 027a 4FF48062 		mov	r2, #1024
 1277 027e 0021     		movs	r1, #0
 1278 0280 0B48     		ldr	r0, .L83+4
 1279 0282 FFF7FEFF 		bl	memset
 1280              	.LVL114:
 396:Src/main.c    ****         index = 0; // 重置缓冲区索引
 1281              		.loc 1 396 9 view .LVU329
 1282              		.loc 1 396 15 is_stmt 0 view .LVU330
 1283 0286 094B     		ldr	r3, .L83
 1284 0288 0022     		movs	r2, #0
 1285 028a 1A60     		str	r2, [r3]
 397:Src/main.c    **** 
 398:Src/main.c    ****     } else {
 399:Src/main.c    ****         // 持续接收数据
 400:Src/main.c    ****         if (index < (sizeof(buffer) - 1)) {
 401:Src/main.c    ****             buffer[index++] = data;
 402:Src/main.c    ****         }
 403:Src/main.c    ****     }
 404:Src/main.c    **** }
 1286              		.loc 1 404 1 view .LVU331
 1287 028c 1CB0     		add	sp, sp, #112
 1288              	.LCFI8:
 1289              		.cfi_def_cfa_offset 16
 1290              		@ sp needed
 1291 028e 70BD     		pop	{r4, r5, r6, pc}
 1292              	.LVL115:
 1293              	.L52:
 1294              	.LCFI9:
 1295              		.cfi_def_cfa_offset 0
 1296              		.cfi_restore 4
 1297              		.cfi_restore 5
 1298              		.cfi_restore 6
 1299              		.cfi_restore 14
 400:Src/main.c    ****             buffer[index++] = data;
 1300              		.loc 1 400 9 is_stmt 1 view .LVU332
ARM GAS  /tmp/ccZLh1YE.s 			page 34


 400:Src/main.c    ****             buffer[index++] = data;
 1301              		.loc 1 400 19 is_stmt 0 view .LVU333
 1302 0290 064B     		ldr	r3, .L83
 1303 0292 1B68     		ldr	r3, [r3]
 400:Src/main.c    ****             buffer[index++] = data;
 1304              		.loc 1 400 12 view .LVU334
 1305 0294 40F2FE32 		movw	r2, #1022
 1306 0298 9342     		cmp	r3, r2
 1307 029a 05D8     		bhi	.L76
 401:Src/main.c    ****         }
 1308              		.loc 1 401 13 is_stmt 1 view .LVU335
 401:Src/main.c    ****         }
 1309              		.loc 1 401 25 is_stmt 0 view .LVU336
 1310 029c 591C     		adds	r1, r3, #1
 1311 029e 034A     		ldr	r2, .L83
 1312 02a0 1160     		str	r1, [r2]
 401:Src/main.c    ****         }
 1313              		.loc 1 401 29 view .LVU337
 1314 02a2 034A     		ldr	r2, .L83+4
 1315 02a4 D054     		strb	r0, [r2, r3]
 1316              		.loc 1 404 1 view .LVU338
 1317 02a6 7047     		bx	lr
 1318              	.L76:
 1319              		.loc 1 404 1 view .LVU339
 1320 02a8 7047     		bx	lr
 1321              	.L84:
 1322 02aa 00BF     		.align	2
 1323              	.L83:
 1324 02ac 00000000 		.word	.LANCHOR16
 1325 02b0 00000000 		.word	.LANCHOR17
 1326 02b4 00000000 		.word	huart1
 1327 02b8 00380140 		.word	1073821696
 1328 02bc 01000000 		.word	.LANCHOR17+1
 1329 02c0 00000000 		.word	.LANCHOR18
 1330 02c4 00000000 		.word	.LC2
 1331 02c8 28000000 		.word	.LC3
 1332 02cc 18000000 		.word	.LC4
 1333 02d0 20000000 		.word	.LC5
 1334 02d4 AD8BDB68 		.word	1759218605
 1335 02d8 00000000 		.word	.LANCHOR0
 1336 02dc 1F85EB51 		.word	1374389535
 1337 02e0 00000000 		.word	.LANCHOR1
 1338 02e4 00000000 		.word	.LANCHOR2
 1339 02e8 00000000 		.word	.LANCHOR8
 1340 02ec 00000000 		.word	.LANCHOR7
 1341 02f0 24000000 		.word	.LC6
 1342 02f4 00000000 		.word	.LANCHOR6
 1343 02f8 00000000 		.word	.LANCHOR5
 1344 02fc 00000000 		.word	.LANCHOR4
 1345 0300 00000000 		.word	.LANCHOR19
 1346 0304 00000000 		.word	.LANCHOR3
 1347 0308 5C000000 		.word	.LC7
 1348              		.cfi_endproc
 1349              	.LFE77:
 1351              		.section	.text.HAL_UART_RxCpltCallback,"ax",%progbits
 1352              		.align	1
 1353              		.global	HAL_UART_RxCpltCallback
ARM GAS  /tmp/ccZLh1YE.s 			page 35


 1354              		.syntax unified
 1355              		.thumb
 1356              		.thumb_func
 1357              		.fpu softvfp
 1359              	HAL_UART_RxCpltCallback:
 1360              	.LVL116:
 1361              	.LFB78:
 405:Src/main.c    **** void HAL_UART_RxCpltCallback(UART_HandleTypeDef *huart)
 406:Src/main.c    **** {
 1362              		.loc 1 406 1 is_stmt 1 view -0
 1363              		.cfi_startproc
 1364              		@ args = 0, pretend = 0, frame = 0
 1365              		@ frame_needed = 0, uses_anonymous_args = 0
 1366              		.loc 1 406 1 is_stmt 0 view .LVU341
 1367 0000 38B5     		push	{r3, r4, r5, lr}
 1368              	.LCFI10:
 1369              		.cfi_def_cfa_offset 16
 1370              		.cfi_offset 3, -16
 1371              		.cfi_offset 4, -12
 1372              		.cfi_offset 5, -8
 1373              		.cfi_offset 14, -4
 407:Src/main.c    ****     if (huart->Instance == USART1) 
 1374              		.loc 1 407 5 is_stmt 1 view .LVU342
 1375              		.loc 1 407 14 is_stmt 0 view .LVU343
 1376 0002 0268     		ldr	r2, [r0]
 1377              		.loc 1 407 8 view .LVU344
 1378 0004 074B     		ldr	r3, .L89
 1379 0006 9A42     		cmp	r2, r3
 1380 0008 00D0     		beq	.L88
 1381              	.LVL117:
 1382              	.L85:
 408:Src/main.c    ****     {
 409:Src/main.c    ****         ProcessReceivedData(uart_rx_buffer); 
 410:Src/main.c    ****         HAL_UART_Receive_IT(huart, &uart_rx_buffer, 1);
 411:Src/main.c    ****     }
 412:Src/main.c    **** }
 1383              		.loc 1 412 1 view .LVU345
 1384 000a 38BD     		pop	{r3, r4, r5, pc}
 1385              	.LVL118:
 1386              	.L88:
 1387              		.loc 1 412 1 view .LVU346
 1388 000c 0446     		mov	r4, r0
 409:Src/main.c    ****         HAL_UART_Receive_IT(huart, &uart_rx_buffer, 1);
 1389              		.loc 1 409 9 is_stmt 1 view .LVU347
 1390 000e 064D     		ldr	r5, .L89+4
 1391 0010 2878     		ldrb	r0, [r5]	@ zero_extendqisi2
 1392              	.LVL119:
 409:Src/main.c    ****         HAL_UART_Receive_IT(huart, &uart_rx_buffer, 1);
 1393              		.loc 1 409 9 is_stmt 0 view .LVU348
 1394 0012 FFF7FEFF 		bl	ProcessReceivedData
 1395              	.LVL120:
 410:Src/main.c    ****     }
 1396              		.loc 1 410 9 is_stmt 1 view .LVU349
 1397 0016 0122     		movs	r2, #1
 1398 0018 2946     		mov	r1, r5
 1399 001a 2046     		mov	r0, r4
 1400 001c FFF7FEFF 		bl	HAL_UART_Receive_IT
ARM GAS  /tmp/ccZLh1YE.s 			page 36


 1401              	.LVL121:
 1402              		.loc 1 412 1 is_stmt 0 view .LVU350
 1403 0020 F3E7     		b	.L85
 1404              	.L90:
 1405 0022 00BF     		.align	2
 1406              	.L89:
 1407 0024 00380140 		.word	1073821696
 1408 0028 00000000 		.word	uart_rx_buffer
 1409              		.cfi_endproc
 1410              	.LFE78:
 1412              		.section	.text.Error_Handler,"ax",%progbits
 1413              		.align	1
 1414              		.global	Error_Handler
 1415              		.syntax unified
 1416              		.thumb
 1417              		.thumb_func
 1418              		.fpu softvfp
 1420              	Error_Handler:
 1421              	.LFB81:
 413:Src/main.c    **** 
 414:Src/main.c    **** 
 415:Src/main.c    **** 
 416:Src/main.c    **** 
 417:Src/main.c    **** /* USER CODE END 0 */
 418:Src/main.c    **** 
 419:Src/main.c    **** /**
 420:Src/main.c    ****   * @brief  The application entry point.
 421:Src/main.c    ****   * @retval int
 422:Src/main.c    ****   */
 423:Src/main.c    **** int main(void)
 424:Src/main.c    **** {
 425:Src/main.c    **** 
 426:Src/main.c    ****   /* USER CODE BEGIN 1 */
 427:Src/main.c    **** 
 428:Src/main.c    ****   /* USER CODE END 1 */
 429:Src/main.c    **** 
 430:Src/main.c    ****   /* MCU Configuration--------------------------------------------------------*/
 431:Src/main.c    **** 
 432:Src/main.c    ****   /* Reset of all peripherals, Initializes the Flash interface and the Systick. */
 433:Src/main.c    ****   HAL_Init();
 434:Src/main.c    **** 
 435:Src/main.c    ****   /* USER CODE BEGIN Init */
 436:Src/main.c    **** 
 437:Src/main.c    ****   /* USER CODE END Init */
 438:Src/main.c    **** 
 439:Src/main.c    ****   /* Configure the system clock */
 440:Src/main.c    ****   SystemClock_Config();
 441:Src/main.c    **** 
 442:Src/main.c    ****   /* USER CODE BEGIN SysInit */
 443:Src/main.c    ****   DWT_Init();
 444:Src/main.c    ****   /* USER CODE END SysInit */
 445:Src/main.c    **** 
 446:Src/main.c    ****   /* Initialize all configured peripherals */
 447:Src/main.c    ****   MX_GPIO_Init();
 448:Src/main.c    ****   MX_DMA_Init();
 449:Src/main.c    ****   MX_TIM2_Init();
 450:Src/main.c    ****   MX_USART1_UART_Init();
ARM GAS  /tmp/ccZLh1YE.s 			page 37


 451:Src/main.c    ****   MX_USART3_UART_Init();
 452:Src/main.c    ****   MX_TIM3_Init();
 453:Src/main.c    ****   MX_TIM4_Init();
 454:Src/main.c    ****   /* USER CODE BEGIN 2 */
 455:Src/main.c    ****   
 456:Src/main.c    **** 
 457:Src/main.c    **** 
 458:Src/main.c    ****   if (HAL_TIM_Base_Start_IT(&htim3) != HAL_OK) {
 459:Src/main.c    ****     Error_Handler();
 460:Src/main.c    ****   }
 461:Src/main.c    ****   HAL_NVIC_SetPriority(TIM3_IRQn, 1, 1);
 462:Src/main.c    ****   HAL_NVIC_EnableIRQ(TIM3_IRQn);
 463:Src/main.c    **** 
 464:Src/main.c    ****   if (HAL_TIM_Base_Start_IT(&htim4) != HAL_OK) {
 465:Src/main.c    ****     Error_Handler();
 466:Src/main.c    ****   }
 467:Src/main.c    ****   HAL_NVIC_SetPriority(TIM4_IRQn, 0, 0);
 468:Src/main.c    ****   HAL_NVIC_EnableIRQ(TIM4_IRQn);
 469:Src/main.c    ****   baseTick = HAL_GetTick();
 470:Src/main.c    **** 
 471:Src/main.c    ****   if (HAL_TIM_Base_Start_IT(&htim2) != HAL_OK) {
 472:Src/main.c    ****     Error_Handler();  
 473:Src/main.c    ****   }
 474:Src/main.c    ****   HAL_NVIC_SetPriority(TIM2_IRQn, 2, 2);
 475:Src/main.c    ****   HAL_NVIC_EnableIRQ(TIM2_IRQn);
 476:Src/main.c    **** 
 477:Src/main.c    ****   // if (HAL_TIM_Base_Start_IT(&htim5) != HAL_OK) {
 478:Src/main.c    ****   //   Error_Handler();
 479:Src/main.c    ****   // }
 480:Src/main.c    ****   // HAL_NVIC_SetPriority(TIM5_IRQn, 0, 1);
 481:Src/main.c    ****   //   HAL_NVIC_EnableIRQ(TIM5_IRQn);
 482:Src/main.c    ****   
 483:Src/main.c    **** 
 484:Src/main.c    ****   if (HAL_UART_Receive_IT(&huart1, &uart_rx_buffer, 1) != HAL_OK) {
 485:Src/main.c    ****       Error_Handler(); 
 486:Src/main.c    ****   }
 487:Src/main.c    **** 
 488:Src/main.c    **** 
 489:Src/main.c    ****   while (1) {
 490:Src/main.c    **** 
 491:Src/main.c    ****       while(enable_synchrone) {
 492:Src/main.c    **** 
 493:Src/main.c    ****           if (trigger_led_flag && trigger_led_count >= 3)
 494:Src/main.c    ****           {
 495:Src/main.c    ****               trigger_led_flag = 0;
 496:Src/main.c    ****               trigger_led_count = 0;
 497:Src/main.c    ****               HAL_GPIO_WritePin(GPIOB, GPIO_PIN_2, GPIO_PIN_SET); // Trigger LED OFF
 498:Src/main.c    ****           }
 499:Src/main.c    ****           
 500:Src/main.c    ****           if (!gprmc_led_flag && gprmc_led_count >= 5)
 501:Src/main.c    ****           {
 502:Src/main.c    ****               gprmc_led_count = 0;
 503:Src/main.c    ****               HAL_GPIO_WritePin(GPIOC, GPIO_PIN_5, GPIO_PIN_SET); // LED GPRMC Sending OFF
 504:Src/main.c    ****           }
 505:Src/main.c    ****         
 506:Src/main.c    **** 
 507:Src/main.c    ****           if (trigger_flag) {
ARM GAS  /tmp/ccZLh1YE.s 			page 38


 508:Src/main.c    **** 
 509:Src/main.c    ****               trigger_flag = 0;
 510:Src/main.c    **** 
 511:Src/main.c    ****               // 点亮PB2表示触发信号已发送
 512:Src/main.c    ****               HAL_GPIO_WritePin(GPIOB, GPIO_PIN_2, GPIO_PIN_RESET); // Trigger LED
 513:Src/main.c    ****               trigger_led_flag = 1;
 514:Src/main.c    ****               
 515:Src/main.c    ****           }
 516:Src/main.c    **** 
 517:Src/main.c    ****           if (send_gps_flag) {
 518:Src/main.c    **** 
 519:Src/main.c    **** 
 520:Src/main.c    ****               send_gps_flag = 0;
 521:Src/main.c    **** 
 522:Src/main.c    ****               HAL_GPIO_WritePin(GPIOC, GPIO_PIN_5, GPIO_PIN_RESET); // LED GPRMC Sending ON
 523:Src/main.c    ****               gprmc_led_flag = 1;
 524:Src/main.c    **** 
 525:Src/main.c    ****               GPRMC_Generator(baseTime);
 526:Src/main.c    ****               HAL_UART_Transmit(&huart1, (uint8_t *)gprmc_data, strlen(gprmc_data), 6);
 527:Src/main.c    ****               // HAL_UART_Transmit_DMA(&huart1, (uint8_t *)gprmc_data, strlen(gprmc_data));
 528:Src/main.c    ****               // HAL_UART_Transmit(&huart3, (uint8_t *)gprmc_data, strlen(gprmc_data), 70);
 529:Src/main.c    ****               HAL_UART_Transmit_DMA(&huart3, (uint8_t *)gprmc_data, strlen(gprmc_data));
 530:Src/main.c    ****               
 531:Src/main.c    ****               
 532:Src/main.c    ****               
 533:Src/main.c    ****           }
 534:Src/main.c    ****       }
 535:Src/main.c    ****   }
 536:Src/main.c    **** 
 537:Src/main.c    ****   /* USER CODE END 2 */
 538:Src/main.c    **** 
 539:Src/main.c    ****   /* Infinite loop */
 540:Src/main.c    ****   /* USER CODE BEGIN WHILE */
 541:Src/main.c    ****   while (1)
 542:Src/main.c    ****   {
 543:Src/main.c    ****     /* USER CODE END WHILE */
 544:Src/main.c    **** 
 545:Src/main.c    ****     /* USER CODE BEGIN 3 */
 546:Src/main.c    ****   }
 547:Src/main.c    ****   /* USER CODE END 3 */
 548:Src/main.c    **** }
 549:Src/main.c    **** 
 550:Src/main.c    **** /**
 551:Src/main.c    ****   * @brief System Clock Configuration
 552:Src/main.c    ****   * @retval None
 553:Src/main.c    ****   */
 554:Src/main.c    **** void SystemClock_Config(void)
 555:Src/main.c    **** {
 556:Src/main.c    ****   RCC_OscInitTypeDef RCC_OscInitStruct = {0};
 557:Src/main.c    ****   RCC_ClkInitTypeDef RCC_ClkInitStruct = {0};
 558:Src/main.c    **** 
 559:Src/main.c    ****   /** Initializes the RCC Oscillators according to the specified parameters
 560:Src/main.c    ****   * in the RCC_OscInitTypeDef structure.
 561:Src/main.c    ****   */
 562:Src/main.c    ****   RCC_OscInitStruct.OscillatorType = RCC_OSCILLATORTYPE_HSE;
 563:Src/main.c    ****   RCC_OscInitStruct.HSEState = RCC_HSE_ON;
 564:Src/main.c    ****   RCC_OscInitStruct.HSEPredivValue = RCC_HSE_PREDIV_DIV1;
ARM GAS  /tmp/ccZLh1YE.s 			page 39


 565:Src/main.c    ****   RCC_OscInitStruct.HSIState = RCC_HSI_ON;
 566:Src/main.c    ****   RCC_OscInitStruct.PLL.PLLState = RCC_PLL_ON;
 567:Src/main.c    ****   RCC_OscInitStruct.PLL.PLLSource = RCC_PLLSOURCE_HSE;
 568:Src/main.c    ****   RCC_OscInitStruct.PLL.PLLMUL = RCC_PLL_MUL9;
 569:Src/main.c    ****   if (HAL_RCC_OscConfig(&RCC_OscInitStruct) != HAL_OK)
 570:Src/main.c    ****   {
 571:Src/main.c    ****     Error_Handler();
 572:Src/main.c    ****   }
 573:Src/main.c    **** 
 574:Src/main.c    ****   /** Initializes the CPU, AHB and APB buses clocks
 575:Src/main.c    ****   */
 576:Src/main.c    ****   RCC_ClkInitStruct.ClockType = RCC_CLOCKTYPE_HCLK|RCC_CLOCKTYPE_SYSCLK
 577:Src/main.c    ****                               |RCC_CLOCKTYPE_PCLK1|RCC_CLOCKTYPE_PCLK2;
 578:Src/main.c    ****   RCC_ClkInitStruct.SYSCLKSource = RCC_SYSCLKSOURCE_PLLCLK;
 579:Src/main.c    ****   RCC_ClkInitStruct.AHBCLKDivider = RCC_SYSCLK_DIV1;
 580:Src/main.c    ****   RCC_ClkInitStruct.APB1CLKDivider = RCC_HCLK_DIV2;
 581:Src/main.c    ****   RCC_ClkInitStruct.APB2CLKDivider = RCC_HCLK_DIV1;
 582:Src/main.c    **** 
 583:Src/main.c    ****   if (HAL_RCC_ClockConfig(&RCC_ClkInitStruct, FLASH_LATENCY_2) != HAL_OK)
 584:Src/main.c    ****   {
 585:Src/main.c    ****     Error_Handler();
 586:Src/main.c    ****   }
 587:Src/main.c    **** }
 588:Src/main.c    **** 
 589:Src/main.c    **** /* USER CODE BEGIN 4 */
 590:Src/main.c    **** 
 591:Src/main.c    **** /* USER CODE END 4 */
 592:Src/main.c    **** 
 593:Src/main.c    **** /**
 594:Src/main.c    ****   * @brief  This function is executed in case of error occurrence.
 595:Src/main.c    ****   * @retval None
 596:Src/main.c    ****   */
 597:Src/main.c    **** void Error_Handler(void)
 598:Src/main.c    **** {
 1422              		.loc 1 598 1 is_stmt 1 view -0
 1423              		.cfi_startproc
 1424              		@ Volatile: function does not return.
 1425              		@ args = 0, pretend = 0, frame = 0
 1426              		@ frame_needed = 0, uses_anonymous_args = 0
 1427 0000 08B5     		push	{r3, lr}
 1428              	.LCFI11:
 1429              		.cfi_def_cfa_offset 8
 1430              		.cfi_offset 3, -8
 1431              		.cfi_offset 14, -4
 599:Src/main.c    ****   /* USER CODE BEGIN Error_Handler_Debug */
 600:Src/main.c    ****   Error_Handler_Custom();
 1432              		.loc 1 600 3 view .LVU352
 1433 0002 FFF7FEFF 		bl	Error_Handler_Custom
 1434              	.LVL122:
 1435              		.cfi_endproc
 1436              	.LFE81:
 1438              		.section	.text.TIM4_IRQHandler,"ax",%progbits
 1439              		.align	1
 1440              		.global	TIM4_IRQHandler
 1441              		.syntax unified
 1442              		.thumb
 1443              		.thumb_func
ARM GAS  /tmp/ccZLh1YE.s 			page 40


 1444              		.fpu softvfp
 1446              	TIM4_IRQHandler:
 1447              	.LFB75:
 250:Src/main.c    ****     if (__HAL_TIM_GET_FLAG(&htim4, TIM_FLAG_UPDATE) != RESET) {
 1448              		.loc 1 250 28 view -0
 1449              		.cfi_startproc
 1450              		@ args = 0, pretend = 0, frame = 0
 1451              		@ frame_needed = 0, uses_anonymous_args = 0
 1452 0000 08B5     		push	{r3, lr}
 1453              	.LCFI12:
 1454              		.cfi_def_cfa_offset 8
 1455              		.cfi_offset 3, -8
 1456              		.cfi_offset 14, -4
 251:Src/main.c    ****         __HAL_TIM_CLEAR_IT(&htim4, TIM_IT_UPDATE);
 1457              		.loc 1 251 5 view .LVU354
 251:Src/main.c    ****         __HAL_TIM_CLEAR_IT(&htim4, TIM_IT_UPDATE);
 1458              		.loc 1 251 9 is_stmt 0 view .LVU355
 1459 0002 214B     		ldr	r3, .L103
 1460 0004 1B68     		ldr	r3, [r3]
 1461 0006 1A69     		ldr	r2, [r3, #16]
 251:Src/main.c    ****         __HAL_TIM_CLEAR_IT(&htim4, TIM_IT_UPDATE);
 1462              		.loc 1 251 8 view .LVU356
 1463 0008 12F0010F 		tst	r2, #1
 1464 000c 0CD0     		beq	.L93
 1465              	.LBB16:
 252:Src/main.c    ****         
 1466              		.loc 1 252 9 is_stmt 1 view .LVU357
 1467 000e 6FF00102 		mvn	r2, #1
 1468 0012 1A61     		str	r2, [r3, #16]
 254:Src/main.c    ****         
 1469              		.loc 1 254 9 view .LVU358
 256:Src/main.c    ****         count_10hz ++;
 1470              		.loc 1 256 9 view .LVU359
 256:Src/main.c    ****         count_10hz ++;
 1471              		.loc 1 256 19 is_stmt 0 view .LVU360
 1472 0014 1D4A     		ldr	r2, .L103+4
 1473 0016 1368     		ldr	r3, [r2]
 1474 0018 0133     		adds	r3, r3, #1
 1475 001a 1360     		str	r3, [r2]
 257:Src/main.c    ****         if (count_10hz >= 250) {
 1476              		.loc 1 257 9 is_stmt 1 view .LVU361
 257:Src/main.c    ****         if (count_10hz >= 250) {
 1477              		.loc 1 257 20 is_stmt 0 view .LVU362
 1478 001c 1C4A     		ldr	r2, .L103+8
 1479 001e 1368     		ldr	r3, [r2]
 1480 0020 0133     		adds	r3, r3, #1
 1481 0022 1360     		str	r3, [r2]
 258:Src/main.c    ****             DWT_Delay(pps_offset);
 1482              		.loc 1 258 9 is_stmt 1 view .LVU363
 258:Src/main.c    ****             DWT_Delay(pps_offset);
 1483              		.loc 1 258 12 is_stmt 0 view .LVU364
 1484 0024 F92B     		cmp	r3, #249
 1485 0026 00D8     		bhi	.L100
 1486              	.L93:
 1487              	.LBE16:
 278:Src/main.c    **** 
 1488              		.loc 1 278 1 view .LVU365
ARM GAS  /tmp/ccZLh1YE.s 			page 41


 1489 0028 08BD     		pop	{r3, pc}
 1490              	.L100:
 1491              	.LBB18:
 259:Src/main.c    ****             for(int i = 0; i < for_delay; i ++);
 1492              		.loc 1 259 13 is_stmt 1 view .LVU366
 1493 002a 1A4B     		ldr	r3, .L103+12
 1494 002c 1868     		ldr	r0, [r3]
 1495 002e FFF7FEFF 		bl	DWT_Delay
 1496              	.LVL123:
 260:Src/main.c    **** 
 1497              		.loc 1 260 13 view .LVU367
 1498              	.LBB17:
 260:Src/main.c    **** 
 1499              		.loc 1 260 17 view .LVU368
 260:Src/main.c    **** 
 1500              		.loc 1 260 21 is_stmt 0 view .LVU369
 1501 0032 0023     		movs	r3, #0
 1502              	.LVL124:
 1503              	.L95:
 260:Src/main.c    **** 
 1504              		.loc 1 260 28 is_stmt 1 discriminator 1 view .LVU370
 260:Src/main.c    **** 
 1505              		.loc 1 260 30 is_stmt 0 discriminator 1 view .LVU371
 1506 0034 184A     		ldr	r2, .L103+16
 1507 0036 1268     		ldr	r2, [r2]
 260:Src/main.c    **** 
 1508              		.loc 1 260 13 discriminator 1 view .LVU372
 1509 0038 9342     		cmp	r3, r2
 1510 003a 01D2     		bcs	.L101
 260:Src/main.c    **** 
 1511              		.loc 1 260 48 is_stmt 1 discriminator 3 view .LVU373
 260:Src/main.c    **** 
 1512              		.loc 1 260 43 discriminator 3 view .LVU374
 260:Src/main.c    **** 
 1513              		.loc 1 260 45 is_stmt 0 discriminator 3 view .LVU375
 1514 003c 0133     		adds	r3, r3, #1
 1515              	.LVL125:
 260:Src/main.c    **** 
 1516              		.loc 1 260 45 discriminator 3 view .LVU376
 1517 003e F9E7     		b	.L95
 1518              	.L101:
 260:Src/main.c    **** 
 1519              		.loc 1 260 45 discriminator 3 view .LVU377
 1520              	.LBE17:
 262:Src/main.c    ****             trigger_flag = 1;
 1521              		.loc 1 262 13 is_stmt 1 view .LVU378
 1522 0040 1021     		movs	r1, #16
 1523 0042 1648     		ldr	r0, .L103+20
 1524 0044 FFF7FEFF 		bl	HAL_GPIO_TogglePin
 1525              	.LVL126:
 263:Src/main.c    **** 
 1526              		.loc 1 263 13 view .LVU379
 263:Src/main.c    **** 
 1527              		.loc 1 263 26 is_stmt 0 view .LVU380
 1528 0048 154B     		ldr	r3, .L103+24
 1529 004a 0122     		movs	r2, #1
 1530 004c 1A70     		strb	r2, [r3]
ARM GAS  /tmp/ccZLh1YE.s 			page 42


 265:Src/main.c    ****                 if(pps_flag) {
 1531              		.loc 1 265 13 is_stmt 1 view .LVU381
 265:Src/main.c    ****                 if(pps_flag) {
 1532              		.loc 1 265 27 is_stmt 0 view .LVU382
 1533 004e 0F4B     		ldr	r3, .L103+4
 1534 0050 1A68     		ldr	r2, [r3]
 265:Src/main.c    ****                 if(pps_flag) {
 1535              		.loc 1 265 16 view .LVU383
 1536 0052 41F28733 		movw	r3, #4999
 1537 0056 9A42     		cmp	r2, r3
 1538 0058 0FD9     		bls	.L97
 266:Src/main.c    ****                     Error_Handler();
 1539              		.loc 1 266 17 is_stmt 1 view .LVU384
 266:Src/main.c    ****                     Error_Handler();
 1540              		.loc 1 266 20 is_stmt 0 view .LVU385
 1541 005a 124B     		ldr	r3, .L103+28
 1542 005c 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 266:Src/main.c    ****                     Error_Handler();
 1543              		.loc 1 266 19 view .LVU386
 1544 005e 83B9     		cbnz	r3, .L102
 269:Src/main.c    ****                 send_gps_flag = 1;    
 1545              		.loc 1 269 17 is_stmt 1 view .LVU387
 1546 0060 0122     		movs	r2, #1
 1547 0062 0821     		movs	r1, #8
 1548 0064 1048     		ldr	r0, .L103+32
 1549 0066 FFF7FEFF 		bl	HAL_GPIO_WritePin
 1550              	.LVL127:
 270:Src/main.c    ****                 pps_flag = 1;  // Set flag to turn off PPS in ISR after 100 ms
 1551              		.loc 1 270 17 view .LVU388
 270:Src/main.c    ****                 pps_flag = 1;  // Set flag to turn off PPS in ISR after 100 ms
 1552              		.loc 1 270 31 is_stmt 0 view .LVU389
 1553 006a 0123     		movs	r3, #1
 1554 006c 0F4A     		ldr	r2, .L103+36
 1555 006e 1370     		strb	r3, [r2]
 271:Src/main.c    ****                 count_1hz = 0;          
 1556              		.loc 1 271 17 is_stmt 1 view .LVU390
 271:Src/main.c    ****                 count_1hz = 0;          
 1557              		.loc 1 271 26 is_stmt 0 view .LVU391
 1558 0070 0C4A     		ldr	r2, .L103+28
 1559 0072 1370     		strb	r3, [r2]
 272:Src/main.c    ****             }
 1560              		.loc 1 272 17 is_stmt 1 view .LVU392
 272:Src/main.c    ****             }
 1561              		.loc 1 272 27 is_stmt 0 view .LVU393
 1562 0074 054B     		ldr	r3, .L103+4
 1563 0076 0022     		movs	r2, #0
 1564 0078 1A60     		str	r2, [r3]
 1565              	.L97:
 274:Src/main.c    ****         }
 1566              		.loc 1 274 13 is_stmt 1 view .LVU394
 274:Src/main.c    ****         }
 1567              		.loc 1 274 24 is_stmt 0 view .LVU395
 1568 007a 054B     		ldr	r3, .L103+8
 1569 007c 0022     		movs	r2, #0
 1570 007e 1A60     		str	r2, [r3]
 1571              	.LBE18:
 278:Src/main.c    **** 
ARM GAS  /tmp/ccZLh1YE.s 			page 43


 1572              		.loc 1 278 1 view .LVU396
 1573 0080 D2E7     		b	.L93
 1574              	.L102:
 1575              	.LBB19:
 267:Src/main.c    ****                 }
 1576              		.loc 1 267 21 is_stmt 1 view .LVU397
 1577 0082 FFF7FEFF 		bl	Error_Handler
 1578              	.LVL128:
 1579              	.L104:
 1580 0086 00BF     		.align	2
 1581              	.L103:
 1582 0088 00000000 		.word	htim4
 1583 008c 00000000 		.word	.LANCHOR20
 1584 0090 00000000 		.word	.LANCHOR21
 1585 0094 00000000 		.word	.LANCHOR18
 1586 0098 00000000 		.word	.LANCHOR22
 1587 009c 00100140 		.word	1073811456
 1588 00a0 00000000 		.word	.LANCHOR23
 1589 00a4 00000000 		.word	.LANCHOR12
 1590 00a8 000C0140 		.word	1073810432
 1591 00ac 00000000 		.word	.LANCHOR24
 1592              	.LBE19:
 1593              		.cfi_endproc
 1594              	.LFE75:
 1596              		.section	.text.SystemClock_Config,"ax",%progbits
 1597              		.align	1
 1598              		.global	SystemClock_Config
 1599              		.syntax unified
 1600              		.thumb
 1601              		.thumb_func
 1602              		.fpu softvfp
 1604              	SystemClock_Config:
 1605              	.LFB80:
 555:Src/main.c    ****   RCC_OscInitTypeDef RCC_OscInitStruct = {0};
 1606              		.loc 1 555 1 view -0
 1607              		.cfi_startproc
 1608              		@ args = 0, pretend = 0, frame = 64
 1609              		@ frame_needed = 0, uses_anonymous_args = 0
 1610 0000 00B5     		push	{lr}
 1611              	.LCFI13:
 1612              		.cfi_def_cfa_offset 4
 1613              		.cfi_offset 14, -4
 1614 0002 91B0     		sub	sp, sp, #68
 1615              	.LCFI14:
 1616              		.cfi_def_cfa_offset 72
 556:Src/main.c    ****   RCC_ClkInitTypeDef RCC_ClkInitStruct = {0};
 1617              		.loc 1 556 3 view .LVU399
 556:Src/main.c    ****   RCC_ClkInitTypeDef RCC_ClkInitStruct = {0};
 1618              		.loc 1 556 22 is_stmt 0 view .LVU400
 1619 0004 0023     		movs	r3, #0
 1620 0006 0993     		str	r3, [sp, #36]
 1621 0008 0B93     		str	r3, [sp, #44]
 1622 000a 0C93     		str	r3, [sp, #48]
 557:Src/main.c    **** 
 1623              		.loc 1 557 3 is_stmt 1 view .LVU401
 557:Src/main.c    **** 
 1624              		.loc 1 557 22 is_stmt 0 view .LVU402
ARM GAS  /tmp/ccZLh1YE.s 			page 44


 1625 000c 0193     		str	r3, [sp, #4]
 1626 000e 0293     		str	r3, [sp, #8]
 1627 0010 0393     		str	r3, [sp, #12]
 1628 0012 0493     		str	r3, [sp, #16]
 1629 0014 0593     		str	r3, [sp, #20]
 562:Src/main.c    ****   RCC_OscInitStruct.HSEState = RCC_HSE_ON;
 1630              		.loc 1 562 3 is_stmt 1 view .LVU403
 562:Src/main.c    ****   RCC_OscInitStruct.HSEState = RCC_HSE_ON;
 1631              		.loc 1 562 36 is_stmt 0 view .LVU404
 1632 0016 0121     		movs	r1, #1
 1633 0018 0691     		str	r1, [sp, #24]
 563:Src/main.c    ****   RCC_OscInitStruct.HSEPredivValue = RCC_HSE_PREDIV_DIV1;
 1634              		.loc 1 563 3 is_stmt 1 view .LVU405
 563:Src/main.c    ****   RCC_OscInitStruct.HSEPredivValue = RCC_HSE_PREDIV_DIV1;
 1635              		.loc 1 563 30 is_stmt 0 view .LVU406
 1636 001a 4FF48032 		mov	r2, #65536
 1637 001e 0792     		str	r2, [sp, #28]
 564:Src/main.c    ****   RCC_OscInitStruct.HSIState = RCC_HSI_ON;
 1638              		.loc 1 564 3 is_stmt 1 view .LVU407
 564:Src/main.c    ****   RCC_OscInitStruct.HSIState = RCC_HSI_ON;
 1639              		.loc 1 564 36 is_stmt 0 view .LVU408
 1640 0020 0893     		str	r3, [sp, #32]
 565:Src/main.c    ****   RCC_OscInitStruct.PLL.PLLState = RCC_PLL_ON;
 1641              		.loc 1 565 3 is_stmt 1 view .LVU409
 565:Src/main.c    ****   RCC_OscInitStruct.PLL.PLLState = RCC_PLL_ON;
 1642              		.loc 1 565 30 is_stmt 0 view .LVU410
 1643 0022 0A91     		str	r1, [sp, #40]
 566:Src/main.c    ****   RCC_OscInitStruct.PLL.PLLSource = RCC_PLLSOURCE_HSE;
 1644              		.loc 1 566 3 is_stmt 1 view .LVU411
 566:Src/main.c    ****   RCC_OscInitStruct.PLL.PLLSource = RCC_PLLSOURCE_HSE;
 1645              		.loc 1 566 34 is_stmt 0 view .LVU412
 1646 0024 0223     		movs	r3, #2
 1647 0026 0D93     		str	r3, [sp, #52]
 567:Src/main.c    ****   RCC_OscInitStruct.PLL.PLLMUL = RCC_PLL_MUL9;
 1648              		.loc 1 567 3 is_stmt 1 view .LVU413
 567:Src/main.c    ****   RCC_OscInitStruct.PLL.PLLMUL = RCC_PLL_MUL9;
 1649              		.loc 1 567 35 is_stmt 0 view .LVU414
 1650 0028 0E92     		str	r2, [sp, #56]
 568:Src/main.c    ****   if (HAL_RCC_OscConfig(&RCC_OscInitStruct) != HAL_OK)
 1651              		.loc 1 568 3 is_stmt 1 view .LVU415
 568:Src/main.c    ****   if (HAL_RCC_OscConfig(&RCC_OscInitStruct) != HAL_OK)
 1652              		.loc 1 568 32 is_stmt 0 view .LVU416
 1653 002a 4FF4E013 		mov	r3, #1835008
 1654 002e 0F93     		str	r3, [sp, #60]
 569:Src/main.c    ****   {
 1655              		.loc 1 569 3 is_stmt 1 view .LVU417
 569:Src/main.c    ****   {
 1656              		.loc 1 569 7 is_stmt 0 view .LVU418
 1657 0030 06A8     		add	r0, sp, #24
 1658 0032 FFF7FEFF 		bl	HAL_RCC_OscConfig
 1659              	.LVL129:
 569:Src/main.c    ****   {
 1660              		.loc 1 569 6 view .LVU419
 1661 0036 80B9     		cbnz	r0, .L109
 576:Src/main.c    ****                               |RCC_CLOCKTYPE_PCLK1|RCC_CLOCKTYPE_PCLK2;
 1662              		.loc 1 576 3 is_stmt 1 view .LVU420
 576:Src/main.c    ****                               |RCC_CLOCKTYPE_PCLK1|RCC_CLOCKTYPE_PCLK2;
ARM GAS  /tmp/ccZLh1YE.s 			page 45


 1663              		.loc 1 576 31 is_stmt 0 view .LVU421
 1664 0038 0F23     		movs	r3, #15
 1665 003a 0193     		str	r3, [sp, #4]
 578:Src/main.c    ****   RCC_ClkInitStruct.AHBCLKDivider = RCC_SYSCLK_DIV1;
 1666              		.loc 1 578 3 is_stmt 1 view .LVU422
 578:Src/main.c    ****   RCC_ClkInitStruct.AHBCLKDivider = RCC_SYSCLK_DIV1;
 1667              		.loc 1 578 34 is_stmt 0 view .LVU423
 1668 003c 0221     		movs	r1, #2
 1669 003e 0291     		str	r1, [sp, #8]
 579:Src/main.c    ****   RCC_ClkInitStruct.APB1CLKDivider = RCC_HCLK_DIV2;
 1670              		.loc 1 579 3 is_stmt 1 view .LVU424
 579:Src/main.c    ****   RCC_ClkInitStruct.APB1CLKDivider = RCC_HCLK_DIV2;
 1671              		.loc 1 579 35 is_stmt 0 view .LVU425
 1672 0040 0023     		movs	r3, #0
 1673 0042 0393     		str	r3, [sp, #12]
 580:Src/main.c    ****   RCC_ClkInitStruct.APB2CLKDivider = RCC_HCLK_DIV1;
 1674              		.loc 1 580 3 is_stmt 1 view .LVU426
 580:Src/main.c    ****   RCC_ClkInitStruct.APB2CLKDivider = RCC_HCLK_DIV1;
 1675              		.loc 1 580 36 is_stmt 0 view .LVU427
 1676 0044 4FF48062 		mov	r2, #1024
 1677 0048 0492     		str	r2, [sp, #16]
 581:Src/main.c    **** 
 1678              		.loc 1 581 3 is_stmt 1 view .LVU428
 581:Src/main.c    **** 
 1679              		.loc 1 581 36 is_stmt 0 view .LVU429
 1680 004a 0593     		str	r3, [sp, #20]
 583:Src/main.c    ****   {
 1681              		.loc 1 583 3 is_stmt 1 view .LVU430
 583:Src/main.c    ****   {
 1682              		.loc 1 583 7 is_stmt 0 view .LVU431
 1683 004c 01A8     		add	r0, sp, #4
 1684 004e FFF7FEFF 		bl	HAL_RCC_ClockConfig
 1685              	.LVL130:
 583:Src/main.c    ****   {
 1686              		.loc 1 583 6 view .LVU432
 1687 0052 20B9     		cbnz	r0, .L110
 587:Src/main.c    **** 
 1688              		.loc 1 587 1 view .LVU433
 1689 0054 11B0     		add	sp, sp, #68
 1690              	.LCFI15:
 1691              		.cfi_remember_state
 1692              		.cfi_def_cfa_offset 4
 1693              		@ sp needed
 1694 0056 5DF804FB 		ldr	pc, [sp], #4
 1695              	.L109:
 1696              	.LCFI16:
 1697              		.cfi_restore_state
 571:Src/main.c    ****   }
 1698              		.loc 1 571 5 is_stmt 1 view .LVU434
 1699 005a FFF7FEFF 		bl	Error_Handler
 1700              	.LVL131:
 1701              	.L110:
 585:Src/main.c    ****   }
 1702              		.loc 1 585 5 view .LVU435
 1703 005e FFF7FEFF 		bl	Error_Handler
 1704              	.LVL132:
 1705              		.cfi_endproc
ARM GAS  /tmp/ccZLh1YE.s 			page 46


 1706              	.LFE80:
 1708              		.section	.text.main,"ax",%progbits
 1709              		.align	1
 1710              		.global	main
 1711              		.syntax unified
 1712              		.thumb
 1713              		.thumb_func
 1714              		.fpu softvfp
 1716              	main:
 1717              	.LFB79:
 424:Src/main.c    **** 
 1718              		.loc 1 424 1 view -0
 1719              		.cfi_startproc
 1720              		@ Volatile: function does not return.
 1721              		@ args = 0, pretend = 0, frame = 0
 1722              		@ frame_needed = 0, uses_anonymous_args = 0
 1723 0000 08B5     		push	{r3, lr}
 1724              	.LCFI17:
 1725              		.cfi_def_cfa_offset 8
 1726              		.cfi_offset 3, -8
 1727              		.cfi_offset 14, -4
 433:Src/main.c    **** 
 1728              		.loc 1 433 3 view .LVU437
 1729 0002 FFF7FEFF 		bl	HAL_Init
 1730              	.LVL133:
 440:Src/main.c    **** 
 1731              		.loc 1 440 3 view .LVU438
 1732 0006 FFF7FEFF 		bl	SystemClock_Config
 1733              	.LVL134:
 443:Src/main.c    ****   /* USER CODE END SysInit */
 1734              		.loc 1 443 3 view .LVU439
 1735 000a FFF7FEFF 		bl	DWT_Init
 1736              	.LVL135:
 447:Src/main.c    ****   MX_DMA_Init();
 1737              		.loc 1 447 3 view .LVU440
 1738 000e FFF7FEFF 		bl	MX_GPIO_Init
 1739              	.LVL136:
 448:Src/main.c    ****   MX_TIM2_Init();
 1740              		.loc 1 448 3 view .LVU441
 1741 0012 FFF7FEFF 		bl	MX_DMA_Init
 1742              	.LVL137:
 449:Src/main.c    ****   MX_USART1_UART_Init();
 1743              		.loc 1 449 3 view .LVU442
 1744 0016 FFF7FEFF 		bl	MX_TIM2_Init
 1745              	.LVL138:
 450:Src/main.c    ****   MX_USART3_UART_Init();
 1746              		.loc 1 450 3 view .LVU443
 1747 001a FFF7FEFF 		bl	MX_USART1_UART_Init
 1748              	.LVL139:
 451:Src/main.c    ****   MX_TIM3_Init();
 1749              		.loc 1 451 3 view .LVU444
 1750 001e FFF7FEFF 		bl	MX_USART3_UART_Init
 1751              	.LVL140:
 452:Src/main.c    ****   MX_TIM4_Init();
 1752              		.loc 1 452 3 view .LVU445
 1753 0022 FFF7FEFF 		bl	MX_TIM3_Init
 1754              	.LVL141:
ARM GAS  /tmp/ccZLh1YE.s 			page 47


 453:Src/main.c    ****   /* USER CODE BEGIN 2 */
 1755              		.loc 1 453 3 view .LVU446
 1756 0026 FFF7FEFF 		bl	MX_TIM4_Init
 1757              	.LVL142:
 458:Src/main.c    ****     Error_Handler();
 1758              		.loc 1 458 3 view .LVU447
 458:Src/main.c    ****     Error_Handler();
 1759              		.loc 1 458 7 is_stmt 0 view .LVU448
 1760 002a 4748     		ldr	r0, .L126
 1761 002c FFF7FEFF 		bl	HAL_TIM_Base_Start_IT
 1762              	.LVL143:
 458:Src/main.c    ****     Error_Handler();
 1763              		.loc 1 458 6 view .LVU449
 1764 0030 08B1     		cbz	r0, .L112
 459:Src/main.c    ****   }
 1765              		.loc 1 459 5 is_stmt 1 view .LVU450
 1766 0032 FFF7FEFF 		bl	Error_Handler
 1767              	.LVL144:
 1768              	.L112:
 461:Src/main.c    ****   HAL_NVIC_EnableIRQ(TIM3_IRQn);
 1769              		.loc 1 461 3 view .LVU451
 1770 0036 0122     		movs	r2, #1
 1771 0038 1146     		mov	r1, r2
 1772 003a 1D20     		movs	r0, #29
 1773 003c FFF7FEFF 		bl	HAL_NVIC_SetPriority
 1774              	.LVL145:
 462:Src/main.c    **** 
 1775              		.loc 1 462 3 view .LVU452
 1776 0040 1D20     		movs	r0, #29
 1777 0042 FFF7FEFF 		bl	HAL_NVIC_EnableIRQ
 1778              	.LVL146:
 464:Src/main.c    ****     Error_Handler();
 1779              		.loc 1 464 3 view .LVU453
 464:Src/main.c    ****     Error_Handler();
 1780              		.loc 1 464 7 is_stmt 0 view .LVU454
 1781 0046 4148     		ldr	r0, .L126+4
 1782 0048 FFF7FEFF 		bl	HAL_TIM_Base_Start_IT
 1783              	.LVL147:
 464:Src/main.c    ****     Error_Handler();
 1784              		.loc 1 464 6 view .LVU455
 1785 004c 08B1     		cbz	r0, .L113
 465:Src/main.c    ****   }
 1786              		.loc 1 465 5 is_stmt 1 view .LVU456
 1787 004e FFF7FEFF 		bl	Error_Handler
 1788              	.LVL148:
 1789              	.L113:
 467:Src/main.c    ****   HAL_NVIC_EnableIRQ(TIM4_IRQn);
 1790              		.loc 1 467 3 view .LVU457
 1791 0052 0022     		movs	r2, #0
 1792 0054 1146     		mov	r1, r2
 1793 0056 1E20     		movs	r0, #30
 1794 0058 FFF7FEFF 		bl	HAL_NVIC_SetPriority
 1795              	.LVL149:
 468:Src/main.c    ****   baseTick = HAL_GetTick();
 1796              		.loc 1 468 3 view .LVU458
 1797 005c 1E20     		movs	r0, #30
 1798 005e FFF7FEFF 		bl	HAL_NVIC_EnableIRQ
ARM GAS  /tmp/ccZLh1YE.s 			page 48


 1799              	.LVL150:
 469:Src/main.c    **** 
 1800              		.loc 1 469 3 view .LVU459
 469:Src/main.c    **** 
 1801              		.loc 1 469 14 is_stmt 0 view .LVU460
 1802 0062 FFF7FEFF 		bl	HAL_GetTick
 1803              	.LVL151:
 469:Src/main.c    **** 
 1804              		.loc 1 469 12 view .LVU461
 1805 0066 3A4B     		ldr	r3, .L126+8
 1806 0068 1860     		str	r0, [r3]
 471:Src/main.c    ****     Error_Handler();  
 1807              		.loc 1 471 3 is_stmt 1 view .LVU462
 471:Src/main.c    ****     Error_Handler();  
 1808              		.loc 1 471 7 is_stmt 0 view .LVU463
 1809 006a 3A48     		ldr	r0, .L126+12
 1810 006c FFF7FEFF 		bl	HAL_TIM_Base_Start_IT
 1811              	.LVL152:
 471:Src/main.c    ****     Error_Handler();  
 1812              		.loc 1 471 6 view .LVU464
 1813 0070 08B1     		cbz	r0, .L114
 472:Src/main.c    ****   }
 1814              		.loc 1 472 5 is_stmt 1 view .LVU465
 1815 0072 FFF7FEFF 		bl	Error_Handler
 1816              	.LVL153:
 1817              	.L114:
 474:Src/main.c    ****   HAL_NVIC_EnableIRQ(TIM2_IRQn);
 1818              		.loc 1 474 3 view .LVU466
 1819 0076 0222     		movs	r2, #2
 1820 0078 1146     		mov	r1, r2
 1821 007a 1C20     		movs	r0, #28
 1822 007c FFF7FEFF 		bl	HAL_NVIC_SetPriority
 1823              	.LVL154:
 475:Src/main.c    **** 
 1824              		.loc 1 475 3 view .LVU467
 1825 0080 1C20     		movs	r0, #28
 1826 0082 FFF7FEFF 		bl	HAL_NVIC_EnableIRQ
 1827              	.LVL155:
 484:Src/main.c    ****       Error_Handler(); 
 1828              		.loc 1 484 3 view .LVU468
 484:Src/main.c    ****       Error_Handler(); 
 1829              		.loc 1 484 7 is_stmt 0 view .LVU469
 1830 0086 0122     		movs	r2, #1
 1831 0088 3349     		ldr	r1, .L126+16
 1832 008a 3448     		ldr	r0, .L126+20
 1833 008c FFF7FEFF 		bl	HAL_UART_Receive_IT
 1834              	.LVL156:
 484:Src/main.c    ****       Error_Handler(); 
 1835              		.loc 1 484 6 view .LVU470
 1836 0090 90B1     		cbz	r0, .L121
 485:Src/main.c    ****   }
 1837              		.loc 1 485 7 is_stmt 1 view .LVU471
 1838 0092 FFF7FEFF 		bl	Error_Handler
 1839              	.LVL157:
 1840              	.L125:
 495:Src/main.c    ****               trigger_led_count = 0;
 1841              		.loc 1 495 15 view .LVU472
ARM GAS  /tmp/ccZLh1YE.s 			page 49


 495:Src/main.c    ****               trigger_led_count = 0;
 1842              		.loc 1 495 32 is_stmt 0 view .LVU473
 1843 0096 0023     		movs	r3, #0
 1844 0098 314A     		ldr	r2, .L126+24
 1845 009a 1370     		strb	r3, [r2]
 496:Src/main.c    ****               HAL_GPIO_WritePin(GPIOB, GPIO_PIN_2, GPIO_PIN_SET); // Trigger LED OFF
 1846              		.loc 1 496 15 is_stmt 1 view .LVU474
 496:Src/main.c    ****               HAL_GPIO_WritePin(GPIOB, GPIO_PIN_2, GPIO_PIN_SET); // Trigger LED OFF
 1847              		.loc 1 496 33 is_stmt 0 view .LVU475
 1848 009c 314A     		ldr	r2, .L126+28
 1849 009e 1360     		str	r3, [r2]
 497:Src/main.c    ****           }
 1850              		.loc 1 497 15 is_stmt 1 view .LVU476
 1851 00a0 0122     		movs	r2, #1
 1852 00a2 0421     		movs	r1, #4
 1853 00a4 3048     		ldr	r0, .L126+32
 1854 00a6 FFF7FEFF 		bl	HAL_GPIO_WritePin
 1855              	.LVL158:
 1856 00aa 10E0     		b	.L116
 1857              	.L117:
 507:Src/main.c    **** 
 1858              		.loc 1 507 11 view .LVU477
 507:Src/main.c    **** 
 1859              		.loc 1 507 15 is_stmt 0 view .LVU478
 1860 00ac 2F4B     		ldr	r3, .L126+36
 1861 00ae 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 507:Src/main.c    **** 
 1862              		.loc 1 507 14 view .LVU479
 1863 00b0 F3B9     		cbnz	r3, .L123
 1864              	.L118:
 517:Src/main.c    **** 
 1865              		.loc 1 517 11 is_stmt 1 view .LVU480
 517:Src/main.c    **** 
 1866              		.loc 1 517 15 is_stmt 0 view .LVU481
 1867 00b2 2F4B     		ldr	r3, .L126+40
 1868 00b4 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 517:Src/main.c    **** 
 1869              		.loc 1 517 14 view .LVU482
 1870 00b6 33BB     		cbnz	r3, .L124
 1871              	.L121:
 491:Src/main.c    **** 
 1872              		.loc 1 491 12 is_stmt 1 view .LVU483
 491:Src/main.c    **** 
 1873              		.loc 1 491 13 is_stmt 0 view .LVU484
 1874 00b8 2E4B     		ldr	r3, .L126+44
 1875 00ba 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 491:Src/main.c    **** 
 1876              		.loc 1 491 12 view .LVU485
 1877 00bc 002B     		cmp	r3, #0
 1878 00be FBD0     		beq	.L121
 493:Src/main.c    ****           {
 1879              		.loc 1 493 11 is_stmt 1 view .LVU486
 493:Src/main.c    ****           {
 1880              		.loc 1 493 15 is_stmt 0 view .LVU487
 1881 00c0 274B     		ldr	r3, .L126+24
 1882 00c2 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 493:Src/main.c    ****           {
ARM GAS  /tmp/ccZLh1YE.s 			page 50


 1883              		.loc 1 493 14 view .LVU488
 1884 00c4 1BB1     		cbz	r3, .L116
 493:Src/main.c    ****           {
 1885              		.loc 1 493 53 discriminator 1 view .LVU489
 1886 00c6 274B     		ldr	r3, .L126+28
 1887 00c8 1B68     		ldr	r3, [r3]
 493:Src/main.c    ****           {
 1888              		.loc 1 493 32 discriminator 1 view .LVU490
 1889 00ca 022B     		cmp	r3, #2
 1890 00cc E3DC     		bgt	.L125
 1891              	.L116:
 500:Src/main.c    ****           {
 1892              		.loc 1 500 11 is_stmt 1 view .LVU491
 500:Src/main.c    ****           {
 1893              		.loc 1 500 15 is_stmt 0 view .LVU492
 1894 00ce 2A4B     		ldr	r3, .L126+48
 1895 00d0 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 500:Src/main.c    ****           {
 1896              		.loc 1 500 14 view .LVU493
 1897 00d2 002B     		cmp	r3, #0
 1898 00d4 EAD1     		bne	.L117
 500:Src/main.c    ****           {
 1899              		.loc 1 500 50 discriminator 1 view .LVU494
 1900 00d6 294B     		ldr	r3, .L126+52
 1901 00d8 1B68     		ldr	r3, [r3]
 500:Src/main.c    ****           {
 1902              		.loc 1 500 31 discriminator 1 view .LVU495
 1903 00da 042B     		cmp	r3, #4
 1904 00dc E6DD     		ble	.L117
 502:Src/main.c    ****               HAL_GPIO_WritePin(GPIOC, GPIO_PIN_5, GPIO_PIN_SET); // LED GPRMC Sending OFF
 1905              		.loc 1 502 15 is_stmt 1 view .LVU496
 502:Src/main.c    ****               HAL_GPIO_WritePin(GPIOC, GPIO_PIN_5, GPIO_PIN_SET); // LED GPRMC Sending OFF
 1906              		.loc 1 502 31 is_stmt 0 view .LVU497
 1907 00de 274B     		ldr	r3, .L126+52
 1908 00e0 0022     		movs	r2, #0
 1909 00e2 1A60     		str	r2, [r3]
 503:Src/main.c    ****           }
 1910              		.loc 1 503 15 is_stmt 1 view .LVU498
 1911 00e4 0122     		movs	r2, #1
 1912 00e6 2021     		movs	r1, #32
 1913 00e8 2548     		ldr	r0, .L126+56
 1914 00ea FFF7FEFF 		bl	HAL_GPIO_WritePin
 1915              	.LVL159:
 1916 00ee DDE7     		b	.L117
 1917              	.L123:
 509:Src/main.c    **** 
 1918              		.loc 1 509 15 view .LVU499
 509:Src/main.c    **** 
 1919              		.loc 1 509 28 is_stmt 0 view .LVU500
 1920 00f0 0022     		movs	r2, #0
 1921 00f2 1E4B     		ldr	r3, .L126+36
 1922 00f4 1A70     		strb	r2, [r3]
 512:Src/main.c    ****               trigger_led_flag = 1;
 1923              		.loc 1 512 15 is_stmt 1 view .LVU501
 1924 00f6 0421     		movs	r1, #4
 1925 00f8 1B48     		ldr	r0, .L126+32
 1926 00fa FFF7FEFF 		bl	HAL_GPIO_WritePin
ARM GAS  /tmp/ccZLh1YE.s 			page 51


 1927              	.LVL160:
 513:Src/main.c    ****               
 1928              		.loc 1 513 15 view .LVU502
 513:Src/main.c    ****               
 1929              		.loc 1 513 32 is_stmt 0 view .LVU503
 1930 00fe 184B     		ldr	r3, .L126+24
 1931 0100 0122     		movs	r2, #1
 1932 0102 1A70     		strb	r2, [r3]
 1933 0104 D5E7     		b	.L118
 1934              	.L124:
 520:Src/main.c    **** 
 1935              		.loc 1 520 15 is_stmt 1 view .LVU504
 520:Src/main.c    **** 
 1936              		.loc 1 520 29 is_stmt 0 view .LVU505
 1937 0106 0022     		movs	r2, #0
 1938 0108 194B     		ldr	r3, .L126+40
 1939 010a 1A70     		strb	r2, [r3]
 522:Src/main.c    ****               gprmc_led_flag = 1;
 1940              		.loc 1 522 15 is_stmt 1 view .LVU506
 1941 010c 2021     		movs	r1, #32
 1942 010e 1C48     		ldr	r0, .L126+56
 1943 0110 FFF7FEFF 		bl	HAL_GPIO_WritePin
 1944              	.LVL161:
 523:Src/main.c    **** 
 1945              		.loc 1 523 15 view .LVU507
 523:Src/main.c    **** 
 1946              		.loc 1 523 30 is_stmt 0 view .LVU508
 1947 0114 184B     		ldr	r3, .L126+48
 1948 0116 0122     		movs	r2, #1
 1949 0118 1A70     		strb	r2, [r3]
 525:Src/main.c    ****               HAL_UART_Transmit(&huart1, (uint8_t *)gprmc_data, strlen(gprmc_data), 6);
 1950              		.loc 1 525 15 is_stmt 1 view .LVU509
 1951 011a 1A4B     		ldr	r3, .L126+60
 1952 011c 1868     		ldr	r0, [r3]
 1953 011e FFF7FEFF 		bl	GPRMC_Generator
 1954              	.LVL162:
 526:Src/main.c    ****               // HAL_UART_Transmit_DMA(&huart1, (uint8_t *)gprmc_data, strlen(gprmc_data));
 1955              		.loc 1 526 15 view .LVU510
 526:Src/main.c    ****               // HAL_UART_Transmit_DMA(&huart1, (uint8_t *)gprmc_data, strlen(gprmc_data));
 1956              		.loc 1 526 65 is_stmt 0 view .LVU511
 1957 0122 194C     		ldr	r4, .L126+64
 1958 0124 2046     		mov	r0, r4
 1959 0126 FFF7FEFF 		bl	strlen
 1960              	.LVL163:
 526:Src/main.c    ****               // HAL_UART_Transmit_DMA(&huart1, (uint8_t *)gprmc_data, strlen(gprmc_data));
 1961              		.loc 1 526 15 view .LVU512
 1962 012a 0623     		movs	r3, #6
 1963 012c 82B2     		uxth	r2, r0
 1964 012e 2146     		mov	r1, r4
 1965 0130 0A48     		ldr	r0, .L126+20
 1966 0132 FFF7FEFF 		bl	HAL_UART_Transmit
 1967              	.LVL164:
 529:Src/main.c    ****               
 1968              		.loc 1 529 15 is_stmt 1 view .LVU513
 529:Src/main.c    ****               
 1969              		.loc 1 529 69 is_stmt 0 view .LVU514
 1970 0136 2046     		mov	r0, r4
ARM GAS  /tmp/ccZLh1YE.s 			page 52


 1971 0138 FFF7FEFF 		bl	strlen
 1972              	.LVL165:
 529:Src/main.c    ****               
 1973              		.loc 1 529 15 view .LVU515
 1974 013c 82B2     		uxth	r2, r0
 1975 013e 2146     		mov	r1, r4
 1976 0140 1248     		ldr	r0, .L126+68
 1977 0142 FFF7FEFF 		bl	HAL_UART_Transmit_DMA
 1978              	.LVL166:
 1979 0146 B7E7     		b	.L121
 1980              	.L127:
 1981              		.align	2
 1982              	.L126:
 1983 0148 00000000 		.word	htim3
 1984 014c 00000000 		.word	htim4
 1985 0150 00000000 		.word	.LANCHOR19
 1986 0154 00000000 		.word	htim2
 1987 0158 00000000 		.word	uart_rx_buffer
 1988 015c 00000000 		.word	huart1
 1989 0160 00000000 		.word	.LANCHOR10
 1990 0164 00000000 		.word	.LANCHOR11
 1991 0168 000C0140 		.word	1073810432
 1992 016c 00000000 		.word	.LANCHOR23
 1993 0170 00000000 		.word	.LANCHOR24
 1994 0174 00000000 		.word	.LANCHOR9
 1995 0178 00000000 		.word	.LANCHOR14
 1996 017c 00000000 		.word	.LANCHOR15
 1997 0180 00100140 		.word	1073811456
 1998 0184 00000000 		.word	.LANCHOR25
 1999 0188 00000000 		.word	gprmc_data
 2000 018c 00000000 		.word	huart3
 2001              		.cfi_endproc
 2002              	.LFE79:
 2004              		.global	for_delay
 2005              		.global	pps_offset
 2006              		.global	uart_transmit_flag
 2007              		.global	gprmc_led_count
 2008              		.global	gprmc_led_flag
 2009              		.global	pps_count
 2010              		.global	pps_flag
 2011              		.global	trigger_led_count
 2012              		.global	trigger_led_flag
 2013              		.global	enable_synchrone
 2014              		.global	send_gps_flag
 2015              		.global	trigger_flag
 2016              		.comm	uart_rx_buffer,1,1
 2017              		.comm	gprmc_data,100,4
 2018              		.global	elapsed
 2019              		.global	baseTick
 2020              		.global	baseTime
 2021              		.global	LONGITUDE
 2022              		.global	LATITUDE
 2023              		.global	BASE_SECOND
 2024              		.global	BASE_MINUTE
 2025              		.global	BASE_HOUR
 2026              		.global	BASE_DAY
 2027              		.global	BASE_MONTH
ARM GAS  /tmp/ccZLh1YE.s 			page 53


 2028              		.global	BASE_YEAR
 2029              		.section	.bss.BASE_MINUTE,"aw",%nobits
 2030              		.align	2
 2031              		.set	.LANCHOR1,. + 0
 2034              	BASE_MINUTE:
 2035 0000 00000000 		.space	4
 2036              		.section	.bss.BASE_SECOND,"aw",%nobits
 2037              		.align	2
 2038              		.set	.LANCHOR2,. + 0
 2041              	BASE_SECOND:
 2042 0000 00000000 		.space	4
 2043              		.section	.bss.baseTick,"aw",%nobits
 2044              		.align	2
 2045              		.set	.LANCHOR19,. + 0
 2048              	baseTick:
 2049 0000 00000000 		.space	4
 2050              		.section	.bss.baseTime,"aw",%nobits
 2051              		.align	2
 2052              		.set	.LANCHOR25,. + 0
 2055              	baseTime:
 2056 0000 00000000 		.space	4
 2057              		.section	.bss.buffer.7967,"aw",%nobits
 2058              		.align	2
 2059              		.set	.LANCHOR17,. + 0
 2062              	buffer.7967:
 2063 0000 00000000 		.space	1024
 2063      00000000 
 2063      00000000 
 2063      00000000 
 2063      00000000 
 2064              		.section	.bss.count_10hz.7955,"aw",%nobits
 2065              		.align	2
 2066              		.set	.LANCHOR21,. + 0
 2069              	count_10hz.7955:
 2070 0000 00000000 		.space	4
 2071              		.section	.bss.count_1hz.7956,"aw",%nobits
 2072              		.align	2
 2073              		.set	.LANCHOR20,. + 0
 2076              	count_1hz.7956:
 2077 0000 00000000 		.space	4
 2078              		.section	.bss.elapsed,"aw",%nobits
 2079              		.align	2
 2080              		.set	.LANCHOR3,. + 0
 2083              	elapsed:
 2084 0000 00000000 		.space	4
 2085              		.section	.bss.for_delay,"aw",%nobits
 2086              		.align	2
 2087              		.set	.LANCHOR22,. + 0
 2090              	for_delay:
 2091 0000 00000000 		.space	4
 2092              		.section	.bss.gprmc_led_count,"aw",%nobits
 2093              		.align	2
 2094              		.set	.LANCHOR15,. + 0
 2097              	gprmc_led_count:
 2098 0000 00000000 		.space	4
 2099              		.section	.bss.gprmc_led_flag,"aw",%nobits
 2100              		.set	.LANCHOR14,. + 0
ARM GAS  /tmp/ccZLh1YE.s 			page 54


 2103              	gprmc_led_flag:
 2104 0000 00       		.space	1
 2105              		.section	.bss.index.7968,"aw",%nobits
 2106              		.align	2
 2107              		.set	.LANCHOR16,. + 0
 2110              	index.7968:
 2111 0000 00000000 		.space	4
 2112              		.section	.bss.pps_count,"aw",%nobits
 2113              		.align	2
 2114              		.set	.LANCHOR13,. + 0
 2117              	pps_count:
 2118 0000 00000000 		.space	4
 2119              		.section	.bss.pps_flag,"aw",%nobits
 2120              		.set	.LANCHOR12,. + 0
 2123              	pps_flag:
 2124 0000 00       		.space	1
 2125              		.section	.bss.send_gps_flag,"aw",%nobits
 2126              		.set	.LANCHOR24,. + 0
 2129              	send_gps_flag:
 2130 0000 00       		.space	1
 2131              		.section	.bss.trigger_flag,"aw",%nobits
 2132              		.set	.LANCHOR23,. + 0
 2135              	trigger_flag:
 2136 0000 00       		.space	1
 2137              		.section	.bss.trigger_led_count,"aw",%nobits
 2138              		.align	2
 2139              		.set	.LANCHOR11,. + 0
 2142              	trigger_led_count:
 2143 0000 00000000 		.space	4
 2144              		.section	.bss.trigger_led_flag,"aw",%nobits
 2145              		.set	.LANCHOR10,. + 0
 2148              	trigger_led_flag:
 2149 0000 00       		.space	1
 2150              		.section	.bss.uart_transmit_flag,"aw",%nobits
 2153              	uart_transmit_flag:
 2154 0000 00       		.space	1
 2155              		.section	.data.BASE_DAY,"aw"
 2156              		.align	2
 2157              		.set	.LANCHOR6,. + 0
 2160              	BASE_DAY:
 2161 0000 0C000000 		.word	12
 2162              		.section	.data.BASE_HOUR,"aw"
 2163              		.align	2
 2164              		.set	.LANCHOR0,. + 0
 2167              	BASE_HOUR:
 2168 0000 02000000 		.word	2
 2169              		.section	.data.BASE_MONTH,"aw"
 2170              		.align	2
 2171              		.set	.LANCHOR5,. + 0
 2174              	BASE_MONTH:
 2175 0000 02000000 		.word	2
 2176              		.section	.data.BASE_YEAR,"aw"
 2177              		.align	2
 2178              		.set	.LANCHOR4,. + 0
 2181              	BASE_YEAR:
 2182 0000 D3070000 		.word	2003
 2183              		.section	.data.LATITUDE,"aw"
ARM GAS  /tmp/ccZLh1YE.s 			page 55


 2184              		.align	2
 2185              		.set	.LANCHOR8,. + 0
 2188              	LATITUDE:
 2189 0000 32323337 		.ascii	"2237.8840,N\000"
 2189      2E383834 
 2189      302C4E00 
 2190 000c 00000000 		.space	8
 2190      00000000 
 2191              		.section	.data.LONGITUDE,"aw"
 2192              		.align	2
 2193              		.set	.LANCHOR7,. + 0
 2196              	LONGITUDE:
 2197 0000 31313030 		.ascii	"11009.2400,E\000"
 2197      392E3234 
 2197      30302C45 
 2197      00
 2198 000d 00000000 		.space	7
 2198      000000
 2199              		.section	.data.enable_synchrone,"aw"
 2200              		.set	.LANCHOR9,. + 0
 2203              	enable_synchrone:
 2204 0000 01       		.byte	1
 2205              		.section	.data.pps_offset,"aw"
 2206              		.align	2
 2207              		.set	.LANCHOR18,. + 0
 2210              	pps_offset:
 2211 0000 5E010000 		.word	350
 2212              		.text
 2213              	.Letext0:
 2214              		.file 2 "/usr/lib/gcc/arm-none-eabi/9.2.1/include/stdint.h"
 2215              		.file 3 "Drivers/CMSIS/Include/core_cm3.h"
 2216              		.file 4 "Drivers/CMSIS/Device/ST/STM32F1xx/Include/system_stm32f1xx.h"
 2217              		.file 5 "Drivers/CMSIS/Device/ST/STM32F1xx/Include/stm32f103xe.h"
 2218              		.file 6 "Drivers/CMSIS/Device/ST/STM32F1xx/Include/stm32f1xx.h"
 2219              		.file 7 "/usr/lib/gcc/arm-none-eabi/9.2.1/include/stddef.h"
 2220              		.file 8 "Drivers/STM32F1xx_HAL_Driver/Inc/stm32f1xx_hal_def.h"
 2221              		.file 9 "Drivers/STM32F1xx_HAL_Driver/Inc/stm32f1xx_hal_rcc.h"
 2222              		.file 10 "Drivers/STM32F1xx_HAL_Driver/Inc/stm32f1xx_hal_rcc_ex.h"
 2223              		.file 11 "Drivers/STM32F1xx_HAL_Driver/Inc/stm32f1xx_hal_gpio.h"
 2224              		.file 12 "Drivers/STM32F1xx_HAL_Driver/Inc/stm32f1xx_hal_dma.h"
 2225              		.file 13 "Drivers/STM32F1xx_HAL_Driver/Inc/stm32f1xx_hal_tim.h"
 2226              		.file 14 "Drivers/STM32F1xx_HAL_Driver/Inc/stm32f1xx_hal_uart.h"
 2227              		.file 15 "Drivers/STM32F1xx_HAL_Driver/Inc/stm32f1xx_hal.h"
 2228              		.file 16 "Inc/tim.h"
 2229              		.file 17 "Inc/usart.h"
 2230              		.file 18 "/usr/include/newlib/sys/_types.h"
 2231              		.file 19 "/usr/include/newlib/sys/reent.h"
 2232              		.file 20 "/usr/include/newlib/sys/lock.h"
 2233              		.file 21 "/usr/include/newlib/stdlib.h"
 2234              		.file 22 "Inc/gpio.h"
 2235              		.file 23 "Inc/dma.h"
 2236              		.file 24 "Drivers/STM32F1xx_HAL_Driver/Inc/stm32f1xx_hal_cortex.h"
 2237              		.file 25 "/usr/include/newlib/string.h"
 2238              		.file 26 "/usr/include/newlib/stdio.h"
 2239              		.file 27 "Drivers/CMSIS/Include/cmsis_gcc.h"
 2240              		.file 28 "<built-in>"
ARM GAS  /tmp/ccZLh1YE.s 			page 56


DEFINED SYMBOLS
                            *ABS*:0000000000000000 main.c
     /tmp/ccZLh1YE.s:16     .text.Error_Handler_Custom:0000000000000000 $t
     /tmp/ccZLh1YE.s:24     .text.Error_Handler_Custom:0000000000000000 Error_Handler_Custom
     /tmp/ccZLh1YE.s:104    .text.Error_Handler_Custom:0000000000000044 $d
     /tmp/ccZLh1YE.s:111    .text.DWT_Init:0000000000000000 $t
     /tmp/ccZLh1YE.s:118    .text.DWT_Init:0000000000000000 DWT_Init
     /tmp/ccZLh1YE.s:154    .text.DWT_Init:0000000000000024 $d
     /tmp/ccZLh1YE.s:160    .text.DWT_Delay:0000000000000000 $t
     /tmp/ccZLh1YE.s:167    .text.DWT_Delay:0000000000000000 DWT_Delay
     /tmp/ccZLh1YE.s:207    .text.DWT_Delay:0000000000000020 $d
     /tmp/ccZLh1YE.s:214    .text.nmea_checksum:0000000000000000 $t
     /tmp/ccZLh1YE.s:221    .text.nmea_checksum:0000000000000000 nmea_checksum
     /tmp/ccZLh1YE.s:279    .rodata.GPRMC_Generator.str1.4:0000000000000000 $d
     /tmp/ccZLh1YE.s:287    .text.GPRMC_Generator:0000000000000000 $t
     /tmp/ccZLh1YE.s:294    .text.GPRMC_Generator:0000000000000000 GPRMC_Generator
     /tmp/ccZLh1YE.s:446    .text.GPRMC_Generator:00000000000000d0 $d
                            *COM*:0000000000000064 gprmc_data
     /tmp/ccZLh1YE.s:467    .text.TIM2_IRQHandler:0000000000000000 $t
     /tmp/ccZLh1YE.s:474    .text.TIM2_IRQHandler:0000000000000000 TIM2_IRQHandler
     /tmp/ccZLh1YE.s:541    .text.TIM2_IRQHandler:000000000000004c $d
     /tmp/ccZLh1YE.s:549    .text.HAL_TIM_PeriodElapsedCallback:0000000000000000 $t
     /tmp/ccZLh1YE.s:556    .text.HAL_TIM_PeriodElapsedCallback:0000000000000000 HAL_TIM_PeriodElapsedCallback
     /tmp/ccZLh1YE.s:650    .text.HAL_TIM_PeriodElapsedCallback:0000000000000054 $d
     /tmp/ccZLh1YE.s:662    .text.HAL_UART_TxCpltCallback:0000000000000000 $t
     /tmp/ccZLh1YE.s:669    .text.HAL_UART_TxCpltCallback:0000000000000000 HAL_UART_TxCpltCallback
     /tmp/ccZLh1YE.s:700    .text.HAL_UART_TxCpltCallback:0000000000000018 $d
     /tmp/ccZLh1YE.s:706    .rodata.ProcessReceivedData.str1.4:0000000000000000 $d
     /tmp/ccZLh1YE.s:726    .text.ProcessReceivedData:0000000000000000 $t
     /tmp/ccZLh1YE.s:733    .text.ProcessReceivedData:0000000000000000 ProcessReceivedData
     /tmp/ccZLh1YE.s:1025   .text.ProcessReceivedData:0000000000000144 $d
     /tmp/ccZLh1YE.s:1034   .text.ProcessReceivedData:0000000000000168 $t
     /tmp/ccZLh1YE.s:1324   .text.ProcessReceivedData:00000000000002ac $d
     /tmp/ccZLh1YE.s:1352   .text.HAL_UART_RxCpltCallback:0000000000000000 $t
     /tmp/ccZLh1YE.s:1359   .text.HAL_UART_RxCpltCallback:0000000000000000 HAL_UART_RxCpltCallback
     /tmp/ccZLh1YE.s:1407   .text.HAL_UART_RxCpltCallback:0000000000000024 $d
                            *COM*:0000000000000001 uart_rx_buffer
     /tmp/ccZLh1YE.s:1413   .text.Error_Handler:0000000000000000 $t
     /tmp/ccZLh1YE.s:1420   .text.Error_Handler:0000000000000000 Error_Handler
     /tmp/ccZLh1YE.s:1439   .text.TIM4_IRQHandler:0000000000000000 $t
     /tmp/ccZLh1YE.s:1446   .text.TIM4_IRQHandler:0000000000000000 TIM4_IRQHandler
     /tmp/ccZLh1YE.s:1582   .text.TIM4_IRQHandler:0000000000000088 $d
     /tmp/ccZLh1YE.s:1597   .text.SystemClock_Config:0000000000000000 $t
     /tmp/ccZLh1YE.s:1604   .text.SystemClock_Config:0000000000000000 SystemClock_Config
     /tmp/ccZLh1YE.s:1709   .text.main:0000000000000000 $t
     /tmp/ccZLh1YE.s:1716   .text.main:0000000000000000 main
     /tmp/ccZLh1YE.s:1983   .text.main:0000000000000148 $d
     /tmp/ccZLh1YE.s:2090   .bss.for_delay:0000000000000000 for_delay
     /tmp/ccZLh1YE.s:2210   .data.pps_offset:0000000000000000 pps_offset
     /tmp/ccZLh1YE.s:2153   .bss.uart_transmit_flag:0000000000000000 uart_transmit_flag
     /tmp/ccZLh1YE.s:2097   .bss.gprmc_led_count:0000000000000000 gprmc_led_count
     /tmp/ccZLh1YE.s:2103   .bss.gprmc_led_flag:0000000000000000 gprmc_led_flag
     /tmp/ccZLh1YE.s:2117   .bss.pps_count:0000000000000000 pps_count
     /tmp/ccZLh1YE.s:2123   .bss.pps_flag:0000000000000000 pps_flag
     /tmp/ccZLh1YE.s:2142   .bss.trigger_led_count:0000000000000000 trigger_led_count
     /tmp/ccZLh1YE.s:2148   .bss.trigger_led_flag:0000000000000000 trigger_led_flag
     /tmp/ccZLh1YE.s:2203   .data.enable_synchrone:0000000000000000 enable_synchrone
ARM GAS  /tmp/ccZLh1YE.s 			page 57


     /tmp/ccZLh1YE.s:2129   .bss.send_gps_flag:0000000000000000 send_gps_flag
     /tmp/ccZLh1YE.s:2135   .bss.trigger_flag:0000000000000000 trigger_flag
     /tmp/ccZLh1YE.s:2083   .bss.elapsed:0000000000000000 elapsed
     /tmp/ccZLh1YE.s:2048   .bss.baseTick:0000000000000000 baseTick
     /tmp/ccZLh1YE.s:2055   .bss.baseTime:0000000000000000 baseTime
     /tmp/ccZLh1YE.s:2196   .data.LONGITUDE:0000000000000000 LONGITUDE
     /tmp/ccZLh1YE.s:2188   .data.LATITUDE:0000000000000000 LATITUDE
     /tmp/ccZLh1YE.s:2041   .bss.BASE_SECOND:0000000000000000 BASE_SECOND
     /tmp/ccZLh1YE.s:2034   .bss.BASE_MINUTE:0000000000000000 BASE_MINUTE
     /tmp/ccZLh1YE.s:2167   .data.BASE_HOUR:0000000000000000 BASE_HOUR
     /tmp/ccZLh1YE.s:2160   .data.BASE_DAY:0000000000000000 BASE_DAY
     /tmp/ccZLh1YE.s:2174   .data.BASE_MONTH:0000000000000000 BASE_MONTH
     /tmp/ccZLh1YE.s:2181   .data.BASE_YEAR:0000000000000000 BASE_YEAR
     /tmp/ccZLh1YE.s:2030   .bss.BASE_MINUTE:0000000000000000 $d
     /tmp/ccZLh1YE.s:2037   .bss.BASE_SECOND:0000000000000000 $d
     /tmp/ccZLh1YE.s:2044   .bss.baseTick:0000000000000000 $d
     /tmp/ccZLh1YE.s:2051   .bss.baseTime:0000000000000000 $d
     /tmp/ccZLh1YE.s:2058   .bss.buffer.7967:0000000000000000 $d
     /tmp/ccZLh1YE.s:2062   .bss.buffer.7967:0000000000000000 buffer.7967
     /tmp/ccZLh1YE.s:2065   .bss.count_10hz.7955:0000000000000000 $d
     /tmp/ccZLh1YE.s:2069   .bss.count_10hz.7955:0000000000000000 count_10hz.7955
     /tmp/ccZLh1YE.s:2072   .bss.count_1hz.7956:0000000000000000 $d
     /tmp/ccZLh1YE.s:2076   .bss.count_1hz.7956:0000000000000000 count_1hz.7956
     /tmp/ccZLh1YE.s:2079   .bss.elapsed:0000000000000000 $d
     /tmp/ccZLh1YE.s:2086   .bss.for_delay:0000000000000000 $d
     /tmp/ccZLh1YE.s:2093   .bss.gprmc_led_count:0000000000000000 $d
     /tmp/ccZLh1YE.s:2104   .bss.gprmc_led_flag:0000000000000000 $d
     /tmp/ccZLh1YE.s:2106   .bss.index.7968:0000000000000000 $d
     /tmp/ccZLh1YE.s:2110   .bss.index.7968:0000000000000000 index.7968
     /tmp/ccZLh1YE.s:2113   .bss.pps_count:0000000000000000 $d
     /tmp/ccZLh1YE.s:2124   .bss.pps_flag:0000000000000000 $d
     /tmp/ccZLh1YE.s:2130   .bss.send_gps_flag:0000000000000000 $d
     /tmp/ccZLh1YE.s:2136   .bss.trigger_flag:0000000000000000 $d
     /tmp/ccZLh1YE.s:2138   .bss.trigger_led_count:0000000000000000 $d
     /tmp/ccZLh1YE.s:2149   .bss.trigger_led_flag:0000000000000000 $d
     /tmp/ccZLh1YE.s:2154   .bss.uart_transmit_flag:0000000000000000 $d
     /tmp/ccZLh1YE.s:2156   .data.BASE_DAY:0000000000000000 $d
     /tmp/ccZLh1YE.s:2163   .data.BASE_HOUR:0000000000000000 $d
     /tmp/ccZLh1YE.s:2170   .data.BASE_MONTH:0000000000000000 $d
     /tmp/ccZLh1YE.s:2177   .data.BASE_YEAR:0000000000000000 $d
     /tmp/ccZLh1YE.s:2184   .data.LATITUDE:0000000000000000 $d
     /tmp/ccZLh1YE.s:2192   .data.LONGITUDE:0000000000000000 $d
     /tmp/ccZLh1YE.s:2206   .data.pps_offset:0000000000000000 $d

UNDEFINED SYMBOLS
HAL_GPIO_WritePin
SystemCoreClock
HAL_GetTick
memset
sprintf
strlen
htim2
strtol
HAL_UART_Transmit
strncmp
strtok
atoi
ARM GAS  /tmp/ccZLh1YE.s 			page 58


strncpy
strncat
huart1
HAL_UART_Receive_IT
HAL_GPIO_TogglePin
htim4
HAL_RCC_OscConfig
HAL_RCC_ClockConfig
HAL_Init
MX_GPIO_Init
MX_DMA_Init
MX_TIM2_Init
MX_USART1_UART_Init
MX_USART3_UART_Init
MX_TIM3_Init
MX_TIM4_Init
HAL_TIM_Base_Start_IT
HAL_NVIC_SetPriority
HAL_NVIC_EnableIRQ
HAL_UART_Transmit_DMA
htim3
huart3
