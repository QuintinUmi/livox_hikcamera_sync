ARM GAS  /tmp/ccvY7C6x.s 			page 1


   1              		.cpu cortex-m3
   2              		.eabi_attribute 20, 1
   3              		.eabi_attribute 21, 1
   4              		.eabi_attribute 23, 3
   5              		.eabi_attribute 24, 1
   6              		.eabi_attribute 25, 1
   7              		.eabi_attribute 26, 1
   8              		.eabi_attribute 30, 1
   9              		.eabi_attribute 34, 1
  10              		.eabi_attribute 18, 4
  11              		.file	"main.c"
  12              		.text
  13              	.Ltext0:
  14              		.cfi_sections	.debug_frame
  15              		.section	.text.Error_Handler_Custom,"ax",%progbits
  16              		.align	1
  17              		.global	Error_Handler_Custom
  18              		.arch armv7-m
  19              		.syntax unified
  20              		.thumb
  21              		.thumb_func
  22              		.fpu softvfp
  24              	Error_Handler_Custom:
  25              	.LFB68:
  26              		.file 1 "Src/main.c"
   1:Src/main.c    **** /* USER CODE BEGIN Header */
   2:Src/main.c    **** /**
   3:Src/main.c    ****   ******************************************************************************
   4:Src/main.c    ****   * @file           : main.c
   5:Src/main.c    ****   * @brief          : Main program body
   6:Src/main.c    ****   ******************************************************************************
   7:Src/main.c    ****   * @attention
   8:Src/main.c    ****   *
   9:Src/main.c    ****   * Copyright (c) 2024 STMicroelectronics.
  10:Src/main.c    ****   * All rights reserved.
  11:Src/main.c    ****   *
  12:Src/main.c    ****   * This software is licensed under terms that can be found in the LICENSE file
  13:Src/main.c    ****   * in the root directory of this software component.
  14:Src/main.c    ****   * If no LICENSE file comes with this software, it is provided AS-IS.
  15:Src/main.c    ****   *
  16:Src/main.c    ****   ******************************************************************************
  17:Src/main.c    ****   */
  18:Src/main.c    **** /* USER CODE END Header */
  19:Src/main.c    **** /* Includes ------------------------------------------------------------------*/
  20:Src/main.c    **** #include "main.h"
  21:Src/main.c    **** #include "dma.h"
  22:Src/main.c    **** #include "tim.h"
  23:Src/main.c    **** #include "usart.h"
  24:Src/main.c    **** #include "gpio.h"
  25:Src/main.c    **** 
  26:Src/main.c    **** /* Private includes ----------------------------------------------------------*/
  27:Src/main.c    **** /* USER CODE BEGIN Includes */
  28:Src/main.c    **** #include <stdio.h>
  29:Src/main.c    **** #include <stdlib.h>
  30:Src/main.c    **** #include <string.h>
  31:Src/main.c    **** #include "core_cm3.h"
  32:Src/main.c    **** /* USER CODE END Includes */
ARM GAS  /tmp/ccvY7C6x.s 			page 2


  33:Src/main.c    **** 
  34:Src/main.c    **** /* Private typedef -----------------------------------------------------------*/
  35:Src/main.c    **** /* USER CODE BEGIN PTD */
  36:Src/main.c    **** 
  37:Src/main.c    **** /* USER CODE END PTD */
  38:Src/main.c    **** 
  39:Src/main.c    **** /* Private define ------------------------------------------------------------*/
  40:Src/main.c    **** /* USER CODE BEGIN PD */
  41:Src/main.c    **** 
  42:Src/main.c    **** /* USER CODE END PD */
  43:Src/main.c    **** 
  44:Src/main.c    **** /* Private macro -------------------------------------------------------------*/
  45:Src/main.c    **** /* USER CODE BEGIN PM */
  46:Src/main.c    **** 
  47:Src/main.c    **** /* USER CODE END PM */
  48:Src/main.c    **** 
  49:Src/main.c    **** /* Private variables ---------------------------------------------------------*/
  50:Src/main.c    **** 
  51:Src/main.c    **** /* USER CODE BEGIN PV */
  52:Src/main.c    **** 
  53:Src/main.c    **** /* USER CODE END PV */
  54:Src/main.c    **** 
  55:Src/main.c    **** /* Private function prototypes -----------------------------------------------*/
  56:Src/main.c    **** void SystemClock_Config(void);
  57:Src/main.c    **** /* USER CODE BEGIN PFP */
  58:Src/main.c    **** 
  59:Src/main.c    **** /* USER CODE END PFP */
  60:Src/main.c    **** 
  61:Src/main.c    **** /* Private user code ---------------------------------------------------------*/
  62:Src/main.c    **** /* USER CODE BEGIN 0 */
  63:Src/main.c    **** 
  64:Src/main.c    **** 
  65:Src/main.c    **** 
  66:Src/main.c    **** // 定义基准时间 2003-02-12 02:00:00
  67:Src/main.c    **** unsigned int BASE_YEAR = 2003;
  68:Src/main.c    **** unsigned int  BASE_MONTH = 2;
  69:Src/main.c    **** unsigned int  BASE_DAY = 12;
  70:Src/main.c    **** unsigned int  BASE_HOUR = 2;
  71:Src/main.c    **** unsigned int BASE_MINUTE = 0;
  72:Src/main.c    **** unsigned int  BASE_SECOND = 0;
  73:Src/main.c    **** 
  74:Src/main.c    **** // 定义位置
  75:Src/main.c    **** char LATITUDE[20] = "2237.8840,N"; // 22.6314°N
  76:Src/main.c    **** char LONGITUDE[20] = "11009.2400,E"; // 110.154°E
  77:Src/main.c    **** 
  78:Src/main.c    **** // 初始时间设置
  79:Src/main.c    **** uint32_t baseTime = 0; // 秒数
  80:Src/main.c    **** 
  81:Src/main.c    **** uint32_t baseTick = 0;
  82:Src/main.c    **** uint32_t elapsed = 0;
  83:Src/main.c    **** 
  84:Src/main.c    **** // GPS数据模拟
  85:Src/main.c    **** char gprmc_data[100];
  86:Src/main.c    **** 
  87:Src/main.c    **** 
  88:Src/main.c    **** 
  89:Src/main.c    **** // USART句柄声明
ARM GAS  /tmp/ccvY7C6x.s 			page 3


  90:Src/main.c    **** extern UART_HandleTypeDef huart3;
  91:Src/main.c    **** extern UART_HandleTypeDef huart1;
  92:Src/main.c    **** 
  93:Src/main.c    **** uint8_t uart_rx_buffer; 
  94:Src/main.c    **** 
  95:Src/main.c    **** // 定时器句柄声明
  96:Src/main.c    **** extern TIM_HandleTypeDef htim2; 
  97:Src/main.c    **** extern TIM_HandleTypeDef htim3;
  98:Src/main.c    **** extern TIM_HandleTypeDef htim4; // 100Hz -- /100: PPS ,  /10: Trigger
  99:Src/main.c    **** 
 100:Src/main.c    **** 
 101:Src/main.c    **** // 触发发送trigger的标志
 102:Src/main.c    **** volatile uint8_t trigger_flag = 0;
 103:Src/main.c    **** // 触发发送GPS数据的标志
 104:Src/main.c    **** volatile uint8_t send_gps_flag = 0;
 105:Src/main.c    **** 
 106:Src/main.c    **** 
 107:Src/main.c    **** 
 108:Src/main.c    **** void Error_Handler_Custom(void)
 109:Src/main.c    **** {
  27              		.loc 1 109 1 view -0
  28              		.cfi_startproc
  29              		@ args = 0, pretend = 0, frame = 0
  30              		@ frame_needed = 0, uses_anonymous_args = 0
  31 0000 08B5     		push	{r3, lr}
  32              	.LCFI0:
  33              		.cfi_def_cfa_offset 8
  34              		.cfi_offset 3, -8
  35              		.cfi_offset 14, -4
  36              	.L6:
 110:Src/main.c    **** 
 111:Src/main.c    ****   while (1) {
  37              		.loc 1 111 3 view .LVU1
 112:Src/main.c    ****     // 闪烁错误指示 LED 
 113:Src/main.c    ****     HAL_GPIO_WritePin(GPIOC, GPIO_PIN_5, RESET); 
  38              		.loc 1 113 5 view .LVU2
  39 0002 0022     		movs	r2, #0
  40 0004 2021     		movs	r1, #32
  41 0006 0F48     		ldr	r0, .L9
  42 0008 FFF7FEFF 		bl	HAL_GPIO_WritePin
  43              	.LVL0:
 114:Src/main.c    ****     HAL_GPIO_WritePin(GPIOB, GPIO_PIN_2, RESET); 
  44              		.loc 1 114 5 view .LVU3
  45 000c 0022     		movs	r2, #0
  46 000e 0421     		movs	r1, #4
  47 0010 0D48     		ldr	r0, .L9+4
  48 0012 FFF7FEFF 		bl	HAL_GPIO_WritePin
  49              	.LVL1:
 115:Src/main.c    ****     for(int i = 0; i < 500; i ++);
  50              		.loc 1 115 5 view .LVU4
  51              	.LBB2:
  52              		.loc 1 115 9 view .LVU5
  53              		.loc 1 115 13 is_stmt 0 view .LVU6
  54 0016 0023     		movs	r3, #0
  55              	.LVL2:
  56              	.L2:
  57              		.loc 1 115 20 is_stmt 1 discriminator 1 view .LVU7
ARM GAS  /tmp/ccvY7C6x.s 			page 4


  58              		.loc 1 115 5 is_stmt 0 discriminator 1 view .LVU8
  59 0018 B3F5FA7F 		cmp	r3, #500
  60 001c 01DA     		bge	.L8
  61              		.loc 1 115 34 is_stmt 1 discriminator 3 view .LVU9
  62              		.loc 1 115 29 discriminator 3 view .LVU10
  63              		.loc 1 115 31 is_stmt 0 discriminator 3 view .LVU11
  64 001e 0133     		adds	r3, r3, #1
  65              	.LVL3:
  66              		.loc 1 115 31 discriminator 3 view .LVU12
  67 0020 FAE7     		b	.L2
  68              	.L8:
  69              		.loc 1 115 31 discriminator 3 view .LVU13
  70              	.LBE2:
 116:Src/main.c    ****     HAL_GPIO_WritePin(GPIOC, GPIO_PIN_5, SET); 
  71              		.loc 1 116 5 is_stmt 1 view .LVU14
  72 0022 0122     		movs	r2, #1
  73 0024 2021     		movs	r1, #32
  74 0026 0748     		ldr	r0, .L9
  75 0028 FFF7FEFF 		bl	HAL_GPIO_WritePin
  76              	.LVL4:
 117:Src/main.c    ****     HAL_GPIO_WritePin(GPIOB, GPIO_PIN_2, SET); 
  77              		.loc 1 117 5 view .LVU15
  78 002c 0122     		movs	r2, #1
  79 002e 0421     		movs	r1, #4
  80 0030 0548     		ldr	r0, .L9+4
  81 0032 FFF7FEFF 		bl	HAL_GPIO_WritePin
  82              	.LVL5:
 118:Src/main.c    ****     for(int i = 0; i < 500; i ++);
  83              		.loc 1 118 5 view .LVU16
  84              	.LBB3:
  85              		.loc 1 118 9 view .LVU17
  86              		.loc 1 118 13 is_stmt 0 view .LVU18
  87 0036 0023     		movs	r3, #0
  88              	.LVL6:
  89              	.L4:
  90              		.loc 1 118 20 is_stmt 1 discriminator 1 view .LVU19
  91              		.loc 1 118 5 is_stmt 0 discriminator 1 view .LVU20
  92 0038 B3F5FA7F 		cmp	r3, #500
  93 003c E1DA     		bge	.L6
  94              		.loc 1 118 34 is_stmt 1 discriminator 3 view .LVU21
  95              		.loc 1 118 29 discriminator 3 view .LVU22
  96              		.loc 1 118 31 is_stmt 0 discriminator 3 view .LVU23
  97 003e 0133     		adds	r3, r3, #1
  98              	.LVL7:
  99              		.loc 1 118 31 discriminator 3 view .LVU24
 100 0040 FAE7     		b	.L4
 101              	.L10:
 102 0042 00BF     		.align	2
 103              	.L9:
 104 0044 00100140 		.word	1073811456
 105 0048 000C0140 		.word	1073810432
 106              	.LBE3:
 107              		.cfi_endproc
 108              	.LFE68:
 110              		.section	.text.DWT_Init,"ax",%progbits
 111              		.align	1
 112              		.global	DWT_Init
ARM GAS  /tmp/ccvY7C6x.s 			page 5


 113              		.syntax unified
 114              		.thumb
 115              		.thumb_func
 116              		.fpu softvfp
 118              	DWT_Init:
 119              	.LFB69:
 119:Src/main.c    ****   }
 120:Src/main.c    **** }
 121:Src/main.c    **** 
 122:Src/main.c    **** 
 123:Src/main.c    **** void DWT_Init(void) {
 120              		.loc 1 123 21 is_stmt 1 view -0
 121              		.cfi_startproc
 122              		@ args = 0, pretend = 0, frame = 0
 123              		@ frame_needed = 0, uses_anonymous_args = 0
 124              		@ link register save eliminated.
 124:Src/main.c    ****     if (!(DWT->CTRL & DWT_CTRL_CYCCNTENA_Msk)) {
 125              		.loc 1 124 5 view .LVU26
 126              		.loc 1 124 14 is_stmt 0 view .LVU27
 127 0000 084B     		ldr	r3, .L13
 128 0002 1B68     		ldr	r3, [r3]
 129              		.loc 1 124 8 view .LVU28
 130 0004 13F0010F 		tst	r3, #1
 131 0008 0BD1     		bne	.L11
 125:Src/main.c    ****         CoreDebug->DEMCR |= CoreDebug_DEMCR_TRCENA_Msk; // 启用DWT和ITM单元
 132              		.loc 1 125 9 is_stmt 1 view .LVU29
 133              		.loc 1 125 26 is_stmt 0 view .LVU30
 134 000a 074A     		ldr	r2, .L13+4
 135 000c D368     		ldr	r3, [r2, #12]
 136 000e 43F08073 		orr	r3, r3, #16777216
 137 0012 D360     		str	r3, [r2, #12]
 126:Src/main.c    ****         DWT->CYCCNT = 0; // 清零计数器
 138              		.loc 1 126 9 is_stmt 1 view .LVU31
 139              		.loc 1 126 21 is_stmt 0 view .LVU32
 140 0014 034B     		ldr	r3, .L13
 141 0016 0022     		movs	r2, #0
 142 0018 5A60     		str	r2, [r3, #4]
 127:Src/main.c    ****         DWT->CTRL |= DWT_CTRL_CYCCNTENA_Msk; // 启用CYCCNT
 143              		.loc 1 127 9 is_stmt 1 view .LVU33
 144              		.loc 1 127 19 is_stmt 0 view .LVU34
 145 001a 1A68     		ldr	r2, [r3]
 146 001c 42F00102 		orr	r2, r2, #1
 147 0020 1A60     		str	r2, [r3]
 148              	.L11:
 128:Src/main.c    ****     }
 129:Src/main.c    **** }
 149              		.loc 1 129 1 view .LVU35
 150 0022 7047     		bx	lr
 151              	.L14:
 152              		.align	2
 153              	.L13:
 154 0024 001000E0 		.word	-536866816
 155 0028 F0ED00E0 		.word	-536810000
 156              		.cfi_endproc
 157              	.LFE69:
 159              		.section	.text.DWT_Delay,"ax",%progbits
 160              		.align	1
ARM GAS  /tmp/ccvY7C6x.s 			page 6


 161              		.global	DWT_Delay
 162              		.syntax unified
 163              		.thumb
 164              		.thumb_func
 165              		.fpu softvfp
 167              	DWT_Delay:
 168              	.LVL8:
 169              	.LFB70:
 130:Src/main.c    **** void DWT_Delay(uint32_t us) {   // 微秒级延时
 170              		.loc 1 130 29 is_stmt 1 view -0
 171              		.cfi_startproc
 172              		@ args = 0, pretend = 0, frame = 0
 173              		@ frame_needed = 0, uses_anonymous_args = 0
 174              		@ link register save eliminated.
 131:Src/main.c    ****     uint32_t startTick = DWT->CYCCNT;
 175              		.loc 1 131 5 view .LVU37
 176              		.loc 1 131 14 is_stmt 0 view .LVU38
 177 0000 074B     		ldr	r3, .L17
 178 0002 5A68     		ldr	r2, [r3, #4]
 179              	.LVL9:
 132:Src/main.c    ****     uint32_t delayTicks = us * (SystemCoreClock / 1000000); // 转换微秒为tick数
 180              		.loc 1 132 5 is_stmt 1 view .LVU39
 181              		.loc 1 132 49 is_stmt 0 view .LVU40
 182 0004 074B     		ldr	r3, .L17+4
 183 0006 1B68     		ldr	r3, [r3]
 184 0008 0749     		ldr	r1, .L17+8
 185 000a A1FB0313 		umull	r1, r3, r1, r3
 186 000e 9B0C     		lsrs	r3, r3, #18
 187              		.loc 1 132 14 view .LVU41
 188 0010 00FB03F0 		mul	r0, r0, r3
 189              	.LVL10:
 133:Src/main.c    **** 
 134:Src/main.c    ****     while (DWT->CYCCNT - startTick < delayTicks);
 190              		.loc 1 134 5 is_stmt 1 view .LVU42
 191              	.L16:
 192              		.loc 1 134 49 discriminator 1 view .LVU43
 193              		.loc 1 134 11 discriminator 1 view .LVU44
 194              		.loc 1 134 15 is_stmt 0 discriminator 1 view .LVU45
 195 0014 024B     		ldr	r3, .L17
 196 0016 5B68     		ldr	r3, [r3, #4]
 197              		.loc 1 134 24 discriminator 1 view .LVU46
 198 0018 9B1A     		subs	r3, r3, r2
 199              		.loc 1 134 11 discriminator 1 view .LVU47
 200 001a 8342     		cmp	r3, r0
 201 001c FAD3     		bcc	.L16
 135:Src/main.c    **** }
 202              		.loc 1 135 1 view .LVU48
 203 001e 7047     		bx	lr
 204              	.L18:
 205              		.align	2
 206              	.L17:
 207 0020 001000E0 		.word	-536866816
 208 0024 00000000 		.word	SystemCoreClock
 209 0028 83DE1B43 		.word	1125899907
 210              		.cfi_endproc
 211              	.LFE70:
 213              		.section	.text.nmea_checksum,"ax",%progbits
ARM GAS  /tmp/ccvY7C6x.s 			page 7


 214              		.align	1
 215              		.global	nmea_checksum
 216              		.syntax unified
 217              		.thumb
 218              		.thumb_func
 219              		.fpu softvfp
 221              	nmea_checksum:
 222              	.LVL11:
 223              	.LFB71:
 136:Src/main.c    **** 
 137:Src/main.c    **** 
 138:Src/main.c    **** // 校验和计算函数
 139:Src/main.c    **** uint8_t nmea_checksum(const char* sentence) {
 224              		.loc 1 139 45 is_stmt 1 view -0
 225              		.cfi_startproc
 226              		@ args = 0, pretend = 0, frame = 0
 227              		@ frame_needed = 0, uses_anonymous_args = 0
 228              		@ link register save eliminated.
 229              		.loc 1 139 45 is_stmt 0 view .LVU50
 230 0000 0246     		mov	r2, r0
 140:Src/main.c    ****     uint8_t checksum = 0;
 231              		.loc 1 140 5 is_stmt 1 view .LVU51
 232              	.LVL12:
 141:Src/main.c    ****     if (*sentence == '$') {
 233              		.loc 1 141 5 view .LVU52
 234              		.loc 1 141 9 is_stmt 0 view .LVU53
 235 0002 0378     		ldrb	r3, [r0]	@ zero_extendqisi2
 236              		.loc 1 141 8 view .LVU54
 237 0004 242B     		cmp	r3, #36
 238 0006 07D0     		beq	.L24
 239              	.LVL13:
 240              	.L20:
 139:Src/main.c    ****     uint8_t checksum = 0;
 241              		.loc 1 139 45 view .LVU55
 242 0008 0020     		movs	r0, #0
 243              	.LVL14:
 244              	.L21:
 142:Src/main.c    ****         sentence++;  // Skip '$'
 143:Src/main.c    ****     }
 144:Src/main.c    ****     
 145:Src/main.c    ****     while (*sentence && *sentence != '*') {
 245              		.loc 1 145 11 is_stmt 1 view .LVU56
 246              		.loc 1 145 12 is_stmt 0 view .LVU57
 247 000a 1378     		ldrb	r3, [r2]	@ zero_extendqisi2
 248              		.loc 1 145 11 view .LVU58
 249 000c 33B1     		cbz	r3, .L22
 250              		.loc 1 145 22 discriminator 1 view .LVU59
 251 000e 2A2B     		cmp	r3, #42
 252 0010 04D0     		beq	.L22
 146:Src/main.c    ****         checksum ^= *sentence++;
 253              		.loc 1 146 9 is_stmt 1 view .LVU60
 254              		.loc 1 146 30 is_stmt 0 view .LVU61
 255 0012 0132     		adds	r2, r2, #1
 256              	.LVL15:
 257              		.loc 1 146 18 view .LVU62
 258 0014 5840     		eors	r0, r0, r3
 259              	.LVL16:
ARM GAS  /tmp/ccvY7C6x.s 			page 8


 260              		.loc 1 146 18 view .LVU63
 261 0016 F8E7     		b	.L21
 262              	.LVL17:
 263              	.L24:
 142:Src/main.c    ****         sentence++;  // Skip '$'
 264              		.loc 1 142 9 is_stmt 1 view .LVU64
 142:Src/main.c    ****         sentence++;  // Skip '$'
 265              		.loc 1 142 17 is_stmt 0 view .LVU65
 266 0018 0132     		adds	r2, r2, #1
 267              	.LVL18:
 142:Src/main.c    ****         sentence++;  // Skip '$'
 268              		.loc 1 142 17 view .LVU66
 269 001a F5E7     		b	.L20
 270              	.LVL19:
 271              	.L22:
 147:Src/main.c    ****     }
 148:Src/main.c    ****     return checksum;
 272              		.loc 1 148 5 is_stmt 1 view .LVU67
 149:Src/main.c    **** }
 273              		.loc 1 149 1 is_stmt 0 view .LVU68
 274 001c 7047     		bx	lr
 275              		.cfi_endproc
 276              	.LFE71:
 278              		.section	.rodata.GPRMC_Generator.str1.4,"aMS",%progbits,1
 279              		.align	2
 280              	.LC0:
 281 0000 24475052 		.ascii	"$GPRMC,%02d%02d%02d.00,A,%s,%s,0.00,0.00,%02d%02d%0"
 281      4D432C25 
 281      30326425 
 281      30326425 
 281      3032642E 
 282 0033 32642C2C 		.ascii	"2d,,,A*\000"
 282      2C412A00 
 283 003b 00       		.align	2
 284              	.LC1:
 285 003c 25303258 		.ascii	"%02X\015\012\000"
 285      0D0A00
 286              		.section	.text.GPRMC_Generator,"ax",%progbits
 287              		.align	1
 288              		.global	GPRMC_Generator
 289              		.syntax unified
 290              		.thumb
 291              		.thumb_func
 292              		.fpu softvfp
 294              	GPRMC_Generator:
 295              	.LVL20:
 296              	.LFB72:
 150:Src/main.c    **** 
 151:Src/main.c    **** 
 152:Src/main.c    **** 
 153:Src/main.c    **** // GPRMC Generator
 154:Src/main.c    **** void GPRMC_Generator(uint32_t input_baseTime) {
 297              		.loc 1 154 47 is_stmt 1 view -0
 298              		.cfi_startproc
 299              		@ args = 0, pretend = 0, frame = 0
 300              		@ frame_needed = 0, uses_anonymous_args = 0
 301              		.loc 1 154 47 is_stmt 0 view .LVU70
ARM GAS  /tmp/ccvY7C6x.s 			page 9


 302 0000 2DE9F041 		push	{r4, r5, r6, r7, r8, lr}
 303              	.LCFI1:
 304              		.cfi_def_cfa_offset 24
 305              		.cfi_offset 4, -24
 306              		.cfi_offset 5, -20
 307              		.cfi_offset 6, -16
 308              		.cfi_offset 7, -12
 309              		.cfi_offset 8, -8
 310              		.cfi_offset 14, -4
 311 0004 86B0     		sub	sp, sp, #24
 312              	.LCFI2:
 313              		.cfi_def_cfa_offset 48
 155:Src/main.c    ****     
 156:Src/main.c    ****     uint32_t culmulative_hms = 3600 * BASE_HOUR + 60 * BASE_MINUTE + BASE_SECOND;
 314              		.loc 1 156 5 is_stmt 1 view .LVU71
 315              		.loc 1 156 37 is_stmt 0 view .LVU72
 316 0006 324B     		ldr	r3, .L27
 317 0008 1C68     		ldr	r4, [r3]
 318              		.loc 1 156 54 view .LVU73
 319 000a 324B     		ldr	r3, .L27+4
 320 000c 1B68     		ldr	r3, [r3]
 321 000e C3EB0313 		rsb	r3, r3, r3, lsl #4
 322 0012 9B00     		lsls	r3, r3, #2
 323              		.loc 1 156 49 view .LVU74
 324 0014 4FF46160 		mov	r0, #3600
 325              	.LVL21:
 326              		.loc 1 156 49 view .LVU75
 327 0018 00FB0433 		mla	r3, r0, r4, r3
 328              		.loc 1 156 68 view .LVU76
 329 001c 2E4A     		ldr	r2, .L27+8
 330 001e 1468     		ldr	r4, [r2]
 331              		.loc 1 156 14 view .LVU77
 332 0020 1C44     		add	r4, r4, r3
 333              	.LVL22:
 157:Src/main.c    ****     uint32_t currentTime = culmulative_hms + (HAL_GetTick() + elapsed) / 1000;
 334              		.loc 1 157 5 is_stmt 1 view .LVU78
 335              		.loc 1 157 47 is_stmt 0 view .LVU79
 336 0022 FFF7FEFF 		bl	HAL_GetTick
 337              	.LVL23:
 338              		.loc 1 157 61 view .LVU80
 339 0026 2D4B     		ldr	r3, .L27+12
 340 0028 1B68     		ldr	r3, [r3]
 341 002a 1844     		add	r0, r0, r3
 342              		.loc 1 157 72 view .LVU81
 343 002c 2C4B     		ldr	r3, .L27+16
 344 002e A3FB0030 		umull	r3, r0, r3, r0
 345              		.loc 1 157 14 view .LVU82
 346 0032 04EB9010 		add	r0, r4, r0, lsr #6
 347              	.LVL24:
 158:Src/main.c    ****     uint8_t hour = (currentTime / 3600) % 24;
 348              		.loc 1 158 5 is_stmt 1 view .LVU83
 349              		.loc 1 158 33 is_stmt 0 view .LVU84
 350 0036 2B4B     		ldr	r3, .L27+20
 351 0038 A3FB0023 		umull	r2, r3, r3, r0
 352 003c DB0A     		lsrs	r3, r3, #11
 353              		.loc 1 158 41 view .LVU85
 354 003e 2A4D     		ldr	r5, .L27+24
ARM GAS  /tmp/ccvY7C6x.s 			page 10


 355 0040 A5FB0325 		umull	r2, r5, r5, r3
 356 0044 2D09     		lsrs	r5, r5, #4
 357 0046 05EB4505 		add	r5, r5, r5, lsl #1
 358 004a A3EBC505 		sub	r5, r3, r5, lsl #3
 359              	.LVL25:
 159:Src/main.c    ****     uint8_t minute = (currentTime / 60) % 60;
 360              		.loc 1 159 5 is_stmt 1 view .LVU86
 361              		.loc 1 159 35 is_stmt 0 view .LVU87
 362 004e 274C     		ldr	r4, .L27+28
 363              	.LVL26:
 364              		.loc 1 159 35 view .LVU88
 365 0050 A4FB0023 		umull	r2, r3, r4, r0
 366 0054 5B09     		lsrs	r3, r3, #5
 367              		.loc 1 159 41 view .LVU89
 368 0056 A4FB0324 		umull	r2, r4, r4, r3
 369 005a 6409     		lsrs	r4, r4, #5
 370 005c C4EB0414 		rsb	r4, r4, r4, lsl #4
 371 0060 A3EB8404 		sub	r4, r3, r4, lsl #2
 372              	.LVL27:
 160:Src/main.c    ****     uint8_t second = currentTime % 60;
 373              		.loc 1 160 5 is_stmt 1 view .LVU90
 374              		.loc 1 160 34 is_stmt 0 view .LVU91
 375 0064 C3EB0313 		rsb	r3, r3, r3, lsl #4
 376 0068 A0EB8306 		sub	r6, r0, r3, lsl #2
 377              	.LVL28:
 161:Src/main.c    **** 
 162:Src/main.c    ****     memset(gprmc_data, 0, sizeof(gprmc_data));
 378              		.loc 1 162 5 is_stmt 1 view .LVU92
 379 006c 204F     		ldr	r7, .L27+32
 380 006e 4FF06408 		mov	r8, #100
 381 0072 4246     		mov	r2, r8
 382 0074 0021     		movs	r1, #0
 383 0076 3846     		mov	r0, r7
 384              	.LVL29:
 385              		.loc 1 162 5 is_stmt 0 view .LVU93
 386 0078 FFF7FEFF 		bl	memset
 387              	.LVL30:
 163:Src/main.c    **** 
 164:Src/main.c    ****     // sprintf(gprmc_data, "$GPRMC,020008.00,A,2237.8840,N,11009.2400,E,0.00,0.00,120203,,,A*");
 165:Src/main.c    ****     sprintf(gprmc_data, "$GPRMC,%02d%02d%02d.00,A,%s,%s,0.00,0.00,%02d%02d%02d,,,A*",
 388              		.loc 1 165 5 is_stmt 1 view .LVU94
 389 007c 1D4B     		ldr	r3, .L27+36
 390 007e 1B68     		ldr	r3, [r3]
 391 0080 1D4A     		ldr	r2, .L27+40
 392 0082 A2FB0312 		umull	r1, r2, r2, r3
 393 0086 5209     		lsrs	r2, r2, #5
 394 0088 08FB1232 		mls	r2, r8, r2, r3
 395 008c 0592     		str	r2, [sp, #20]
 396 008e 1B4B     		ldr	r3, .L27+44
 397 0090 1B68     		ldr	r3, [r3]
 398 0092 0493     		str	r3, [sp, #16]
 399 0094 1A4B     		ldr	r3, .L27+48
 400 0096 1B68     		ldr	r3, [r3]
 401 0098 0393     		str	r3, [sp, #12]
 402 009a 1A4B     		ldr	r3, .L27+52
 403 009c 0293     		str	r3, [sp, #8]
 404 009e 1A4B     		ldr	r3, .L27+56
ARM GAS  /tmp/ccvY7C6x.s 			page 11


 405 00a0 0193     		str	r3, [sp, #4]
 406 00a2 F6B2     		uxtb	r6, r6
 407              		.loc 1 165 5 is_stmt 0 view .LVU95
 408 00a4 0096     		str	r6, [sp]
 409 00a6 E3B2     		uxtb	r3, r4
 410 00a8 EAB2     		uxtb	r2, r5
 411 00aa 1849     		ldr	r1, .L27+60
 412 00ac 3846     		mov	r0, r7
 413 00ae FFF7FEFF 		bl	sprintf
 414              	.LVL31:
 166:Src/main.c    ****             hour, minute, second, LATITUDE, LONGITUDE, BASE_DAY, BASE_MONTH, (BASE_YEAR % 100));
 167:Src/main.c    ****     
 168:Src/main.c    **** 
 169:Src/main.c    ****     // check sum
 170:Src/main.c    ****     uint8_t checksum = nmea_checksum(gprmc_data);
 415              		.loc 1 170 5 is_stmt 1 view .LVU96
 416              		.loc 1 170 24 is_stmt 0 view .LVU97
 417 00b2 3846     		mov	r0, r7
 418 00b4 FFF7FEFF 		bl	nmea_checksum
 419              	.LVL32:
 420 00b8 0446     		mov	r4, r0
 421              	.LVL33:
 171:Src/main.c    ****     
 172:Src/main.c    ****     int length = strlen(gprmc_data);
 422              		.loc 1 172 5 is_stmt 1 view .LVU98
 423              		.loc 1 172 18 is_stmt 0 view .LVU99
 424 00ba 3846     		mov	r0, r7
 425 00bc FFF7FEFF 		bl	strlen
 426              	.LVL34:
 173:Src/main.c    ****     sprintf(gprmc_data + length, "%02X\r\n", checksum);
 427              		.loc 1 173 5 is_stmt 1 view .LVU100
 428 00c0 2246     		mov	r2, r4
 429 00c2 1349     		ldr	r1, .L27+64
 430 00c4 3844     		add	r0, r0, r7
 431              	.LVL35:
 432              		.loc 1 173 5 is_stmt 0 view .LVU101
 433 00c6 FFF7FEFF 		bl	sprintf
 434              	.LVL36:
 174:Src/main.c    **** 
 175:Src/main.c    **** }
 435              		.loc 1 175 1 view .LVU102
 436 00ca 06B0     		add	sp, sp, #24
 437              	.LCFI3:
 438              		.cfi_def_cfa_offset 24
 439              		@ sp needed
 440 00cc BDE8F081 		pop	{r4, r5, r6, r7, r8, pc}
 441              	.LVL37:
 442              	.L28:
 443              		.loc 1 175 1 view .LVU103
 444              		.align	2
 445              	.L27:
 446 00d0 00000000 		.word	.LANCHOR0
 447 00d4 00000000 		.word	.LANCHOR1
 448 00d8 00000000 		.word	.LANCHOR2
 449 00dc 00000000 		.word	.LANCHOR3
 450 00e0 D34D6210 		.word	274877907
 451 00e4 C5B3A291 		.word	-1851608123
ARM GAS  /tmp/ccvY7C6x.s 			page 12


 452 00e8 ABAAAAAA 		.word	-1431655765
 453 00ec 89888888 		.word	-2004318071
 454 00f0 00000000 		.word	gprmc_data
 455 00f4 00000000 		.word	.LANCHOR4
 456 00f8 1F85EB51 		.word	1374389535
 457 00fc 00000000 		.word	.LANCHOR5
 458 0100 00000000 		.word	.LANCHOR6
 459 0104 00000000 		.word	.LANCHOR7
 460 0108 00000000 		.word	.LANCHOR8
 461 010c 00000000 		.word	.LC0
 462 0110 3C000000 		.word	.LC1
 463              		.cfi_endproc
 464              	.LFE72:
 466              		.section	.text.TIM2_IRQHandler,"ax",%progbits
 467              		.align	1
 468              		.global	TIM2_IRQHandler
 469              		.syntax unified
 470              		.thumb
 471              		.thumb_func
 472              		.fpu softvfp
 474              	TIM2_IRQHandler:
 475              	.LFB73:
 176:Src/main.c    **** 
 177:Src/main.c    **** 
 178:Src/main.c    **** 
 179:Src/main.c    **** 
 180:Src/main.c    **** volatile uint8_t enable_synchrone = 1;
 181:Src/main.c    **** 
 182:Src/main.c    **** void TIM2_IRQHandler(void)
 183:Src/main.c    **** {
 476              		.loc 1 183 1 is_stmt 1 view -0
 477              		.cfi_startproc
 478              		@ args = 0, pretend = 0, frame = 0
 479              		@ frame_needed = 0, uses_anonymous_args = 0
 480 0000 08B5     		push	{r3, lr}
 481              	.LCFI4:
 482              		.cfi_def_cfa_offset 8
 483              		.cfi_offset 3, -8
 484              		.cfi_offset 14, -4
 184:Src/main.c    ****     if(__HAL_TIM_GET_FLAG(&htim2, TIM_FLAG_TRIGGER) != RESET) {
 485              		.loc 1 184 5 view .LVU105
 486              		.loc 1 184 8 is_stmt 0 view .LVU106
 487 0002 124B     		ldr	r3, .L34
 488 0004 1B68     		ldr	r3, [r3]
 489 0006 1A69     		ldr	r2, [r3, #16]
 490              		.loc 1 184 7 view .LVU107
 491 0008 12F0400F 		tst	r2, #64
 492 000c 08D0     		beq	.L30
 185:Src/main.c    ****         __HAL_TIM_CLEAR_IT(&htim2, TIM_IT_TRIGGER);
 493              		.loc 1 185 9 is_stmt 1 view .LVU108
 494 000e 6FF04002 		mvn	r2, #64
 495 0012 1A61     		str	r2, [r3, #16]
 186:Src/main.c    **** 
 187:Src/main.c    ****         enable_synchrone = !enable_synchrone;
 496              		.loc 1 187 9 view .LVU109
 497              		.loc 1 187 28 is_stmt 0 view .LVU110
 498 0014 0E49     		ldr	r1, .L34+4
ARM GAS  /tmp/ccvY7C6x.s 			page 13


 499 0016 0A78     		ldrb	r2, [r1]	@ zero_extendqisi2
 500 0018 B2FA82F2 		clz	r2, r2
 501 001c 5209     		lsrs	r2, r2, #5
 502              		.loc 1 187 26 view .LVU111
 503 001e 0A70     		strb	r2, [r1]
 504              	.L30:
 188:Src/main.c    **** 
 189:Src/main.c    ****     }
 190:Src/main.c    **** 
 191:Src/main.c    ****     if (__HAL_TIM_GET_FLAG(&htim2, TIM_FLAG_UPDATE) != RESET) {
 505              		.loc 1 191 5 is_stmt 1 view .LVU112
 506              		.loc 1 191 9 is_stmt 0 view .LVU113
 507 0020 1A69     		ldr	r2, [r3, #16]
 508              		.loc 1 191 8 view .LVU114
 509 0022 12F0010F 		tst	r2, #1
 510 0026 05D0     		beq	.L29
 192:Src/main.c    ****         __HAL_TIM_CLEAR_IT(&htim2, TIM_IT_UPDATE);
 511              		.loc 1 192 9 is_stmt 1 view .LVU115
 512 0028 6FF00102 		mvn	r2, #1
 513 002c 1A61     		str	r2, [r3, #16]
 193:Src/main.c    **** 
 194:Src/main.c    ****         if(!enable_synchrone)
 514              		.loc 1 194 9 view .LVU116
 515              		.loc 1 194 12 is_stmt 0 view .LVU117
 516 002e 084B     		ldr	r3, .L34+4
 517 0030 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 518              		.loc 1 194 11 view .LVU118
 519 0032 03B1     		cbz	r3, .L33
 520              	.L29:
 195:Src/main.c    ****         {
 196:Src/main.c    ****             HAL_GPIO_WritePin(GPIOC, GPIO_PIN_5, RESET); 
 197:Src/main.c    ****             HAL_GPIO_WritePin(GPIOB, GPIO_PIN_2, SET); 
 198:Src/main.c    ****         } 
 199:Src/main.c    ****     }
 200:Src/main.c    **** }
 521              		.loc 1 200 1 view .LVU119
 522 0034 08BD     		pop	{r3, pc}
 523              	.L33:
 196:Src/main.c    ****             HAL_GPIO_WritePin(GPIOB, GPIO_PIN_2, SET); 
 524              		.loc 1 196 13 is_stmt 1 view .LVU120
 525 0036 0022     		movs	r2, #0
 526 0038 2021     		movs	r1, #32
 527 003a 0648     		ldr	r0, .L34+8
 528 003c FFF7FEFF 		bl	HAL_GPIO_WritePin
 529              	.LVL38:
 197:Src/main.c    ****         } 
 530              		.loc 1 197 13 view .LVU121
 531 0040 0122     		movs	r2, #1
 532 0042 0421     		movs	r1, #4
 533 0044 0448     		ldr	r0, .L34+12
 534 0046 FFF7FEFF 		bl	HAL_GPIO_WritePin
 535              	.LVL39:
 536              		.loc 1 200 1 is_stmt 0 view .LVU122
 537 004a F3E7     		b	.L29
 538              	.L35:
 539              		.align	2
 540              	.L34:
ARM GAS  /tmp/ccvY7C6x.s 			page 14


 541 004c 00000000 		.word	htim2
 542 0050 00000000 		.word	.LANCHOR9
 543 0054 00100140 		.word	1073811456
 544 0058 000C0140 		.word	1073810432
 545              		.cfi_endproc
 546              	.LFE73:
 548              		.section	.text.HAL_TIM_PeriodElapsedCallback,"ax",%progbits
 549              		.align	1
 550              		.global	HAL_TIM_PeriodElapsedCallback
 551              		.syntax unified
 552              		.thumb
 553              		.thumb_func
 554              		.fpu softvfp
 556              	HAL_TIM_PeriodElapsedCallback:
 557              	.LVL40:
 558              	.LFB74:
 201:Src/main.c    **** 
 202:Src/main.c    **** 
 203:Src/main.c    **** 
 204:Src/main.c    **** 
 205:Src/main.c    **** volatile uint8_t trigger_led_flag = 0;
 206:Src/main.c    **** int trigger_led_count = 0;
 207:Src/main.c    **** volatile uint8_t pps_flag = 0;
 208:Src/main.c    **** int pps_count = 0;
 209:Src/main.c    **** volatile uint8_t gprmc_led_flag = 0;
 210:Src/main.c    **** int gprmc_led_count = 0;
 211:Src/main.c    **** 
 212:Src/main.c    **** volatile uint8_t uart_transmit_flag = 0;
 213:Src/main.c    **** 
 214:Src/main.c    **** void HAL_TIM_PeriodElapsedCallback(TIM_HandleTypeDef *htim)
 215:Src/main.c    **** {
 559              		.loc 1 215 1 is_stmt 1 view -0
 560              		.cfi_startproc
 561              		@ args = 0, pretend = 0, frame = 0
 562              		@ frame_needed = 0, uses_anonymous_args = 0
 563              		.loc 1 215 1 is_stmt 0 view .LVU124
 564 0000 08B5     		push	{r3, lr}
 565              	.LCFI5:
 566              		.cfi_def_cfa_offset 8
 567              		.cfi_offset 3, -8
 568              		.cfi_offset 14, -4
 216:Src/main.c    ****     if (htim->Instance == TIM3) {
 569              		.loc 1 216 5 is_stmt 1 view .LVU125
 570              		.loc 1 216 13 is_stmt 0 view .LVU126
 571 0002 0268     		ldr	r2, [r0]
 572              		.loc 1 216 8 view .LVU127
 573 0004 134B     		ldr	r3, .L43
 574 0006 9A42     		cmp	r2, r3
 575 0008 00D0     		beq	.L41
 576              	.LVL41:
 577              	.L36:
 217:Src/main.c    ****       
 218:Src/main.c    ****         if (trigger_led_flag) {
 219:Src/main.c    **** 
 220:Src/main.c    ****             trigger_led_count ++;
 221:Src/main.c    ****             
 222:Src/main.c    ****         }
ARM GAS  /tmp/ccvY7C6x.s 			page 15


 223:Src/main.c    ****         if (pps_flag) {
 224:Src/main.c    **** 
 225:Src/main.c    ****             pps_count ++;
 226:Src/main.c    **** 
 227:Src/main.c    ****             if (pps_count >= 2)
 228:Src/main.c    ****             {
 229:Src/main.c    ****                 pps_flag = 0;
 230:Src/main.c    ****                 pps_count = 0;
 231:Src/main.c    ****                 HAL_GPIO_WritePin(GPIOC, GPIO_PIN_0, GPIO_PIN_RESET); // PPS LOW
 232:Src/main.c    ****             }
 233:Src/main.c    ****             
 234:Src/main.c    ****         }
 235:Src/main.c    ****         if (gprmc_led_flag) {
 236:Src/main.c    **** 
 237:Src/main.c    ****             gprmc_led_count ++;
 238:Src/main.c    ****             
 239:Src/main.c    ****         }
 240:Src/main.c    ****     }
 241:Src/main.c    **** 
 242:Src/main.c    **** }
 578              		.loc 1 242 1 view .LVU128
 579 000a 08BD     		pop	{r3, pc}
 580              	.LVL42:
 581              	.L41:
 218:Src/main.c    **** 
 582              		.loc 1 218 9 is_stmt 1 view .LVU129
 218:Src/main.c    **** 
 583              		.loc 1 218 13 is_stmt 0 view .LVU130
 584 000c 124B     		ldr	r3, .L43+4
 585 000e 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 218:Src/main.c    **** 
 586              		.loc 1 218 12 view .LVU131
 587 0010 1BB1     		cbz	r3, .L38
 220:Src/main.c    ****             
 588              		.loc 1 220 13 is_stmt 1 view .LVU132
 220:Src/main.c    ****             
 589              		.loc 1 220 31 is_stmt 0 view .LVU133
 590 0012 124A     		ldr	r2, .L43+8
 591 0014 1368     		ldr	r3, [r2]
 592 0016 0133     		adds	r3, r3, #1
 593 0018 1360     		str	r3, [r2]
 594              	.L38:
 223:Src/main.c    **** 
 595              		.loc 1 223 9 is_stmt 1 view .LVU134
 223:Src/main.c    **** 
 596              		.loc 1 223 13 is_stmt 0 view .LVU135
 597 001a 114B     		ldr	r3, .L43+12
 598 001c 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 223:Src/main.c    **** 
 599              		.loc 1 223 12 view .LVU136
 600 001e 2BB1     		cbz	r3, .L39
 225:Src/main.c    **** 
 601              		.loc 1 225 13 is_stmt 1 view .LVU137
 225:Src/main.c    **** 
 602              		.loc 1 225 23 is_stmt 0 view .LVU138
 603 0020 104A     		ldr	r2, .L43+16
 604 0022 1368     		ldr	r3, [r2]
ARM GAS  /tmp/ccvY7C6x.s 			page 16


 605 0024 0133     		adds	r3, r3, #1
 606 0026 1360     		str	r3, [r2]
 227:Src/main.c    ****             {
 607              		.loc 1 227 13 is_stmt 1 view .LVU139
 227:Src/main.c    ****             {
 608              		.loc 1 227 16 is_stmt 0 view .LVU140
 609 0028 012B     		cmp	r3, #1
 610 002a 08DC     		bgt	.L42
 611              	.LVL43:
 612              	.L39:
 235:Src/main.c    **** 
 613              		.loc 1 235 9 is_stmt 1 view .LVU141
 235:Src/main.c    **** 
 614              		.loc 1 235 13 is_stmt 0 view .LVU142
 615 002c 0E4B     		ldr	r3, .L43+20
 616 002e 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 235:Src/main.c    **** 
 617              		.loc 1 235 12 view .LVU143
 618 0030 002B     		cmp	r3, #0
 619 0032 EAD0     		beq	.L36
 237:Src/main.c    ****             
 620              		.loc 1 237 13 is_stmt 1 view .LVU144
 237:Src/main.c    ****             
 621              		.loc 1 237 29 is_stmt 0 view .LVU145
 622 0034 0D4A     		ldr	r2, .L43+24
 623 0036 1368     		ldr	r3, [r2]
 624 0038 0133     		adds	r3, r3, #1
 625 003a 1360     		str	r3, [r2]
 626              		.loc 1 242 1 view .LVU146
 627 003c E5E7     		b	.L36
 628              	.LVL44:
 629              	.L42:
 229:Src/main.c    ****                 pps_count = 0;
 630              		.loc 1 229 17 is_stmt 1 view .LVU147
 229:Src/main.c    ****                 pps_count = 0;
 631              		.loc 1 229 26 is_stmt 0 view .LVU148
 632 003e 0022     		movs	r2, #0
 633 0040 074B     		ldr	r3, .L43+12
 634 0042 1A70     		strb	r2, [r3]
 230:Src/main.c    ****                 HAL_GPIO_WritePin(GPIOC, GPIO_PIN_0, GPIO_PIN_RESET); // PPS LOW
 635              		.loc 1 230 17 is_stmt 1 view .LVU149
 230:Src/main.c    ****                 HAL_GPIO_WritePin(GPIOC, GPIO_PIN_0, GPIO_PIN_RESET); // PPS LOW
 636              		.loc 1 230 27 is_stmt 0 view .LVU150
 637 0044 074B     		ldr	r3, .L43+16
 638 0046 1A60     		str	r2, [r3]
 231:Src/main.c    ****             }
 639              		.loc 1 231 17 is_stmt 1 view .LVU151
 640 0048 0121     		movs	r1, #1
 641 004a 0948     		ldr	r0, .L43+28
 642              	.LVL45:
 231:Src/main.c    ****             }
 643              		.loc 1 231 17 is_stmt 0 view .LVU152
 644 004c FFF7FEFF 		bl	HAL_GPIO_WritePin
 645              	.LVL46:
 646 0050 ECE7     		b	.L39
 647              	.L44:
 648 0052 00BF     		.align	2
ARM GAS  /tmp/ccvY7C6x.s 			page 17


 649              	.L43:
 650 0054 00040040 		.word	1073742848
 651 0058 00000000 		.word	.LANCHOR10
 652 005c 00000000 		.word	.LANCHOR11
 653 0060 00000000 		.word	.LANCHOR12
 654 0064 00000000 		.word	.LANCHOR13
 655 0068 00000000 		.word	.LANCHOR14
 656 006c 00000000 		.word	.LANCHOR15
 657 0070 00100140 		.word	1073811456
 658              		.cfi_endproc
 659              	.LFE74:
 661              		.section	.text.HAL_UART_TxCpltCallback,"ax",%progbits
 662              		.align	1
 663              		.global	HAL_UART_TxCpltCallback
 664              		.syntax unified
 665              		.thumb
 666              		.thumb_func
 667              		.fpu softvfp
 669              	HAL_UART_TxCpltCallback:
 670              	.LVL47:
 671              	.LFB76:
 243:Src/main.c    **** 
 244:Src/main.c    **** uint32_t pps_offset = 350;
 245:Src/main.c    **** uint32_t for_delay = 0;
 246:Src/main.c    **** uint32_t trigger_rate = 10;
 247:Src/main.c    **** // uint32_t pps_offset = 390;
 248:Src/main.c    **** // uint32_t for_delay = 35;
 249:Src/main.c    **** // uint32_t pps_offset = 0;
 250:Src/main.c    **** // uint32_t for_delay = 0;
 251:Src/main.c    **** void TIM4_IRQHandler(void) {
 252:Src/main.c    ****     if (__HAL_TIM_GET_FLAG(&htim4, TIM_FLAG_UPDATE) != RESET) {
 253:Src/main.c    ****         __HAL_TIM_CLEAR_IT(&htim4, TIM_IT_UPDATE);
 254:Src/main.c    ****         
 255:Src/main.c    ****         static uint32_t count_trigger_rate = 0, count_pps_rate = 0;
 256:Src/main.c    ****         
 257:Src/main.c    ****         count_pps_rate ++;
 258:Src/main.c    ****         count_trigger_rate ++;
 259:Src/main.c    ****         if (count_trigger_rate >= 2500 / trigger_rate) {
 260:Src/main.c    ****             DWT_Delay(pps_offset);
 261:Src/main.c    ****             for(int i = 0; i < for_delay; i ++);
 262:Src/main.c    **** 
 263:Src/main.c    ****             HAL_GPIO_TogglePin(GPIOC, GPIO_PIN_4); // Toggle Trigger signal
 264:Src/main.c    ****             trigger_flag = 1;
 265:Src/main.c    **** 
 266:Src/main.c    ****             if (count_pps_rate >= 5000) {
 267:Src/main.c    ****                 if(pps_flag) {
 268:Src/main.c    ****                     Error_Handler();
 269:Src/main.c    ****                 }
 270:Src/main.c    ****                 HAL_GPIO_WritePin(GPIOC, GPIO_PIN_0, GPIO_PIN_SET); // PPS HIGH
 271:Src/main.c    ****                 send_gps_flag = 1;    
 272:Src/main.c    ****                 pps_flag = 1;  // Set flag to turn off PPS in ISR after 100 ms
 273:Src/main.c    ****                 count_pps_rate = 0;          
 274:Src/main.c    ****             }
 275:Src/main.c    ****             count_trigger_rate = 0;
 276:Src/main.c    ****         }
 277:Src/main.c    ****         
 278:Src/main.c    ****     }
ARM GAS  /tmp/ccvY7C6x.s 			page 18


 279:Src/main.c    **** }
 280:Src/main.c    **** 
 281:Src/main.c    **** 
 282:Src/main.c    **** void HAL_UART_TxCpltCallback(UART_HandleTypeDef *huart)
 283:Src/main.c    **** {
 672              		.loc 1 283 1 is_stmt 1 view -0
 673              		.cfi_startproc
 674              		@ args = 0, pretend = 0, frame = 0
 675              		@ frame_needed = 0, uses_anonymous_args = 0
 676              		@ link register save eliminated.
 284:Src/main.c    ****     if (huart->Instance == USART1 || huart->Instance == USART3)
 677              		.loc 1 284 5 view .LVU154
 678              		.loc 1 284 14 is_stmt 0 view .LVU155
 679 0000 0368     		ldr	r3, [r0]
 680              		.loc 1 284 8 view .LVU156
 681 0002 054A     		ldr	r2, .L48
 682 0004 9342     		cmp	r3, r2
 683 0006 03D0     		beq	.L46
 684              		.loc 1 284 35 discriminator 1 view .LVU157
 685 0008 A2F57042 		sub	r2, r2, #61440
 686 000c 9342     		cmp	r3, r2
 687 000e 02D1     		bne	.L45
 688              	.L46:
 285:Src/main.c    ****     {
 286:Src/main.c    ****         gprmc_led_flag = 0;
 689              		.loc 1 286 9 is_stmt 1 view .LVU158
 690              		.loc 1 286 24 is_stmt 0 view .LVU159
 691 0010 024B     		ldr	r3, .L48+4
 692 0012 0022     		movs	r2, #0
 693 0014 1A70     		strb	r2, [r3]
 694              	.L45:
 287:Src/main.c    ****     }
 288:Src/main.c    **** }
 695              		.loc 1 288 1 view .LVU160
 696 0016 7047     		bx	lr
 697              	.L49:
 698              		.align	2
 699              	.L48:
 700 0018 00380140 		.word	1073821696
 701 001c 00000000 		.word	.LANCHOR14
 702              		.cfi_endproc
 703              	.LFE76:
 705              		.section	.rodata.ProcessReceivedData.str1.4,"aMS",%progbits,1
 706              		.align	2
 707              	.LC2:
 708 0000 53657420 		.ascii	"Set pps_offset = %ld\012\000"
 708      7070735F 
 708      6F666673 
 708      6574203D 
 708      20256C64 
 709 0016 0000     		.align	2
 710              	.LC4:
 711 0018 24475052 		.ascii	"$GPRMC\000"
 711      4D4300
 712 001f 00       		.align	2
 713              	.LC5:
 714 0020 2C00     		.ascii	",\000"
ARM GAS  /tmp/ccvY7C6x.s 			page 19


 715 0022 0000     		.align	2
 716              	.LC6:
 717 0024 323000   		.ascii	"20\000"
 718 0027 00       		.align	2
 719              	.LC3:
 720 0028 4661696C 		.ascii	"Fail to set pps_offset! Invalid input as number.\012"
 720      20746F20 
 720      73657420 
 720      7070735F 
 720      6F666673 
 721 0059 00       		.ascii	"\000"
 722 005a 0000     		.align	2
 723              	.LC7:
 724 005c 4661696C 		.ascii	"Fail to set GPRMC data! Invalid GPRMC data!\000"
 724      20746F20 
 724      73657420 
 724      4750524D 
 724      43206461 
 725              		.section	.text.ProcessReceivedData,"ax",%progbits
 726              		.align	1
 727              		.global	ProcessReceivedData
 728              		.syntax unified
 729              		.thumb
 730              		.thumb_func
 731              		.fpu softvfp
 733              	ProcessReceivedData:
 734              	.LVL48:
 735              	.LFB77:
 289:Src/main.c    **** 
 290:Src/main.c    **** 
 291:Src/main.c    **** 
 292:Src/main.c    **** void ProcessReceivedData(uint8_t data) {
 736              		.loc 1 292 40 is_stmt 1 view -0
 737              		.cfi_startproc
 738              		@ args = 0, pretend = 0, frame = 112
 739              		@ frame_needed = 0, uses_anonymous_args = 0
 293:Src/main.c    ****     static char buffer[1024];
 740              		.loc 1 293 5 view .LVU162
 294:Src/main.c    ****     static int index = 0;
 741              		.loc 1 294 5 view .LVU163
 295:Src/main.c    **** 
 296:Src/main.c    ****     // 接收到换行符，处理数据
 297:Src/main.c    ****     if (data == '\n' || data == '\0') {
 742              		.loc 1 297 5 view .LVU164
 743              		.loc 1 297 8 is_stmt 0 view .LVU165
 744 0000 0A28     		cmp	r0, #10
 745 0002 02D0     		beq	.L51
 746              		.loc 1 297 22 discriminator 1 view .LVU166
 747 0004 0028     		cmp	r0, #0
 748 0006 40F04381 		bne	.L52
 749              	.L51:
 292:Src/main.c    ****     static char buffer[1024];
 750              		.loc 1 292 40 view .LVU167
 751 000a 70B5     		push	{r4, r5, r6, lr}
 752              	.LCFI6:
 753              		.cfi_def_cfa_offset 16
 754              		.cfi_offset 4, -16
ARM GAS  /tmp/ccvY7C6x.s 			page 20


 755              		.cfi_offset 5, -12
 756              		.cfi_offset 6, -8
 757              		.cfi_offset 14, -4
 758 000c 9CB0     		sub	sp, sp, #112
 759              	.LCFI7:
 760              		.cfi_def_cfa_offset 128
 298:Src/main.c    ****         buffer[index] = '\0'; 
 761              		.loc 1 298 9 is_stmt 1 view .LVU168
 762              		.loc 1 298 15 is_stmt 0 view .LVU169
 763 000e A74B     		ldr	r3, .L83
 764 0010 1A68     		ldr	r2, [r3]
 765              		.loc 1 298 23 view .LVU170
 766 0012 A74B     		ldr	r3, .L83+4
 767 0014 0021     		movs	r1, #0
 768 0016 9954     		strb	r1, [r3, r2]
 299:Src/main.c    ****         
 300:Src/main.c    ****         // 如果第一个字符是 #
 301:Src/main.c    ****         if (buffer[0] == '#') {
 769              		.loc 1 301 9 is_stmt 1 view .LVU171
 770              		.loc 1 301 19 is_stmt 0 view .LVU172
 771 0018 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 772              		.loc 1 301 12 view .LVU173
 773 001a 232B     		cmp	r3, #35
 774 001c 0DD0     		beq	.L78
 302:Src/main.c    ****             char *ptr;
 303:Src/main.c    ****             long num = strtol(buffer + 1, &ptr, 10);  // 尝试将字符串转换为长整型数字
 304:Src/main.c    ****             if (*ptr == '\0') {  // 检查转换后的剩余部分是否为空
 305:Src/main.c    ****                 pps_offset = (uint32_t)num;
 306:Src/main.c    **** 
 307:Src/main.c    ****                 char output_log[100];
 308:Src/main.c    ****                 sprintf(output_log, "Set pps_offset = %ld\n", pps_offset);
 309:Src/main.c    ****                 HAL_UART_Transmit(&huart1, (uint8_t *)output_log, strlen(output_log), 1000);
 310:Src/main.c    ****             } else {
 311:Src/main.c    **** 
 312:Src/main.c    ****                 char output_log[] = "Fail to set pps_offset! Invalid input as number.\n";
 313:Src/main.c    ****                 HAL_UART_Transmit(&huart1, (uint8_t *)output_log, strlen(output_log), 1000);
 314:Src/main.c    ****             }
 315:Src/main.c    ****         }
 316:Src/main.c    ****         // 如果第一个字符是 $
 317:Src/main.c    ****         else if (buffer[0] == '$') {
 775              		.loc 1 317 14 is_stmt 1 view .LVU174
 776              		.loc 1 317 17 is_stmt 0 view .LVU175
 777 001e 242B     		cmp	r3, #36
 778 0020 3AD0     		beq	.L79
 779              	.LVL49:
 780              	.L56:
 318:Src/main.c    ****             if (strncmp(buffer, "$GPRMC", 6) == 0) {
 319:Src/main.c    ****                 int commaCount = 0;
 320:Src/main.c    ****                 for (int i = 0; buffer[i]; i++) {
 321:Src/main.c    ****                     if (buffer[i] == ',') commaCount++;
 322:Src/main.c    ****                 }
 323:Src/main.c    ****                 // 检查逗号数量是否符合最低要求
 324:Src/main.c    ****                 if (commaCount >= 11) { // GPRMC 应该至少有 12 个字段，即至少 11 个逗
 325:Src/main.c    ****                     // 解析 GPRMC 数据
 326:Src/main.c    ****                     char *token = strtok(buffer, ",");
 327:Src/main.c    ****                     int tokenIndex = 0;
 328:Src/main.c    ****                     while (token != NULL) {
ARM GAS  /tmp/ccvY7C6x.s 			page 21


 329:Src/main.c    ****                         token = strtok(NULL, ",");
 330:Src/main.c    ****                         tokenIndex++;
 331:Src/main.c    **** 
 332:Src/main.c    ****                     
 333:Src/main.c    ****                         // 根据 GPRMC 的格式选择数据
 334:Src/main.c    ****                         switch (tokenIndex) {
 335:Src/main.c    ****                             case 1: // 时间
 336:Src/main.c    ****                                 BASE_HOUR = atoi(token) / 10000;
 337:Src/main.c    ****                                 BASE_MINUTE = (atoi(token) % 10000) / 100;
 338:Src/main.c    ****                                 BASE_SECOND = atoi(token) % 100;
 339:Src/main.c    ****                                 break;
 340:Src/main.c    ****                             case 3: // 纬度
 341:Src/main.c    ****                                 strncpy(LATITUDE, token, sizeof(LATITUDE) - 1);
 342:Src/main.c    ****                                 LATITUDE[sizeof(LATITUDE) - 1] = '\0';  // 确保字符串以null
 343:Src/main.c    ****                                 break;
 344:Src/main.c    ****                             case 4: // 纬度方向
 345:Src/main.c    ****                                 if (strlen(LATITUDE) + 2 < sizeof(LATITUDE)) {  // Check enough spa
 346:Src/main.c    ****                                     size_t len = strlen(LATITUDE);
 347:Src/main.c    ****                                     LATITUDE[len] = ',';           // Append comma directly
 348:Src/main.c    ****                                     LATITUDE[len + 1] = '\0';      // Null-terminate
 349:Src/main.c    ****                                     strncat(LATITUDE, token, sizeof(LATITUDE) - strlen(LATITUDE) - 
 350:Src/main.c    ****                                 }
 351:Src/main.c    ****                                 break;
 352:Src/main.c    ****                             case 5: // 经度
 353:Src/main.c    ****                                 strncpy(LONGITUDE, token, sizeof(LONGITUDE) - 1);
 354:Src/main.c    ****                                 LONGITUDE[sizeof(LONGITUDE) - 1] = '\0';  // 确保字符串以null
 355:Src/main.c    ****                                 break;
 356:Src/main.c    ****                             case 6: // 经度方向
 357:Src/main.c    ****                                 if (strlen(LONGITUDE) + 2 < sizeof(LONGITUDE)) {
 358:Src/main.c    ****                                     size_t len = strlen(LONGITUDE);
 359:Src/main.c    ****                                     LONGITUDE[len] = ',';          // Append comma directly
 360:Src/main.c    ****                                     LONGITUDE[len + 1] = '\0';     // Null-terminate
 361:Src/main.c    ****                                     strncat(LONGITUDE, token, sizeof(LONGITUDE) - strlen(LONGITUDE)
 362:Src/main.c    ****                                 }
 363:Src/main.c    ****                                 break;
 364:Src/main.c    ****                             case 9: // 日期，格式为 DDMMYY
 365:Src/main.c    ****                                 if (strlen(token) == 6) {
 366:Src/main.c    ****                                     char day[3], month[3], year[5];
 367:Src/main.c    ****                                     // Prepend '20' for the year
 368:Src/main.c    ****                                     strcpy(year, "20"); // Use strcpy here for clarity and safety
 369:Src/main.c    ****                                     strncat(year, token + 4, 2); // Append last two digits of the y
 370:Src/main.c    **** 
 371:Src/main.c    ****                                     strncpy(day, token, 2);
 372:Src/main.c    ****                                     day[2] = '\0'; // Ensure null termination
 373:Src/main.c    ****                                     strncpy(month, token + 2, 2);
 374:Src/main.c    ****                                     month[2] = '\0'; // Ensure null termination
 375:Src/main.c    **** 
 376:Src/main.c    ****                                     BASE_DAY = atoi(day);
 377:Src/main.c    ****                                     BASE_MONTH = atoi(month);
 378:Src/main.c    ****                                     BASE_YEAR = atoi(year);
 379:Src/main.c    ****                                 }
 380:Src/main.c    ****                                 break;
 381:Src/main.c    ****                         }
 382:Src/main.c    ****                     }
 383:Src/main.c    ****                     elapsed = baseTick - HAL_GetTick();
 384:Src/main.c    **** 
 385:Src/main.c    ****                 } else {
ARM GAS  /tmp/ccvY7C6x.s 			page 22


 386:Src/main.c    ****                     char output_log[] = "Fail to set GPRMC data! Invalid GPRMC data!";
 387:Src/main.c    ****                     HAL_UART_Transmit(&huart1, (uint8_t *)output_log, strlen(output_log), 100);
 388:Src/main.c    ****                 }
 389:Src/main.c    ****             }
 390:Src/main.c    ****         }
 391:Src/main.c    **** 
 392:Src/main.c    ****         while (__HAL_UART_GET_FLAG(&huart1, UART_FLAG_RXNE)) {
 781              		.loc 1 392 15 is_stmt 1 view .LVU176
 782              		.loc 1 392 16 is_stmt 0 view .LVU177
 783 0022 A44B     		ldr	r3, .L83+8
 784 0024 1B68     		ldr	r3, [r3]
 785 0026 1B68     		ldr	r3, [r3]
 786              		.loc 1 392 15 view .LVU178
 787 0028 13F0200F 		tst	r3, #32
 788 002c 00F02581 		beq	.L80
 789              	.LBB4:
 393:Src/main.c    ****             volatile uint32_t dummy = USART1->DR; // 替换USART1为相应的USART实例
 790              		.loc 1 393 13 is_stmt 1 view .LVU179
 791              		.loc 1 393 45 is_stmt 0 view .LVU180
 792 0030 A14B     		ldr	r3, .L83+12
 793 0032 5B68     		ldr	r3, [r3, #4]
 794              		.loc 1 393 31 view .LVU181
 795 0034 0393     		str	r3, [sp, #12]
 394:Src/main.c    ****             dummy;
 796              		.loc 1 394 13 is_stmt 1 view .LVU182
 797 0036 039B     		ldr	r3, [sp, #12]
 798 0038 F3E7     		b	.L56
 799              	.LVL50:
 800              	.L78:
 801              		.loc 1 394 13 is_stmt 0 view .LVU183
 802              	.LBE4:
 803              	.LBB5:
 302:Src/main.c    ****             long num = strtol(buffer + 1, &ptr, 10);  // 尝试将字符串转换为长整型数字
 804              		.loc 1 302 13 is_stmt 1 view .LVU184
 303:Src/main.c    ****             if (*ptr == '\0') {  // 检查转换后的剩余部分是否为空
 805              		.loc 1 303 13 view .LVU185
 303:Src/main.c    ****             if (*ptr == '\0') {  // 检查转换后的剩余部分是否为空
 806              		.loc 1 303 24 is_stmt 0 view .LVU186
 807 003a 0A22     		movs	r2, #10
 808 003c 02A9     		add	r1, sp, #8
 809 003e 9F48     		ldr	r0, .L83+16
 810              	.LVL51:
 303:Src/main.c    ****             if (*ptr == '\0') {  // 检查转换后的剩余部分是否为空
 811              		.loc 1 303 24 view .LVU187
 812 0040 FFF7FEFF 		bl	strtol
 813              	.LVL52:
 814 0044 0246     		mov	r2, r0
 815              	.LVL53:
 304:Src/main.c    ****                 pps_offset = (uint32_t)num;
 816              		.loc 1 304 13 is_stmt 1 view .LVU188
 304:Src/main.c    ****                 pps_offset = (uint32_t)num;
 817              		.loc 1 304 17 is_stmt 0 view .LVU189
 818 0046 029B     		ldr	r3, [sp, #8]
 819 0048 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 304:Src/main.c    ****                 pps_offset = (uint32_t)num;
 820              		.loc 1 304 16 view .LVU190
 821 004a 83B9     		cbnz	r3, .L54
ARM GAS  /tmp/ccvY7C6x.s 			page 23


 822              	.LBB6:
 305:Src/main.c    **** 
 823              		.loc 1 305 17 is_stmt 1 view .LVU191
 305:Src/main.c    **** 
 824              		.loc 1 305 28 is_stmt 0 view .LVU192
 825 004c 9C4B     		ldr	r3, .L83+20
 826 004e 1860     		str	r0, [r3]
 307:Src/main.c    ****                 sprintf(output_log, "Set pps_offset = %ld\n", pps_offset);
 827              		.loc 1 307 17 is_stmt 1 view .LVU193
 308:Src/main.c    ****                 HAL_UART_Transmit(&huart1, (uint8_t *)output_log, strlen(output_log), 1000);
 828              		.loc 1 308 17 view .LVU194
 829 0050 9C49     		ldr	r1, .L83+24
 830 0052 03A8     		add	r0, sp, #12
 831              	.LVL54:
 308:Src/main.c    ****                 HAL_UART_Transmit(&huart1, (uint8_t *)output_log, strlen(output_log), 1000);
 832              		.loc 1 308 17 is_stmt 0 view .LVU195
 833 0054 FFF7FEFF 		bl	sprintf
 834              	.LVL55:
 309:Src/main.c    ****             } else {
 835              		.loc 1 309 17 is_stmt 1 view .LVU196
 309:Src/main.c    ****             } else {
 836              		.loc 1 309 67 is_stmt 0 view .LVU197
 837 0058 03A8     		add	r0, sp, #12
 838 005a FFF7FEFF 		bl	strlen
 839              	.LVL56:
 309:Src/main.c    ****             } else {
 840              		.loc 1 309 17 view .LVU198
 841 005e 4FF47A73 		mov	r3, #1000
 842 0062 82B2     		uxth	r2, r0
 843 0064 03A9     		add	r1, sp, #12
 844 0066 9348     		ldr	r0, .L83+8
 845 0068 FFF7FEFF 		bl	HAL_UART_Transmit
 846              	.LVL57:
 847              	.LBE6:
 848 006c D9E7     		b	.L56
 849              	.LVL58:
 850              	.L54:
 851              	.LBB7:
 312:Src/main.c    ****                 HAL_UART_Transmit(&huart1, (uint8_t *)output_log, strlen(output_log), 1000);
 852              		.loc 1 312 17 is_stmt 1 discriminator 2 view .LVU199
 312:Src/main.c    ****                 HAL_UART_Transmit(&huart1, (uint8_t *)output_log, strlen(output_log), 1000);
 853              		.loc 1 312 22 is_stmt 0 discriminator 2 view .LVU200
 854 006e 03AC     		add	r4, sp, #12
 855 0070 954D     		ldr	r5, .L83+28
 856 0072 0FCD     		ldmia	r5!, {r0, r1, r2, r3}
 857              	.LVL59:
 312:Src/main.c    ****                 HAL_UART_Transmit(&huart1, (uint8_t *)output_log, strlen(output_log), 1000);
 858              		.loc 1 312 22 discriminator 2 view .LVU201
 859 0074 0FC4     		stmia	r4!, {r0, r1, r2, r3}
 860 0076 0FCD     		ldmia	r5!, {r0, r1, r2, r3}
 861 0078 0FC4     		stmia	r4!, {r0, r1, r2, r3}
 862 007a 0FCD     		ldmia	r5!, {r0, r1, r2, r3}
 863 007c 0FC4     		stmia	r4!, {r0, r1, r2, r3}
 864 007e 2B68     		ldr	r3, [r5]
 865 0080 2380     		strh	r3, [r4]	@ movhi
 313:Src/main.c    ****             }
 866              		.loc 1 313 17 is_stmt 1 discriminator 2 view .LVU202
ARM GAS  /tmp/ccvY7C6x.s 			page 24


 313:Src/main.c    ****             }
 867              		.loc 1 313 67 is_stmt 0 discriminator 2 view .LVU203
 868 0082 03A8     		add	r0, sp, #12
 869 0084 FFF7FEFF 		bl	strlen
 870              	.LVL60:
 313:Src/main.c    ****             }
 871              		.loc 1 313 17 discriminator 2 view .LVU204
 872 0088 4FF47A73 		mov	r3, #1000
 873 008c 82B2     		uxth	r2, r0
 874 008e 03A9     		add	r1, sp, #12
 875 0090 8848     		ldr	r0, .L83+8
 876 0092 FFF7FEFF 		bl	HAL_UART_Transmit
 877              	.LVL61:
 878 0096 C4E7     		b	.L56
 879              	.LVL62:
 880              	.L79:
 313:Src/main.c    ****             }
 881              		.loc 1 313 17 discriminator 2 view .LVU205
 882              	.LBE7:
 883              	.LBE5:
 318:Src/main.c    ****                 int commaCount = 0;
 884              		.loc 1 318 13 is_stmt 1 view .LVU206
 318:Src/main.c    ****                 int commaCount = 0;
 885              		.loc 1 318 17 is_stmt 0 view .LVU207
 886 0098 0622     		movs	r2, #6
 887 009a 8C49     		ldr	r1, .L83+32
 888 009c 8448     		ldr	r0, .L83+4
 889              	.LVL63:
 318:Src/main.c    ****                 int commaCount = 0;
 890              		.loc 1 318 17 view .LVU208
 891 009e FFF7FEFF 		bl	strncmp
 892              	.LVL64:
 318:Src/main.c    ****                 int commaCount = 0;
 893              		.loc 1 318 16 view .LVU209
 894 00a2 0546     		mov	r5, r0
 895 00a4 0028     		cmp	r0, #0
 896 00a6 BCD1     		bne	.L56
 897              	.LBB8:
 898              	.LBB9:
 320:Src/main.c    ****                     if (buffer[i] == ',') commaCount++;
 899              		.loc 1 320 26 view .LVU210
 900 00a8 0246     		mov	r2, r0
 901              	.LBE9:
 319:Src/main.c    ****                 for (int i = 0; buffer[i]; i++) {
 902              		.loc 1 319 21 view .LVU211
 903 00aa 0146     		mov	r1, r0
 904 00ac 00E0     		b	.L58
 905              	.LVL65:
 906              	.L59:
 907              	.LBB10:
 320:Src/main.c    ****                     if (buffer[i] == ',') commaCount++;
 908              		.loc 1 320 44 is_stmt 1 discriminator 2 view .LVU212
 320:Src/main.c    ****                     if (buffer[i] == ',') commaCount++;
 909              		.loc 1 320 45 is_stmt 0 discriminator 2 view .LVU213
 910 00ae 0132     		adds	r2, r2, #1
 911              	.LVL66:
 912              	.L58:
ARM GAS  /tmp/ccvY7C6x.s 			page 25


 320:Src/main.c    ****                     if (buffer[i] == ',') commaCount++;
 913              		.loc 1 320 33 is_stmt 1 discriminator 1 view .LVU214
 320:Src/main.c    ****                     if (buffer[i] == ',') commaCount++;
 914              		.loc 1 320 39 is_stmt 0 discriminator 1 view .LVU215
 915 00b0 7F4B     		ldr	r3, .L83+4
 916 00b2 9B5C     		ldrb	r3, [r3, r2]	@ zero_extendqisi2
 320:Src/main.c    ****                     if (buffer[i] == ',') commaCount++;
 917              		.loc 1 320 17 discriminator 1 view .LVU216
 918 00b4 1BB1     		cbz	r3, .L81
 321:Src/main.c    ****                 }
 919              		.loc 1 321 21 is_stmt 1 view .LVU217
 321:Src/main.c    ****                 }
 920              		.loc 1 321 24 is_stmt 0 view .LVU218
 921 00b6 2C2B     		cmp	r3, #44
 922 00b8 F9D1     		bne	.L59
 321:Src/main.c    ****                 }
 923              		.loc 1 321 43 is_stmt 1 discriminator 1 view .LVU219
 321:Src/main.c    ****                 }
 924              		.loc 1 321 53 is_stmt 0 discriminator 1 view .LVU220
 925 00ba 0131     		adds	r1, r1, #1
 926              	.LVL67:
 321:Src/main.c    ****                 }
 927              		.loc 1 321 53 discriminator 1 view .LVU221
 928 00bc F7E7     		b	.L59
 929              	.L81:
 321:Src/main.c    ****                 }
 930              		.loc 1 321 53 discriminator 1 view .LVU222
 931              	.LBE10:
 324:Src/main.c    ****                     // 解析 GPRMC 数据
 932              		.loc 1 324 17 is_stmt 1 view .LVU223
 324:Src/main.c    ****                     // 解析 GPRMC 数据
 933              		.loc 1 324 20 is_stmt 0 view .LVU224
 934 00be 0A29     		cmp	r1, #10
 935 00c0 40F3C780 		ble	.L61
 936              	.LBB11:
 326:Src/main.c    ****                     int tokenIndex = 0;
 937              		.loc 1 326 21 is_stmt 1 view .LVU225
 326:Src/main.c    ****                     int tokenIndex = 0;
 938              		.loc 1 326 35 is_stmt 0 view .LVU226
 939 00c4 8249     		ldr	r1, .L83+36
 940              	.LVL68:
 326:Src/main.c    ****                     int tokenIndex = 0;
 941              		.loc 1 326 35 view .LVU227
 942 00c6 7A48     		ldr	r0, .L83+4
 943 00c8 FFF7FEFF 		bl	strtok
 944              	.LVL69:
 326:Src/main.c    ****                     int tokenIndex = 0;
 945              		.loc 1 326 35 view .LVU228
 946 00cc 0446     		mov	r4, r0
 947              	.LVL70:
 327:Src/main.c    ****                     while (token != NULL) {
 948              		.loc 1 327 21 is_stmt 1 view .LVU229
 328:Src/main.c    ****                         token = strtok(NULL, ",");
 949              		.loc 1 328 21 view .LVU230
 328:Src/main.c    ****                         token = strtok(NULL, ",");
 950              		.loc 1 328 27 is_stmt 0 view .LVU231
 951 00ce 2AE0     		b	.L62
ARM GAS  /tmp/ccvY7C6x.s 			page 26


 952              	.LVL71:
 953              	.L70:
 336:Src/main.c    ****                                 BASE_MINUTE = (atoi(token) % 10000) / 100;
 954              		.loc 1 336 33 is_stmt 1 view .LVU232
 336:Src/main.c    ****                                 BASE_MINUTE = (atoi(token) % 10000) / 100;
 955              		.loc 1 336 45 is_stmt 0 view .LVU233
 956 00d0 FFF7FEFF 		bl	atoi
 957              	.LVL72:
 336:Src/main.c    ****                                 BASE_MINUTE = (atoi(token) % 10000) / 100;
 958              		.loc 1 336 57 view .LVU234
 959 00d4 7F4E     		ldr	r6, .L83+40
 960 00d6 86FB0032 		smull	r3, r2, r6, r0
 961 00da C317     		asrs	r3, r0, #31
 962 00dc C3EB2233 		rsb	r3, r3, r2, asr #12
 336:Src/main.c    ****                                 BASE_MINUTE = (atoi(token) % 10000) / 100;
 963              		.loc 1 336 43 view .LVU235
 964 00e0 7D4A     		ldr	r2, .L83+44
 965 00e2 1360     		str	r3, [r2]
 337:Src/main.c    ****                                 BASE_SECOND = atoi(token) % 100;
 966              		.loc 1 337 33 is_stmt 1 view .LVU236
 337:Src/main.c    ****                                 BASE_SECOND = atoi(token) % 100;
 967              		.loc 1 337 48 is_stmt 0 view .LVU237
 968 00e4 2046     		mov	r0, r4
 969 00e6 FFF7FEFF 		bl	atoi
 970              	.LVL73:
 337:Src/main.c    ****                                 BASE_SECOND = atoi(token) % 100;
 971              		.loc 1 337 60 view .LVU238
 972 00ea 86FB0036 		smull	r3, r6, r6, r0
 973 00ee C317     		asrs	r3, r0, #31
 974 00f0 C3EB2633 		rsb	r3, r3, r6, asr #12
 975 00f4 42F21072 		movw	r2, #10000
 976 00f8 02FB1303 		mls	r3, r2, r3, r0
 337:Src/main.c    ****                                 BASE_SECOND = atoi(token) % 100;
 977              		.loc 1 337 69 view .LVU239
 978 00fc 774E     		ldr	r6, .L83+48
 979 00fe 86FB0312 		smull	r1, r2, r6, r3
 980 0102 DB17     		asrs	r3, r3, #31
 981 0104 C3EB6213 		rsb	r3, r3, r2, asr #5
 337:Src/main.c    ****                                 BASE_SECOND = atoi(token) % 100;
 982              		.loc 1 337 45 view .LVU240
 983 0108 754A     		ldr	r2, .L83+52
 984 010a 1360     		str	r3, [r2]
 338:Src/main.c    ****                                 break;
 985              		.loc 1 338 33 is_stmt 1 view .LVU241
 338:Src/main.c    ****                                 break;
 986              		.loc 1 338 47 is_stmt 0 view .LVU242
 987 010c 2046     		mov	r0, r4
 988 010e FFF7FEFF 		bl	atoi
 989              	.LVL74:
 338:Src/main.c    ****                                 break;
 990              		.loc 1 338 59 view .LVU243
 991 0112 86FB0036 		smull	r3, r6, r6, r0
 992 0116 C317     		asrs	r3, r0, #31
 993 0118 C3EB6613 		rsb	r3, r3, r6, asr #5
 994 011c 6422     		movs	r2, #100
 995 011e 02FB1303 		mls	r3, r2, r3, r0
 338:Src/main.c    ****                                 break;
ARM GAS  /tmp/ccvY7C6x.s 			page 27


 996              		.loc 1 338 45 view .LVU244
 997 0122 704A     		ldr	r2, .L83+56
 998 0124 1360     		str	r3, [r2]
 339:Src/main.c    ****                             case 3: // 纬度
 999              		.loc 1 339 33 is_stmt 1 view .LVU245
 1000              	.LVL75:
 1001              	.L62:
 328:Src/main.c    ****                         token = strtok(NULL, ",");
 1002              		.loc 1 328 27 view .LVU246
 1003 0126 002C     		cmp	r4, #0
 1004 0128 00F08B80 		beq	.L82
 329:Src/main.c    ****                         tokenIndex++;
 1005              		.loc 1 329 25 view .LVU247
 329:Src/main.c    ****                         tokenIndex++;
 1006              		.loc 1 329 33 is_stmt 0 view .LVU248
 1007 012c 6849     		ldr	r1, .L83+36
 1008 012e 0020     		movs	r0, #0
 1009 0130 FFF7FEFF 		bl	strtok
 1010              	.LVL76:
 1011 0134 0446     		mov	r4, r0
 1012              	.LVL77:
 330:Src/main.c    **** 
 1013              		.loc 1 330 25 is_stmt 1 view .LVU249
 330:Src/main.c    **** 
 1014              		.loc 1 330 35 is_stmt 0 view .LVU250
 1015 0136 0135     		adds	r5, r5, #1
 1016              	.LVL78:
 334:Src/main.c    ****                             case 1: // 时间
 1017              		.loc 1 334 25 is_stmt 1 view .LVU251
 1018 0138 6B1E     		subs	r3, r5, #1
 1019 013a 082B     		cmp	r3, #8
 1020 013c F3D8     		bhi	.L62
 1021 013e 01A2     		adr	r2, .L65
 1022 0140 52F823F0 		ldr	pc, [r2, r3, lsl #2]
 1023              		.p2align 2
 1024              	.L65:
 1025 0144 D1000000 		.word	.L70+1
 1026 0148 27010000 		.word	.L62+1
 1027 014c 69010000 		.word	.L69+1
 1028 0150 7B010000 		.word	.L68+1
 1029 0154 A7010000 		.word	.L67+1
 1030 0158 B9010000 		.word	.L66+1
 1031 015c 27010000 		.word	.L62+1
 1032 0160 27010000 		.word	.L62+1
 1033 0164 E5010000 		.word	.L64+1
 1034              		.p2align 1
 1035              	.L69:
 341:Src/main.c    ****                                 LATITUDE[sizeof(LATITUDE) - 1] = '\0';  // 确保字符串以null
 1036              		.loc 1 341 33 view .LVU252
 1037 0168 5F4E     		ldr	r6, .L83+60
 1038 016a 1322     		movs	r2, #19
 1039 016c 0146     		mov	r1, r0
 1040 016e 3046     		mov	r0, r6
 1041              	.LVL79:
 341:Src/main.c    ****                                 LATITUDE[sizeof(LATITUDE) - 1] = '\0';  // 确保字符串以null
 1042              		.loc 1 341 33 is_stmt 0 view .LVU253
 1043 0170 FFF7FEFF 		bl	strncpy
ARM GAS  /tmp/ccvY7C6x.s 			page 28


 1044              	.LVL80:
 342:Src/main.c    ****                                 break;
 1045              		.loc 1 342 33 is_stmt 1 view .LVU254
 342:Src/main.c    ****                                 break;
 1046              		.loc 1 342 64 is_stmt 0 view .LVU255
 1047 0174 0023     		movs	r3, #0
 1048 0176 F374     		strb	r3, [r6, #19]
 343:Src/main.c    ****                             case 4: // 纬度方向
 1049              		.loc 1 343 33 is_stmt 1 view .LVU256
 1050 0178 D5E7     		b	.L62
 1051              	.LVL81:
 1052              	.L68:
 345:Src/main.c    ****                                     size_t len = strlen(LATITUDE);
 1053              		.loc 1 345 33 view .LVU257
 345:Src/main.c    ****                                     size_t len = strlen(LATITUDE);
 1054              		.loc 1 345 37 is_stmt 0 view .LVU258
 1055 017a 5B48     		ldr	r0, .L83+60
 1056              	.LVL82:
 345:Src/main.c    ****                                     size_t len = strlen(LATITUDE);
 1057              		.loc 1 345 37 view .LVU259
 1058 017c FFF7FEFF 		bl	strlen
 1059              	.LVL83:
 345:Src/main.c    ****                                     size_t len = strlen(LATITUDE);
 1060              		.loc 1 345 54 view .LVU260
 1061 0180 831C     		adds	r3, r0, #2
 345:Src/main.c    ****                                     size_t len = strlen(LATITUDE);
 1062              		.loc 1 345 36 view .LVU261
 1063 0182 132B     		cmp	r3, #19
 1064 0184 CFD8     		bhi	.L62
 1065              	.LBB12:
 346:Src/main.c    ****                                     LATITUDE[len] = ',';           // Append comma directly
 1066              		.loc 1 346 37 is_stmt 1 view .LVU262
 1067              	.LVL84:
 347:Src/main.c    ****                                     LATITUDE[len + 1] = '\0';      // Null-terminate
 1068              		.loc 1 347 37 view .LVU263
 347:Src/main.c    ****                                     LATITUDE[len + 1] = '\0';      // Null-terminate
 1069              		.loc 1 347 51 is_stmt 0 view .LVU264
 1070 0186 584E     		ldr	r6, .L83+60
 1071 0188 2C23     		movs	r3, #44
 1072 018a 3354     		strb	r3, [r6, r0]
 348:Src/main.c    ****                                     strncat(LATITUDE, token, sizeof(LATITUDE) - strlen(LATITUDE) - 
 1073              		.loc 1 348 37 is_stmt 1 view .LVU265
 348:Src/main.c    ****                                     strncat(LATITUDE, token, sizeof(LATITUDE) - strlen(LATITUDE) - 
 1074              		.loc 1 348 50 is_stmt 0 view .LVU266
 1075 018c 0130     		adds	r0, r0, #1
 1076              	.LVL85:
 348:Src/main.c    ****                                     strncat(LATITUDE, token, sizeof(LATITUDE) - strlen(LATITUDE) - 
 1077              		.loc 1 348 55 view .LVU267
 1078 018e 0023     		movs	r3, #0
 1079 0190 3354     		strb	r3, [r6, r0]
 349:Src/main.c    ****                                 }
 1080              		.loc 1 349 37 is_stmt 1 view .LVU268
 349:Src/main.c    ****                                 }
 1081              		.loc 1 349 81 is_stmt 0 view .LVU269
 1082 0192 3046     		mov	r0, r6
 1083              	.LVL86:
 349:Src/main.c    ****                                 }
ARM GAS  /tmp/ccvY7C6x.s 			page 29


 1084              		.loc 1 349 81 view .LVU270
 1085 0194 FFF7FEFF 		bl	strlen
 1086              	.LVL87:
 349:Src/main.c    ****                                 }
 1087              		.loc 1 349 37 view .LVU271
 1088 0198 C0F11302 		rsb	r2, r0, #19
 1089 019c 2146     		mov	r1, r4
 1090 019e 3046     		mov	r0, r6
 1091 01a0 FFF7FEFF 		bl	strncat
 1092              	.LVL88:
 1093 01a4 BFE7     		b	.L62
 1094              	.LVL89:
 1095              	.L67:
 349:Src/main.c    ****                                 }
 1096              		.loc 1 349 37 view .LVU272
 1097              	.LBE12:
 353:Src/main.c    ****                                 LONGITUDE[sizeof(LONGITUDE) - 1] = '\0';  // 确保字符串以null
 1098              		.loc 1 353 33 is_stmt 1 view .LVU273
 1099 01a6 514E     		ldr	r6, .L83+64
 1100 01a8 1322     		movs	r2, #19
 1101 01aa 0146     		mov	r1, r0
 1102 01ac 3046     		mov	r0, r6
 1103              	.LVL90:
 353:Src/main.c    ****                                 LONGITUDE[sizeof(LONGITUDE) - 1] = '\0';  // 确保字符串以null
 1104              		.loc 1 353 33 is_stmt 0 view .LVU274
 1105 01ae FFF7FEFF 		bl	strncpy
 1106              	.LVL91:
 354:Src/main.c    ****                                 break;
 1107              		.loc 1 354 33 is_stmt 1 view .LVU275
 354:Src/main.c    ****                                 break;
 1108              		.loc 1 354 66 is_stmt 0 view .LVU276
 1109 01b2 0023     		movs	r3, #0
 1110 01b4 F374     		strb	r3, [r6, #19]
 355:Src/main.c    ****                             case 6: // 经度方向
 1111              		.loc 1 355 33 is_stmt 1 view .LVU277
 1112 01b6 B6E7     		b	.L62
 1113              	.LVL92:
 1114              	.L66:
 357:Src/main.c    ****                                     size_t len = strlen(LONGITUDE);
 1115              		.loc 1 357 33 view .LVU278
 357:Src/main.c    ****                                     size_t len = strlen(LONGITUDE);
 1116              		.loc 1 357 37 is_stmt 0 view .LVU279
 1117 01b8 4C48     		ldr	r0, .L83+64
 1118              	.LVL93:
 357:Src/main.c    ****                                     size_t len = strlen(LONGITUDE);
 1119              		.loc 1 357 37 view .LVU280
 1120 01ba FFF7FEFF 		bl	strlen
 1121              	.LVL94:
 357:Src/main.c    ****                                     size_t len = strlen(LONGITUDE);
 1122              		.loc 1 357 55 view .LVU281
 1123 01be 831C     		adds	r3, r0, #2
 357:Src/main.c    ****                                     size_t len = strlen(LONGITUDE);
 1124              		.loc 1 357 36 view .LVU282
 1125 01c0 132B     		cmp	r3, #19
 1126 01c2 B0D8     		bhi	.L62
 1127              	.LBB13:
 358:Src/main.c    ****                                     LONGITUDE[len] = ',';          // Append comma directly
ARM GAS  /tmp/ccvY7C6x.s 			page 30


 1128              		.loc 1 358 37 is_stmt 1 view .LVU283
 1129              	.LVL95:
 359:Src/main.c    ****                                     LONGITUDE[len + 1] = '\0';     // Null-terminate
 1130              		.loc 1 359 37 view .LVU284
 359:Src/main.c    ****                                     LONGITUDE[len + 1] = '\0';     // Null-terminate
 1131              		.loc 1 359 52 is_stmt 0 view .LVU285
 1132 01c4 494E     		ldr	r6, .L83+64
 1133 01c6 2C23     		movs	r3, #44
 1134 01c8 3354     		strb	r3, [r6, r0]
 360:Src/main.c    ****                                     strncat(LONGITUDE, token, sizeof(LONGITUDE) - strlen(LONGITUDE)
 1135              		.loc 1 360 37 is_stmt 1 view .LVU286
 360:Src/main.c    ****                                     strncat(LONGITUDE, token, sizeof(LONGITUDE) - strlen(LONGITUDE)
 1136              		.loc 1 360 51 is_stmt 0 view .LVU287
 1137 01ca 0130     		adds	r0, r0, #1
 1138              	.LVL96:
 360:Src/main.c    ****                                     strncat(LONGITUDE, token, sizeof(LONGITUDE) - strlen(LONGITUDE)
 1139              		.loc 1 360 56 view .LVU288
 1140 01cc 0023     		movs	r3, #0
 1141 01ce 3354     		strb	r3, [r6, r0]
 361:Src/main.c    ****                                 }
 1142              		.loc 1 361 37 is_stmt 1 view .LVU289
 361:Src/main.c    ****                                 }
 1143              		.loc 1 361 83 is_stmt 0 view .LVU290
 1144 01d0 3046     		mov	r0, r6
 1145              	.LVL97:
 361:Src/main.c    ****                                 }
 1146              		.loc 1 361 83 view .LVU291
 1147 01d2 FFF7FEFF 		bl	strlen
 1148              	.LVL98:
 361:Src/main.c    ****                                 }
 1149              		.loc 1 361 37 view .LVU292
 1150 01d6 C0F11302 		rsb	r2, r0, #19
 1151 01da 2146     		mov	r1, r4
 1152 01dc 3046     		mov	r0, r6
 1153 01de FFF7FEFF 		bl	strncat
 1154              	.LVL99:
 1155 01e2 A0E7     		b	.L62
 1156              	.LVL100:
 1157              	.L64:
 361:Src/main.c    ****                                 }
 1158              		.loc 1 361 37 view .LVU293
 1159              	.LBE13:
 365:Src/main.c    ****                                     char day[3], month[3], year[5];
 1160              		.loc 1 365 33 is_stmt 1 view .LVU294
 365:Src/main.c    ****                                     char day[3], month[3], year[5];
 1161              		.loc 1 365 37 is_stmt 0 view .LVU295
 1162 01e4 FFF7FEFF 		bl	strlen
 1163              	.LVL101:
 365:Src/main.c    ****                                     char day[3], month[3], year[5];
 1164              		.loc 1 365 36 view .LVU296
 1165 01e8 0628     		cmp	r0, #6
 1166 01ea 9CD1     		bne	.L62
 1167              	.LBB14:
 366:Src/main.c    ****                                     // Prepend '20' for the year
 1168              		.loc 1 366 37 is_stmt 1 view .LVU297
 368:Src/main.c    ****                                     strncat(year, token + 4, 2); // Append last two digits of the y
 1169              		.loc 1 368 37 view .LVU298
ARM GAS  /tmp/ccvY7C6x.s 			page 31


 1170 01ec 404B     		ldr	r3, .L83+68
 1171 01ee 1B68     		ldr	r3, [r3]
 1172 01f0 ADF80C30 		strh	r3, [sp, #12]	@ movhi
 1173 01f4 1B0C     		lsrs	r3, r3, #16
 1174 01f6 8DF80E30 		strb	r3, [sp, #14]
 369:Src/main.c    **** 
 1175              		.loc 1 369 37 view .LVU299
 1176 01fa 0222     		movs	r2, #2
 1177 01fc 211D     		adds	r1, r4, #4
 1178 01fe 03A8     		add	r0, sp, #12
 1179 0200 FFF7FEFF 		bl	strncat
 1180              	.LVL102:
 371:Src/main.c    ****                                     day[2] = '\0'; // Ensure null termination
 1181              		.loc 1 371 37 view .LVU300
 1182 0204 0222     		movs	r2, #2
 1183 0206 2146     		mov	r1, r4
 1184 0208 01A8     		add	r0, sp, #4
 1185 020a FFF7FEFF 		bl	strncpy
 1186              	.LVL103:
 372:Src/main.c    ****                                     strncpy(month, token + 2, 2);
 1187              		.loc 1 372 37 view .LVU301
 372:Src/main.c    ****                                     strncpy(month, token + 2, 2);
 1188              		.loc 1 372 44 is_stmt 0 view .LVU302
 1189 020e 0026     		movs	r6, #0
 1190 0210 8DF80660 		strb	r6, [sp, #6]
 373:Src/main.c    ****                                     month[2] = '\0'; // Ensure null termination
 1191              		.loc 1 373 37 is_stmt 1 view .LVU303
 1192 0214 0222     		movs	r2, #2
 1193 0216 A118     		adds	r1, r4, r2
 1194 0218 02A8     		add	r0, sp, #8
 1195 021a FFF7FEFF 		bl	strncpy
 1196              	.LVL104:
 374:Src/main.c    **** 
 1197              		.loc 1 374 37 view .LVU304
 374:Src/main.c    **** 
 1198              		.loc 1 374 46 is_stmt 0 view .LVU305
 1199 021e 8DF80A60 		strb	r6, [sp, #10]
 376:Src/main.c    ****                                     BASE_MONTH = atoi(month);
 1200              		.loc 1 376 37 is_stmt 1 view .LVU306
 376:Src/main.c    ****                                     BASE_MONTH = atoi(month);
 1201              		.loc 1 376 48 is_stmt 0 view .LVU307
 1202 0222 01A8     		add	r0, sp, #4
 1203 0224 FFF7FEFF 		bl	atoi
 1204              	.LVL105:
 376:Src/main.c    ****                                     BASE_MONTH = atoi(month);
 1205              		.loc 1 376 46 view .LVU308
 1206 0228 324B     		ldr	r3, .L83+72
 1207 022a 1860     		str	r0, [r3]
 377:Src/main.c    ****                                     BASE_YEAR = atoi(year);
 1208              		.loc 1 377 37 is_stmt 1 view .LVU309
 377:Src/main.c    ****                                     BASE_YEAR = atoi(year);
 1209              		.loc 1 377 50 is_stmt 0 view .LVU310
 1210 022c 02A8     		add	r0, sp, #8
 1211 022e FFF7FEFF 		bl	atoi
 1212              	.LVL106:
 377:Src/main.c    ****                                     BASE_YEAR = atoi(year);
 1213              		.loc 1 377 48 view .LVU311
ARM GAS  /tmp/ccvY7C6x.s 			page 32


 1214 0232 314B     		ldr	r3, .L83+76
 1215 0234 1860     		str	r0, [r3]
 378:Src/main.c    ****                                 }
 1216              		.loc 1 378 37 is_stmt 1 view .LVU312
 378:Src/main.c    ****                                 }
 1217              		.loc 1 378 49 is_stmt 0 view .LVU313
 1218 0236 03A8     		add	r0, sp, #12
 1219 0238 FFF7FEFF 		bl	atoi
 1220              	.LVL107:
 378:Src/main.c    ****                                 }
 1221              		.loc 1 378 47 view .LVU314
 1222 023c 2F4B     		ldr	r3, .L83+80
 1223 023e 1860     		str	r0, [r3]
 1224 0240 71E7     		b	.L62
 1225              	.L82:
 378:Src/main.c    ****                                 }
 1226              		.loc 1 378 47 view .LVU315
 1227              	.LBE14:
 383:Src/main.c    **** 
 1228              		.loc 1 383 21 is_stmt 1 view .LVU316
 383:Src/main.c    **** 
 1229              		.loc 1 383 40 is_stmt 0 view .LVU317
 1230 0242 2F4B     		ldr	r3, .L83+84
 1231 0244 1C68     		ldr	r4, [r3]
 1232              	.LVL108:
 383:Src/main.c    **** 
 1233              		.loc 1 383 42 view .LVU318
 1234 0246 FFF7FEFF 		bl	HAL_GetTick
 1235              	.LVL109:
 383:Src/main.c    **** 
 1236              		.loc 1 383 40 view .LVU319
 1237 024a 241A     		subs	r4, r4, r0
 383:Src/main.c    **** 
 1238              		.loc 1 383 29 view .LVU320
 1239 024c 2D4B     		ldr	r3, .L83+88
 1240 024e 1C60     		str	r4, [r3]
 1241              	.LBE11:
 1242 0250 E7E6     		b	.L56
 1243              	.LVL110:
 1244              	.L61:
 1245              	.LBB15:
 386:Src/main.c    ****                     HAL_UART_Transmit(&huart1, (uint8_t *)output_log, strlen(output_log), 100);
 1246              		.loc 1 386 21 is_stmt 1 discriminator 5 view .LVU321
 386:Src/main.c    ****                     HAL_UART_Transmit(&huart1, (uint8_t *)output_log, strlen(output_log), 100);
 1247              		.loc 1 386 26 is_stmt 0 discriminator 5 view .LVU322
 1248 0252 03AC     		add	r4, sp, #12
 1249 0254 2C4D     		ldr	r5, .L83+92
 1250 0256 0FCD     		ldmia	r5!, {r0, r1, r2, r3}
 1251              	.LVL111:
 386:Src/main.c    ****                     HAL_UART_Transmit(&huart1, (uint8_t *)output_log, strlen(output_log), 100);
 1252              		.loc 1 386 26 discriminator 5 view .LVU323
 1253 0258 0FC4     		stmia	r4!, {r0, r1, r2, r3}
 1254 025a 0FCD     		ldmia	r5!, {r0, r1, r2, r3}
 1255 025c 0FC4     		stmia	r4!, {r0, r1, r2, r3}
 1256 025e 95E80700 		ldm	r5, {r0, r1, r2}
 1257 0262 84E80700 		stm	r4, {r0, r1, r2}
 387:Src/main.c    ****                 }
ARM GAS  /tmp/ccvY7C6x.s 			page 33


 1258              		.loc 1 387 21 is_stmt 1 discriminator 5 view .LVU324
 387:Src/main.c    ****                 }
 1259              		.loc 1 387 71 is_stmt 0 discriminator 5 view .LVU325
 1260 0266 03A8     		add	r0, sp, #12
 1261 0268 FFF7FEFF 		bl	strlen
 1262              	.LVL112:
 387:Src/main.c    ****                 }
 1263              		.loc 1 387 21 discriminator 5 view .LVU326
 1264 026c 6423     		movs	r3, #100
 1265 026e 82B2     		uxth	r2, r0
 1266 0270 03A9     		add	r1, sp, #12
 1267 0272 1048     		ldr	r0, .L83+8
 1268 0274 FFF7FEFF 		bl	HAL_UART_Transmit
 1269              	.LVL113:
 1270 0278 D3E6     		b	.L56
 1271              	.L80:
 387:Src/main.c    ****                 }
 1272              		.loc 1 387 21 discriminator 5 view .LVU327
 1273              	.LBE15:
 1274              	.LBE8:
 395:Src/main.c    ****         }
 396:Src/main.c    ****         memset(buffer, 0, sizeof(buffer)); // 显式清空缓冲区
 1275              		.loc 1 396 9 is_stmt 1 view .LVU328
 1276 027a 4FF48062 		mov	r2, #1024
 1277 027e 0021     		movs	r1, #0
 1278 0280 0B48     		ldr	r0, .L83+4
 1279 0282 FFF7FEFF 		bl	memset
 1280              	.LVL114:
 397:Src/main.c    ****         index = 0; // 重置缓冲区索引
 1281              		.loc 1 397 9 view .LVU329
 1282              		.loc 1 397 15 is_stmt 0 view .LVU330
 1283 0286 094B     		ldr	r3, .L83
 1284 0288 0022     		movs	r2, #0
 1285 028a 1A60     		str	r2, [r3]
 398:Src/main.c    **** 
 399:Src/main.c    ****     } else {
 400:Src/main.c    ****         // 持续接收数据
 401:Src/main.c    ****         if (index < (sizeof(buffer) - 1)) {
 402:Src/main.c    ****             buffer[index++] = data;
 403:Src/main.c    ****         }
 404:Src/main.c    ****     }
 405:Src/main.c    **** }
 1286              		.loc 1 405 1 view .LVU331
 1287 028c 1CB0     		add	sp, sp, #112
 1288              	.LCFI8:
 1289              		.cfi_def_cfa_offset 16
 1290              		@ sp needed
 1291 028e 70BD     		pop	{r4, r5, r6, pc}
 1292              	.LVL115:
 1293              	.L52:
 1294              	.LCFI9:
 1295              		.cfi_def_cfa_offset 0
 1296              		.cfi_restore 4
 1297              		.cfi_restore 5
 1298              		.cfi_restore 6
 1299              		.cfi_restore 14
 401:Src/main.c    ****             buffer[index++] = data;
ARM GAS  /tmp/ccvY7C6x.s 			page 34


 1300              		.loc 1 401 9 is_stmt 1 view .LVU332
 401:Src/main.c    ****             buffer[index++] = data;
 1301              		.loc 1 401 19 is_stmt 0 view .LVU333
 1302 0290 064B     		ldr	r3, .L83
 1303 0292 1B68     		ldr	r3, [r3]
 401:Src/main.c    ****             buffer[index++] = data;
 1304              		.loc 1 401 12 view .LVU334
 1305 0294 40F2FE32 		movw	r2, #1022
 1306 0298 9342     		cmp	r3, r2
 1307 029a 05D8     		bhi	.L76
 402:Src/main.c    ****         }
 1308              		.loc 1 402 13 is_stmt 1 view .LVU335
 402:Src/main.c    ****         }
 1309              		.loc 1 402 25 is_stmt 0 view .LVU336
 1310 029c 591C     		adds	r1, r3, #1
 1311 029e 034A     		ldr	r2, .L83
 1312 02a0 1160     		str	r1, [r2]
 402:Src/main.c    ****         }
 1313              		.loc 1 402 29 view .LVU337
 1314 02a2 034A     		ldr	r2, .L83+4
 1315 02a4 D054     		strb	r0, [r2, r3]
 1316              		.loc 1 405 1 view .LVU338
 1317 02a6 7047     		bx	lr
 1318              	.L76:
 1319              		.loc 1 405 1 view .LVU339
 1320 02a8 7047     		bx	lr
 1321              	.L84:
 1322 02aa 00BF     		.align	2
 1323              	.L83:
 1324 02ac 00000000 		.word	.LANCHOR16
 1325 02b0 00000000 		.word	.LANCHOR17
 1326 02b4 00000000 		.word	huart1
 1327 02b8 00380140 		.word	1073821696
 1328 02bc 01000000 		.word	.LANCHOR17+1
 1329 02c0 00000000 		.word	.LANCHOR18
 1330 02c4 00000000 		.word	.LC2
 1331 02c8 28000000 		.word	.LC3
 1332 02cc 18000000 		.word	.LC4
 1333 02d0 20000000 		.word	.LC5
 1334 02d4 AD8BDB68 		.word	1759218605
 1335 02d8 00000000 		.word	.LANCHOR0
 1336 02dc 1F85EB51 		.word	1374389535
 1337 02e0 00000000 		.word	.LANCHOR1
 1338 02e4 00000000 		.word	.LANCHOR2
 1339 02e8 00000000 		.word	.LANCHOR8
 1340 02ec 00000000 		.word	.LANCHOR7
 1341 02f0 24000000 		.word	.LC6
 1342 02f4 00000000 		.word	.LANCHOR6
 1343 02f8 00000000 		.word	.LANCHOR5
 1344 02fc 00000000 		.word	.LANCHOR4
 1345 0300 00000000 		.word	.LANCHOR19
 1346 0304 00000000 		.word	.LANCHOR3
 1347 0308 5C000000 		.word	.LC7
 1348              		.cfi_endproc
 1349              	.LFE77:
 1351              		.section	.text.HAL_UART_RxCpltCallback,"ax",%progbits
 1352              		.align	1
ARM GAS  /tmp/ccvY7C6x.s 			page 35


 1353              		.global	HAL_UART_RxCpltCallback
 1354              		.syntax unified
 1355              		.thumb
 1356              		.thumb_func
 1357              		.fpu softvfp
 1359              	HAL_UART_RxCpltCallback:
 1360              	.LVL116:
 1361              	.LFB78:
 406:Src/main.c    **** void HAL_UART_RxCpltCallback(UART_HandleTypeDef *huart)
 407:Src/main.c    **** {
 1362              		.loc 1 407 1 is_stmt 1 view -0
 1363              		.cfi_startproc
 1364              		@ args = 0, pretend = 0, frame = 0
 1365              		@ frame_needed = 0, uses_anonymous_args = 0
 1366              		.loc 1 407 1 is_stmt 0 view .LVU341
 1367 0000 38B5     		push	{r3, r4, r5, lr}
 1368              	.LCFI10:
 1369              		.cfi_def_cfa_offset 16
 1370              		.cfi_offset 3, -16
 1371              		.cfi_offset 4, -12
 1372              		.cfi_offset 5, -8
 1373              		.cfi_offset 14, -4
 408:Src/main.c    ****     if (huart->Instance == USART1) 
 1374              		.loc 1 408 5 is_stmt 1 view .LVU342
 1375              		.loc 1 408 14 is_stmt 0 view .LVU343
 1376 0002 0268     		ldr	r2, [r0]
 1377              		.loc 1 408 8 view .LVU344
 1378 0004 074B     		ldr	r3, .L89
 1379 0006 9A42     		cmp	r2, r3
 1380 0008 00D0     		beq	.L88
 1381              	.LVL117:
 1382              	.L85:
 409:Src/main.c    ****     {
 410:Src/main.c    ****         ProcessReceivedData(uart_rx_buffer); 
 411:Src/main.c    ****         HAL_UART_Receive_IT(huart, &uart_rx_buffer, 1);
 412:Src/main.c    ****     }
 413:Src/main.c    **** }
 1383              		.loc 1 413 1 view .LVU345
 1384 000a 38BD     		pop	{r3, r4, r5, pc}
 1385              	.LVL118:
 1386              	.L88:
 1387              		.loc 1 413 1 view .LVU346
 1388 000c 0446     		mov	r4, r0
 410:Src/main.c    ****         HAL_UART_Receive_IT(huart, &uart_rx_buffer, 1);
 1389              		.loc 1 410 9 is_stmt 1 view .LVU347
 1390 000e 064D     		ldr	r5, .L89+4
 1391 0010 2878     		ldrb	r0, [r5]	@ zero_extendqisi2
 1392              	.LVL119:
 410:Src/main.c    ****         HAL_UART_Receive_IT(huart, &uart_rx_buffer, 1);
 1393              		.loc 1 410 9 is_stmt 0 view .LVU348
 1394 0012 FFF7FEFF 		bl	ProcessReceivedData
 1395              	.LVL120:
 411:Src/main.c    ****     }
 1396              		.loc 1 411 9 is_stmt 1 view .LVU349
 1397 0016 0122     		movs	r2, #1
 1398 0018 2946     		mov	r1, r5
 1399 001a 2046     		mov	r0, r4
ARM GAS  /tmp/ccvY7C6x.s 			page 36


 1400 001c FFF7FEFF 		bl	HAL_UART_Receive_IT
 1401              	.LVL121:
 1402              		.loc 1 413 1 is_stmt 0 view .LVU350
 1403 0020 F3E7     		b	.L85
 1404              	.L90:
 1405 0022 00BF     		.align	2
 1406              	.L89:
 1407 0024 00380140 		.word	1073821696
 1408 0028 00000000 		.word	uart_rx_buffer
 1409              		.cfi_endproc
 1410              	.LFE78:
 1412              		.section	.text.Error_Handler,"ax",%progbits
 1413              		.align	1
 1414              		.global	Error_Handler
 1415              		.syntax unified
 1416              		.thumb
 1417              		.thumb_func
 1418              		.fpu softvfp
 1420              	Error_Handler:
 1421              	.LFB81:
 414:Src/main.c    **** 
 415:Src/main.c    **** 
 416:Src/main.c    **** 
 417:Src/main.c    **** 
 418:Src/main.c    **** /* USER CODE END 0 */
 419:Src/main.c    **** 
 420:Src/main.c    **** /**
 421:Src/main.c    ****   * @brief  The application entry point.
 422:Src/main.c    ****   * @retval int
 423:Src/main.c    ****   */
 424:Src/main.c    **** int main(void)
 425:Src/main.c    **** {
 426:Src/main.c    **** 
 427:Src/main.c    ****   /* USER CODE BEGIN 1 */
 428:Src/main.c    **** 
 429:Src/main.c    ****   /* USER CODE END 1 */
 430:Src/main.c    **** 
 431:Src/main.c    ****   /* MCU Configuration--------------------------------------------------------*/
 432:Src/main.c    **** 
 433:Src/main.c    ****   /* Reset of all peripherals, Initializes the Flash interface and the Systick. */
 434:Src/main.c    ****   HAL_Init();
 435:Src/main.c    **** 
 436:Src/main.c    ****   /* USER CODE BEGIN Init */
 437:Src/main.c    **** 
 438:Src/main.c    ****   /* USER CODE END Init */
 439:Src/main.c    **** 
 440:Src/main.c    ****   /* Configure the system clock */
 441:Src/main.c    ****   SystemClock_Config();
 442:Src/main.c    **** 
 443:Src/main.c    ****   /* USER CODE BEGIN SysInit */
 444:Src/main.c    ****   DWT_Init();
 445:Src/main.c    ****   /* USER CODE END SysInit */
 446:Src/main.c    **** 
 447:Src/main.c    ****   /* Initialize all configured peripherals */
 448:Src/main.c    ****   MX_GPIO_Init();
 449:Src/main.c    ****   MX_DMA_Init();
 450:Src/main.c    ****   MX_TIM2_Init();
ARM GAS  /tmp/ccvY7C6x.s 			page 37


 451:Src/main.c    ****   MX_USART1_UART_Init();
 452:Src/main.c    ****   MX_USART3_UART_Init();
 453:Src/main.c    ****   MX_TIM3_Init();
 454:Src/main.c    ****   MX_TIM4_Init();
 455:Src/main.c    ****   /* USER CODE BEGIN 2 */
 456:Src/main.c    ****   
 457:Src/main.c    **** 
 458:Src/main.c    **** 
 459:Src/main.c    ****   if (HAL_TIM_Base_Start_IT(&htim3) != HAL_OK) {
 460:Src/main.c    ****     Error_Handler();
 461:Src/main.c    ****   }
 462:Src/main.c    ****   HAL_NVIC_SetPriority(TIM3_IRQn, 1, 1);
 463:Src/main.c    ****   HAL_NVIC_EnableIRQ(TIM3_IRQn);
 464:Src/main.c    **** 
 465:Src/main.c    ****   if (HAL_TIM_Base_Start_IT(&htim4) != HAL_OK) {
 466:Src/main.c    ****     Error_Handler();
 467:Src/main.c    ****   }
 468:Src/main.c    ****   HAL_NVIC_SetPriority(TIM4_IRQn, 0, 0);
 469:Src/main.c    ****   HAL_NVIC_EnableIRQ(TIM4_IRQn);
 470:Src/main.c    ****   baseTick = HAL_GetTick();
 471:Src/main.c    **** 
 472:Src/main.c    ****   if (HAL_TIM_Base_Start_IT(&htim2) != HAL_OK) {
 473:Src/main.c    ****     Error_Handler();  
 474:Src/main.c    ****   }
 475:Src/main.c    ****   HAL_NVIC_SetPriority(TIM2_IRQn, 2, 2);
 476:Src/main.c    ****   HAL_NVIC_EnableIRQ(TIM2_IRQn);
 477:Src/main.c    **** 
 478:Src/main.c    ****   // if (HAL_TIM_Base_Start_IT(&htim5) != HAL_OK) {
 479:Src/main.c    ****   //   Error_Handler();
 480:Src/main.c    ****   // }
 481:Src/main.c    ****   // HAL_NVIC_SetPriority(TIM5_IRQn, 0, 1);
 482:Src/main.c    ****   //   HAL_NVIC_EnableIRQ(TIM5_IRQn);
 483:Src/main.c    ****   
 484:Src/main.c    **** 
 485:Src/main.c    ****   if (HAL_UART_Receive_IT(&huart1, &uart_rx_buffer, 1) != HAL_OK) {
 486:Src/main.c    ****       Error_Handler(); 
 487:Src/main.c    ****   }
 488:Src/main.c    **** 
 489:Src/main.c    **** 
 490:Src/main.c    ****   while (1) {
 491:Src/main.c    **** 
 492:Src/main.c    ****       while(enable_synchrone) {
 493:Src/main.c    **** 
 494:Src/main.c    ****           if (trigger_led_flag && trigger_led_count >= 3)
 495:Src/main.c    ****           {
 496:Src/main.c    ****               trigger_led_flag = 0;
 497:Src/main.c    ****               trigger_led_count = 0;
 498:Src/main.c    ****               HAL_GPIO_WritePin(GPIOB, GPIO_PIN_2, GPIO_PIN_SET); // Trigger LED OFF
 499:Src/main.c    ****           }
 500:Src/main.c    ****           
 501:Src/main.c    ****           if (!gprmc_led_flag && gprmc_led_count >= 5)
 502:Src/main.c    ****           {
 503:Src/main.c    ****               gprmc_led_count = 0;
 504:Src/main.c    ****               HAL_GPIO_WritePin(GPIOC, GPIO_PIN_5, GPIO_PIN_SET); // LED GPRMC Sending OFF
 505:Src/main.c    ****           }
 506:Src/main.c    ****         
 507:Src/main.c    **** 
ARM GAS  /tmp/ccvY7C6x.s 			page 38


 508:Src/main.c    ****           if (trigger_flag) {
 509:Src/main.c    **** 
 510:Src/main.c    ****               trigger_flag = 0;
 511:Src/main.c    **** 
 512:Src/main.c    ****               // 点亮PB2表示触发信号已发送
 513:Src/main.c    ****               HAL_GPIO_WritePin(GPIOB, GPIO_PIN_2, GPIO_PIN_RESET); // Trigger LED
 514:Src/main.c    ****               trigger_led_flag = 1;
 515:Src/main.c    ****               
 516:Src/main.c    ****           }
 517:Src/main.c    **** 
 518:Src/main.c    ****           if (send_gps_flag) {
 519:Src/main.c    **** 
 520:Src/main.c    **** 
 521:Src/main.c    ****               send_gps_flag = 0;
 522:Src/main.c    **** 
 523:Src/main.c    ****               HAL_GPIO_WritePin(GPIOC, GPIO_PIN_5, GPIO_PIN_RESET); // LED GPRMC Sending ON
 524:Src/main.c    ****               gprmc_led_flag = 1;
 525:Src/main.c    **** 
 526:Src/main.c    ****               GPRMC_Generator(baseTime);
 527:Src/main.c    ****               HAL_UART_Transmit(&huart1, (uint8_t *)gprmc_data, strlen(gprmc_data), 6);
 528:Src/main.c    ****               // HAL_UART_Transmit_DMA(&huart1, (uint8_t *)gprmc_data, strlen(gprmc_data));
 529:Src/main.c    ****               // HAL_UART_Transmit(&huart3, (uint8_t *)gprmc_data, strlen(gprmc_data), 70);
 530:Src/main.c    ****               HAL_UART_Transmit_DMA(&huart3, (uint8_t *)gprmc_data, strlen(gprmc_data));
 531:Src/main.c    ****               
 532:Src/main.c    ****               
 533:Src/main.c    ****               
 534:Src/main.c    ****           }
 535:Src/main.c    ****       }
 536:Src/main.c    ****   }
 537:Src/main.c    **** 
 538:Src/main.c    ****   /* USER CODE END 2 */
 539:Src/main.c    **** 
 540:Src/main.c    ****   /* Infinite loop */
 541:Src/main.c    ****   /* USER CODE BEGIN WHILE */
 542:Src/main.c    ****   while (1)
 543:Src/main.c    ****   {
 544:Src/main.c    ****     /* USER CODE END WHILE */
 545:Src/main.c    **** 
 546:Src/main.c    ****     /* USER CODE BEGIN 3 */
 547:Src/main.c    ****   }
 548:Src/main.c    ****   /* USER CODE END 3 */
 549:Src/main.c    **** }
 550:Src/main.c    **** 
 551:Src/main.c    **** /**
 552:Src/main.c    ****   * @brief System Clock Configuration
 553:Src/main.c    ****   * @retval None
 554:Src/main.c    ****   */
 555:Src/main.c    **** void SystemClock_Config(void)
 556:Src/main.c    **** {
 557:Src/main.c    ****   RCC_OscInitTypeDef RCC_OscInitStruct = {0};
 558:Src/main.c    ****   RCC_ClkInitTypeDef RCC_ClkInitStruct = {0};
 559:Src/main.c    **** 
 560:Src/main.c    ****   /** Initializes the RCC Oscillators according to the specified parameters
 561:Src/main.c    ****   * in the RCC_OscInitTypeDef structure.
 562:Src/main.c    ****   */
 563:Src/main.c    ****   RCC_OscInitStruct.OscillatorType = RCC_OSCILLATORTYPE_HSE;
 564:Src/main.c    ****   RCC_OscInitStruct.HSEState = RCC_HSE_ON;
ARM GAS  /tmp/ccvY7C6x.s 			page 39


 565:Src/main.c    ****   RCC_OscInitStruct.HSEPredivValue = RCC_HSE_PREDIV_DIV1;
 566:Src/main.c    ****   RCC_OscInitStruct.HSIState = RCC_HSI_ON;
 567:Src/main.c    ****   RCC_OscInitStruct.PLL.PLLState = RCC_PLL_ON;
 568:Src/main.c    ****   RCC_OscInitStruct.PLL.PLLSource = RCC_PLLSOURCE_HSE;
 569:Src/main.c    ****   RCC_OscInitStruct.PLL.PLLMUL = RCC_PLL_MUL9;
 570:Src/main.c    ****   if (HAL_RCC_OscConfig(&RCC_OscInitStruct) != HAL_OK)
 571:Src/main.c    ****   {
 572:Src/main.c    ****     Error_Handler();
 573:Src/main.c    ****   }
 574:Src/main.c    **** 
 575:Src/main.c    ****   /** Initializes the CPU, AHB and APB buses clocks
 576:Src/main.c    ****   */
 577:Src/main.c    ****   RCC_ClkInitStruct.ClockType = RCC_CLOCKTYPE_HCLK|RCC_CLOCKTYPE_SYSCLK
 578:Src/main.c    ****                               |RCC_CLOCKTYPE_PCLK1|RCC_CLOCKTYPE_PCLK2;
 579:Src/main.c    ****   RCC_ClkInitStruct.SYSCLKSource = RCC_SYSCLKSOURCE_PLLCLK;
 580:Src/main.c    ****   RCC_ClkInitStruct.AHBCLKDivider = RCC_SYSCLK_DIV1;
 581:Src/main.c    ****   RCC_ClkInitStruct.APB1CLKDivider = RCC_HCLK_DIV2;
 582:Src/main.c    ****   RCC_ClkInitStruct.APB2CLKDivider = RCC_HCLK_DIV1;
 583:Src/main.c    **** 
 584:Src/main.c    ****   if (HAL_RCC_ClockConfig(&RCC_ClkInitStruct, FLASH_LATENCY_2) != HAL_OK)
 585:Src/main.c    ****   {
 586:Src/main.c    ****     Error_Handler();
 587:Src/main.c    ****   }
 588:Src/main.c    **** }
 589:Src/main.c    **** 
 590:Src/main.c    **** /* USER CODE BEGIN 4 */
 591:Src/main.c    **** 
 592:Src/main.c    **** /* USER CODE END 4 */
 593:Src/main.c    **** 
 594:Src/main.c    **** /**
 595:Src/main.c    ****   * @brief  This function is executed in case of error occurrence.
 596:Src/main.c    ****   * @retval None
 597:Src/main.c    ****   */
 598:Src/main.c    **** void Error_Handler(void)
 599:Src/main.c    **** {
 1422              		.loc 1 599 1 is_stmt 1 view -0
 1423              		.cfi_startproc
 1424              		@ Volatile: function does not return.
 1425              		@ args = 0, pretend = 0, frame = 0
 1426              		@ frame_needed = 0, uses_anonymous_args = 0
 1427 0000 08B5     		push	{r3, lr}
 1428              	.LCFI11:
 1429              		.cfi_def_cfa_offset 8
 1430              		.cfi_offset 3, -8
 1431              		.cfi_offset 14, -4
 600:Src/main.c    ****   /* USER CODE BEGIN Error_Handler_Debug */
 601:Src/main.c    ****   Error_Handler_Custom();
 1432              		.loc 1 601 3 view .LVU352
 1433 0002 FFF7FEFF 		bl	Error_Handler_Custom
 1434              	.LVL122:
 1435              		.cfi_endproc
 1436              	.LFE81:
 1438              		.section	.text.TIM4_IRQHandler,"ax",%progbits
 1439              		.align	1
 1440              		.global	TIM4_IRQHandler
 1441              		.syntax unified
 1442              		.thumb
ARM GAS  /tmp/ccvY7C6x.s 			page 40


 1443              		.thumb_func
 1444              		.fpu softvfp
 1446              	TIM4_IRQHandler:
 1447              	.LFB75:
 251:Src/main.c    ****     if (__HAL_TIM_GET_FLAG(&htim4, TIM_FLAG_UPDATE) != RESET) {
 1448              		.loc 1 251 28 view -0
 1449              		.cfi_startproc
 1450              		@ args = 0, pretend = 0, frame = 0
 1451              		@ frame_needed = 0, uses_anonymous_args = 0
 1452 0000 08B5     		push	{r3, lr}
 1453              	.LCFI12:
 1454              		.cfi_def_cfa_offset 8
 1455              		.cfi_offset 3, -8
 1456              		.cfi_offset 14, -4
 252:Src/main.c    ****         __HAL_TIM_CLEAR_IT(&htim4, TIM_IT_UPDATE);
 1457              		.loc 1 252 5 view .LVU354
 252:Src/main.c    ****         __HAL_TIM_CLEAR_IT(&htim4, TIM_IT_UPDATE);
 1458              		.loc 1 252 9 is_stmt 0 view .LVU355
 1459 0002 244B     		ldr	r3, .L103
 1460 0004 1B68     		ldr	r3, [r3]
 1461 0006 1A69     		ldr	r2, [r3, #16]
 252:Src/main.c    ****         __HAL_TIM_CLEAR_IT(&htim4, TIM_IT_UPDATE);
 1462              		.loc 1 252 8 view .LVU356
 1463 0008 12F0010F 		tst	r2, #1
 1464 000c 12D0     		beq	.L93
 1465              	.LBB16:
 253:Src/main.c    ****         
 1466              		.loc 1 253 9 is_stmt 1 view .LVU357
 1467 000e 6FF00102 		mvn	r2, #1
 1468 0012 1A61     		str	r2, [r3, #16]
 255:Src/main.c    ****         
 1469              		.loc 1 255 9 view .LVU358
 257:Src/main.c    ****         count_trigger_rate ++;
 1470              		.loc 1 257 9 view .LVU359
 257:Src/main.c    ****         count_trigger_rate ++;
 1471              		.loc 1 257 24 is_stmt 0 view .LVU360
 1472 0014 204A     		ldr	r2, .L103+4
 1473 0016 1368     		ldr	r3, [r2]
 1474 0018 0133     		adds	r3, r3, #1
 1475 001a 1360     		str	r3, [r2]
 258:Src/main.c    ****         if (count_trigger_rate >= 2500 / trigger_rate) {
 1476              		.loc 1 258 9 is_stmt 1 view .LVU361
 258:Src/main.c    ****         if (count_trigger_rate >= 2500 / trigger_rate) {
 1477              		.loc 1 258 28 is_stmt 0 view .LVU362
 1478 001c 1F4A     		ldr	r2, .L103+8
 1479 001e 1368     		ldr	r3, [r2]
 1480 0020 0133     		adds	r3, r3, #1
 1481 0022 1360     		str	r3, [r2]
 259:Src/main.c    ****             DWT_Delay(pps_offset);
 1482              		.loc 1 259 9 is_stmt 1 view .LVU363
 259:Src/main.c    ****             DWT_Delay(pps_offset);
 1483              		.loc 1 259 40 is_stmt 0 view .LVU364
 1484 0024 1E4A     		ldr	r2, .L103+12
 1485 0026 1168     		ldr	r1, [r2]
 1486 0028 40F6C412 		movw	r2, #2500
 1487 002c B2FBF1F2 		udiv	r2, r2, r1
 259:Src/main.c    ****             DWT_Delay(pps_offset);
ARM GAS  /tmp/ccvY7C6x.s 			page 41


 1488              		.loc 1 259 12 view .LVU365
 1489 0030 9342     		cmp	r3, r2
 1490 0032 00D2     		bcs	.L100
 1491              	.L93:
 1492              	.LBE16:
 279:Src/main.c    **** 
 1493              		.loc 1 279 1 view .LVU366
 1494 0034 08BD     		pop	{r3, pc}
 1495              	.L100:
 1496              	.LBB18:
 260:Src/main.c    ****             for(int i = 0; i < for_delay; i ++);
 1497              		.loc 1 260 13 is_stmt 1 view .LVU367
 1498 0036 1B4B     		ldr	r3, .L103+16
 1499 0038 1868     		ldr	r0, [r3]
 1500 003a FFF7FEFF 		bl	DWT_Delay
 1501              	.LVL123:
 261:Src/main.c    **** 
 1502              		.loc 1 261 13 view .LVU368
 1503              	.LBB17:
 261:Src/main.c    **** 
 1504              		.loc 1 261 17 view .LVU369
 261:Src/main.c    **** 
 1505              		.loc 1 261 21 is_stmt 0 view .LVU370
 1506 003e 0023     		movs	r3, #0
 1507              	.LVL124:
 1508              	.L95:
 261:Src/main.c    **** 
 1509              		.loc 1 261 28 is_stmt 1 discriminator 1 view .LVU371
 261:Src/main.c    **** 
 1510              		.loc 1 261 30 is_stmt 0 discriminator 1 view .LVU372
 1511 0040 194A     		ldr	r2, .L103+20
 1512 0042 1268     		ldr	r2, [r2]
 261:Src/main.c    **** 
 1513              		.loc 1 261 13 discriminator 1 view .LVU373
 1514 0044 9342     		cmp	r3, r2
 1515 0046 01D2     		bcs	.L101
 261:Src/main.c    **** 
 1516              		.loc 1 261 48 is_stmt 1 discriminator 3 view .LVU374
 261:Src/main.c    **** 
 1517              		.loc 1 261 43 discriminator 3 view .LVU375
 261:Src/main.c    **** 
 1518              		.loc 1 261 45 is_stmt 0 discriminator 3 view .LVU376
 1519 0048 0133     		adds	r3, r3, #1
 1520              	.LVL125:
 261:Src/main.c    **** 
 1521              		.loc 1 261 45 discriminator 3 view .LVU377
 1522 004a F9E7     		b	.L95
 1523              	.L101:
 261:Src/main.c    **** 
 1524              		.loc 1 261 45 discriminator 3 view .LVU378
 1525              	.LBE17:
 263:Src/main.c    ****             trigger_flag = 1;
 1526              		.loc 1 263 13 is_stmt 1 view .LVU379
 1527 004c 1021     		movs	r1, #16
 1528 004e 1748     		ldr	r0, .L103+24
 1529 0050 FFF7FEFF 		bl	HAL_GPIO_TogglePin
 1530              	.LVL126:
ARM GAS  /tmp/ccvY7C6x.s 			page 42


 264:Src/main.c    **** 
 1531              		.loc 1 264 13 view .LVU380
 264:Src/main.c    **** 
 1532              		.loc 1 264 26 is_stmt 0 view .LVU381
 1533 0054 164B     		ldr	r3, .L103+28
 1534 0056 0122     		movs	r2, #1
 1535 0058 1A70     		strb	r2, [r3]
 266:Src/main.c    ****                 if(pps_flag) {
 1536              		.loc 1 266 13 is_stmt 1 view .LVU382
 266:Src/main.c    ****                 if(pps_flag) {
 1537              		.loc 1 266 32 is_stmt 0 view .LVU383
 1538 005a 0F4B     		ldr	r3, .L103+4
 1539 005c 1A68     		ldr	r2, [r3]
 266:Src/main.c    ****                 if(pps_flag) {
 1540              		.loc 1 266 16 view .LVU384
 1541 005e 41F28733 		movw	r3, #4999
 1542 0062 9A42     		cmp	r2, r3
 1543 0064 0FD9     		bls	.L97
 267:Src/main.c    ****                     Error_Handler();
 1544              		.loc 1 267 17 is_stmt 1 view .LVU385
 267:Src/main.c    ****                     Error_Handler();
 1545              		.loc 1 267 20 is_stmt 0 view .LVU386
 1546 0066 134B     		ldr	r3, .L103+32
 1547 0068 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 267:Src/main.c    ****                     Error_Handler();
 1548              		.loc 1 267 19 view .LVU387
 1549 006a 83B9     		cbnz	r3, .L102
 270:Src/main.c    ****                 send_gps_flag = 1;    
 1550              		.loc 1 270 17 is_stmt 1 view .LVU388
 1551 006c 0122     		movs	r2, #1
 1552 006e 1146     		mov	r1, r2
 1553 0070 0E48     		ldr	r0, .L103+24
 1554 0072 FFF7FEFF 		bl	HAL_GPIO_WritePin
 1555              	.LVL127:
 271:Src/main.c    ****                 pps_flag = 1;  // Set flag to turn off PPS in ISR after 100 ms
 1556              		.loc 1 271 17 view .LVU389
 271:Src/main.c    ****                 pps_flag = 1;  // Set flag to turn off PPS in ISR after 100 ms
 1557              		.loc 1 271 31 is_stmt 0 view .LVU390
 1558 0076 0123     		movs	r3, #1
 1559 0078 0F4A     		ldr	r2, .L103+36
 1560 007a 1370     		strb	r3, [r2]
 272:Src/main.c    ****                 count_pps_rate = 0;          
 1561              		.loc 1 272 17 is_stmt 1 view .LVU391
 272:Src/main.c    ****                 count_pps_rate = 0;          
 1562              		.loc 1 272 26 is_stmt 0 view .LVU392
 1563 007c 0D4A     		ldr	r2, .L103+32
 1564 007e 1370     		strb	r3, [r2]
 273:Src/main.c    ****             }
 1565              		.loc 1 273 17 is_stmt 1 view .LVU393
 273:Src/main.c    ****             }
 1566              		.loc 1 273 32 is_stmt 0 view .LVU394
 1567 0080 054B     		ldr	r3, .L103+4
 1568 0082 0022     		movs	r2, #0
 1569 0084 1A60     		str	r2, [r3]
 1570              	.L97:
 275:Src/main.c    ****         }
 1571              		.loc 1 275 13 is_stmt 1 view .LVU395
ARM GAS  /tmp/ccvY7C6x.s 			page 43


 275:Src/main.c    ****         }
 1572              		.loc 1 275 32 is_stmt 0 view .LVU396
 1573 0086 054B     		ldr	r3, .L103+8
 1574 0088 0022     		movs	r2, #0
 1575 008a 1A60     		str	r2, [r3]
 1576              	.LBE18:
 279:Src/main.c    **** 
 1577              		.loc 1 279 1 view .LVU397
 1578 008c D2E7     		b	.L93
 1579              	.L102:
 1580              	.LBB19:
 268:Src/main.c    ****                 }
 1581              		.loc 1 268 21 is_stmt 1 view .LVU398
 1582 008e FFF7FEFF 		bl	Error_Handler
 1583              	.LVL128:
 1584              	.L104:
 1585 0092 00BF     		.align	2
 1586              	.L103:
 1587 0094 00000000 		.word	htim4
 1588 0098 00000000 		.word	.LANCHOR20
 1589 009c 00000000 		.word	.LANCHOR21
 1590 00a0 00000000 		.word	.LANCHOR22
 1591 00a4 00000000 		.word	.LANCHOR18
 1592 00a8 00000000 		.word	.LANCHOR23
 1593 00ac 00100140 		.word	1073811456
 1594 00b0 00000000 		.word	.LANCHOR24
 1595 00b4 00000000 		.word	.LANCHOR12
 1596 00b8 00000000 		.word	.LANCHOR25
 1597              	.LBE19:
 1598              		.cfi_endproc
 1599              	.LFE75:
 1601              		.section	.text.SystemClock_Config,"ax",%progbits
 1602              		.align	1
 1603              		.global	SystemClock_Config
 1604              		.syntax unified
 1605              		.thumb
 1606              		.thumb_func
 1607              		.fpu softvfp
 1609              	SystemClock_Config:
 1610              	.LFB80:
 556:Src/main.c    ****   RCC_OscInitTypeDef RCC_OscInitStruct = {0};
 1611              		.loc 1 556 1 view -0
 1612              		.cfi_startproc
 1613              		@ args = 0, pretend = 0, frame = 64
 1614              		@ frame_needed = 0, uses_anonymous_args = 0
 1615 0000 00B5     		push	{lr}
 1616              	.LCFI13:
 1617              		.cfi_def_cfa_offset 4
 1618              		.cfi_offset 14, -4
 1619 0002 91B0     		sub	sp, sp, #68
 1620              	.LCFI14:
 1621              		.cfi_def_cfa_offset 72
 557:Src/main.c    ****   RCC_ClkInitTypeDef RCC_ClkInitStruct = {0};
 1622              		.loc 1 557 3 view .LVU400
 557:Src/main.c    ****   RCC_ClkInitTypeDef RCC_ClkInitStruct = {0};
 1623              		.loc 1 557 22 is_stmt 0 view .LVU401
 1624 0004 0023     		movs	r3, #0
ARM GAS  /tmp/ccvY7C6x.s 			page 44


 1625 0006 0993     		str	r3, [sp, #36]
 1626 0008 0B93     		str	r3, [sp, #44]
 1627 000a 0C93     		str	r3, [sp, #48]
 558:Src/main.c    **** 
 1628              		.loc 1 558 3 is_stmt 1 view .LVU402
 558:Src/main.c    **** 
 1629              		.loc 1 558 22 is_stmt 0 view .LVU403
 1630 000c 0193     		str	r3, [sp, #4]
 1631 000e 0293     		str	r3, [sp, #8]
 1632 0010 0393     		str	r3, [sp, #12]
 1633 0012 0493     		str	r3, [sp, #16]
 1634 0014 0593     		str	r3, [sp, #20]
 563:Src/main.c    ****   RCC_OscInitStruct.HSEState = RCC_HSE_ON;
 1635              		.loc 1 563 3 is_stmt 1 view .LVU404
 563:Src/main.c    ****   RCC_OscInitStruct.HSEState = RCC_HSE_ON;
 1636              		.loc 1 563 36 is_stmt 0 view .LVU405
 1637 0016 0121     		movs	r1, #1
 1638 0018 0691     		str	r1, [sp, #24]
 564:Src/main.c    ****   RCC_OscInitStruct.HSEPredivValue = RCC_HSE_PREDIV_DIV1;
 1639              		.loc 1 564 3 is_stmt 1 view .LVU406
 564:Src/main.c    ****   RCC_OscInitStruct.HSEPredivValue = RCC_HSE_PREDIV_DIV1;
 1640              		.loc 1 564 30 is_stmt 0 view .LVU407
 1641 001a 4FF48032 		mov	r2, #65536
 1642 001e 0792     		str	r2, [sp, #28]
 565:Src/main.c    ****   RCC_OscInitStruct.HSIState = RCC_HSI_ON;
 1643              		.loc 1 565 3 is_stmt 1 view .LVU408
 565:Src/main.c    ****   RCC_OscInitStruct.HSIState = RCC_HSI_ON;
 1644              		.loc 1 565 36 is_stmt 0 view .LVU409
 1645 0020 0893     		str	r3, [sp, #32]
 566:Src/main.c    ****   RCC_OscInitStruct.PLL.PLLState = RCC_PLL_ON;
 1646              		.loc 1 566 3 is_stmt 1 view .LVU410
 566:Src/main.c    ****   RCC_OscInitStruct.PLL.PLLState = RCC_PLL_ON;
 1647              		.loc 1 566 30 is_stmt 0 view .LVU411
 1648 0022 0A91     		str	r1, [sp, #40]
 567:Src/main.c    ****   RCC_OscInitStruct.PLL.PLLSource = RCC_PLLSOURCE_HSE;
 1649              		.loc 1 567 3 is_stmt 1 view .LVU412
 567:Src/main.c    ****   RCC_OscInitStruct.PLL.PLLSource = RCC_PLLSOURCE_HSE;
 1650              		.loc 1 567 34 is_stmt 0 view .LVU413
 1651 0024 0223     		movs	r3, #2
 1652 0026 0D93     		str	r3, [sp, #52]
 568:Src/main.c    ****   RCC_OscInitStruct.PLL.PLLMUL = RCC_PLL_MUL9;
 1653              		.loc 1 568 3 is_stmt 1 view .LVU414
 568:Src/main.c    ****   RCC_OscInitStruct.PLL.PLLMUL = RCC_PLL_MUL9;
 1654              		.loc 1 568 35 is_stmt 0 view .LVU415
 1655 0028 0E92     		str	r2, [sp, #56]
 569:Src/main.c    ****   if (HAL_RCC_OscConfig(&RCC_OscInitStruct) != HAL_OK)
 1656              		.loc 1 569 3 is_stmt 1 view .LVU416
 569:Src/main.c    ****   if (HAL_RCC_OscConfig(&RCC_OscInitStruct) != HAL_OK)
 1657              		.loc 1 569 32 is_stmt 0 view .LVU417
 1658 002a 4FF4E013 		mov	r3, #1835008
 1659 002e 0F93     		str	r3, [sp, #60]
 570:Src/main.c    ****   {
 1660              		.loc 1 570 3 is_stmt 1 view .LVU418
 570:Src/main.c    ****   {
 1661              		.loc 1 570 7 is_stmt 0 view .LVU419
 1662 0030 06A8     		add	r0, sp, #24
 1663 0032 FFF7FEFF 		bl	HAL_RCC_OscConfig
ARM GAS  /tmp/ccvY7C6x.s 			page 45


 1664              	.LVL129:
 570:Src/main.c    ****   {
 1665              		.loc 1 570 6 view .LVU420
 1666 0036 80B9     		cbnz	r0, .L109
 577:Src/main.c    ****                               |RCC_CLOCKTYPE_PCLK1|RCC_CLOCKTYPE_PCLK2;
 1667              		.loc 1 577 3 is_stmt 1 view .LVU421
 577:Src/main.c    ****                               |RCC_CLOCKTYPE_PCLK1|RCC_CLOCKTYPE_PCLK2;
 1668              		.loc 1 577 31 is_stmt 0 view .LVU422
 1669 0038 0F23     		movs	r3, #15
 1670 003a 0193     		str	r3, [sp, #4]
 579:Src/main.c    ****   RCC_ClkInitStruct.AHBCLKDivider = RCC_SYSCLK_DIV1;
 1671              		.loc 1 579 3 is_stmt 1 view .LVU423
 579:Src/main.c    ****   RCC_ClkInitStruct.AHBCLKDivider = RCC_SYSCLK_DIV1;
 1672              		.loc 1 579 34 is_stmt 0 view .LVU424
 1673 003c 0221     		movs	r1, #2
 1674 003e 0291     		str	r1, [sp, #8]
 580:Src/main.c    ****   RCC_ClkInitStruct.APB1CLKDivider = RCC_HCLK_DIV2;
 1675              		.loc 1 580 3 is_stmt 1 view .LVU425
 580:Src/main.c    ****   RCC_ClkInitStruct.APB1CLKDivider = RCC_HCLK_DIV2;
 1676              		.loc 1 580 35 is_stmt 0 view .LVU426
 1677 0040 0023     		movs	r3, #0
 1678 0042 0393     		str	r3, [sp, #12]
 581:Src/main.c    ****   RCC_ClkInitStruct.APB2CLKDivider = RCC_HCLK_DIV1;
 1679              		.loc 1 581 3 is_stmt 1 view .LVU427
 581:Src/main.c    ****   RCC_ClkInitStruct.APB2CLKDivider = RCC_HCLK_DIV1;
 1680              		.loc 1 581 36 is_stmt 0 view .LVU428
 1681 0044 4FF48062 		mov	r2, #1024
 1682 0048 0492     		str	r2, [sp, #16]
 582:Src/main.c    **** 
 1683              		.loc 1 582 3 is_stmt 1 view .LVU429
 582:Src/main.c    **** 
 1684              		.loc 1 582 36 is_stmt 0 view .LVU430
 1685 004a 0593     		str	r3, [sp, #20]
 584:Src/main.c    ****   {
 1686              		.loc 1 584 3 is_stmt 1 view .LVU431
 584:Src/main.c    ****   {
 1687              		.loc 1 584 7 is_stmt 0 view .LVU432
 1688 004c 01A8     		add	r0, sp, #4
 1689 004e FFF7FEFF 		bl	HAL_RCC_ClockConfig
 1690              	.LVL130:
 584:Src/main.c    ****   {
 1691              		.loc 1 584 6 view .LVU433
 1692 0052 20B9     		cbnz	r0, .L110
 588:Src/main.c    **** 
 1693              		.loc 1 588 1 view .LVU434
 1694 0054 11B0     		add	sp, sp, #68
 1695              	.LCFI15:
 1696              		.cfi_remember_state
 1697              		.cfi_def_cfa_offset 4
 1698              		@ sp needed
 1699 0056 5DF804FB 		ldr	pc, [sp], #4
 1700              	.L109:
 1701              	.LCFI16:
 1702              		.cfi_restore_state
 572:Src/main.c    ****   }
 1703              		.loc 1 572 5 is_stmt 1 view .LVU435
 1704 005a FFF7FEFF 		bl	Error_Handler
ARM GAS  /tmp/ccvY7C6x.s 			page 46


 1705              	.LVL131:
 1706              	.L110:
 586:Src/main.c    ****   }
 1707              		.loc 1 586 5 view .LVU436
 1708 005e FFF7FEFF 		bl	Error_Handler
 1709              	.LVL132:
 1710              		.cfi_endproc
 1711              	.LFE80:
 1713              		.section	.text.main,"ax",%progbits
 1714              		.align	1
 1715              		.global	main
 1716              		.syntax unified
 1717              		.thumb
 1718              		.thumb_func
 1719              		.fpu softvfp
 1721              	main:
 1722              	.LFB79:
 425:Src/main.c    **** 
 1723              		.loc 1 425 1 view -0
 1724              		.cfi_startproc
 1725              		@ Volatile: function does not return.
 1726              		@ args = 0, pretend = 0, frame = 0
 1727              		@ frame_needed = 0, uses_anonymous_args = 0
 1728 0000 08B5     		push	{r3, lr}
 1729              	.LCFI17:
 1730              		.cfi_def_cfa_offset 8
 1731              		.cfi_offset 3, -8
 1732              		.cfi_offset 14, -4
 434:Src/main.c    **** 
 1733              		.loc 1 434 3 view .LVU438
 1734 0002 FFF7FEFF 		bl	HAL_Init
 1735              	.LVL133:
 441:Src/main.c    **** 
 1736              		.loc 1 441 3 view .LVU439
 1737 0006 FFF7FEFF 		bl	SystemClock_Config
 1738              	.LVL134:
 444:Src/main.c    ****   /* USER CODE END SysInit */
 1739              		.loc 1 444 3 view .LVU440
 1740 000a FFF7FEFF 		bl	DWT_Init
 1741              	.LVL135:
 448:Src/main.c    ****   MX_DMA_Init();
 1742              		.loc 1 448 3 view .LVU441
 1743 000e FFF7FEFF 		bl	MX_GPIO_Init
 1744              	.LVL136:
 449:Src/main.c    ****   MX_TIM2_Init();
 1745              		.loc 1 449 3 view .LVU442
 1746 0012 FFF7FEFF 		bl	MX_DMA_Init
 1747              	.LVL137:
 450:Src/main.c    ****   MX_USART1_UART_Init();
 1748              		.loc 1 450 3 view .LVU443
 1749 0016 FFF7FEFF 		bl	MX_TIM2_Init
 1750              	.LVL138:
 451:Src/main.c    ****   MX_USART3_UART_Init();
 1751              		.loc 1 451 3 view .LVU444
 1752 001a FFF7FEFF 		bl	MX_USART1_UART_Init
 1753              	.LVL139:
 452:Src/main.c    ****   MX_TIM3_Init();
ARM GAS  /tmp/ccvY7C6x.s 			page 47


 1754              		.loc 1 452 3 view .LVU445
 1755 001e FFF7FEFF 		bl	MX_USART3_UART_Init
 1756              	.LVL140:
 453:Src/main.c    ****   MX_TIM4_Init();
 1757              		.loc 1 453 3 view .LVU446
 1758 0022 FFF7FEFF 		bl	MX_TIM3_Init
 1759              	.LVL141:
 454:Src/main.c    ****   /* USER CODE BEGIN 2 */
 1760              		.loc 1 454 3 view .LVU447
 1761 0026 FFF7FEFF 		bl	MX_TIM4_Init
 1762              	.LVL142:
 459:Src/main.c    ****     Error_Handler();
 1763              		.loc 1 459 3 view .LVU448
 459:Src/main.c    ****     Error_Handler();
 1764              		.loc 1 459 7 is_stmt 0 view .LVU449
 1765 002a 4748     		ldr	r0, .L126
 1766 002c FFF7FEFF 		bl	HAL_TIM_Base_Start_IT
 1767              	.LVL143:
 459:Src/main.c    ****     Error_Handler();
 1768              		.loc 1 459 6 view .LVU450
 1769 0030 08B1     		cbz	r0, .L112
 460:Src/main.c    ****   }
 1770              		.loc 1 460 5 is_stmt 1 view .LVU451
 1771 0032 FFF7FEFF 		bl	Error_Handler
 1772              	.LVL144:
 1773              	.L112:
 462:Src/main.c    ****   HAL_NVIC_EnableIRQ(TIM3_IRQn);
 1774              		.loc 1 462 3 view .LVU452
 1775 0036 0122     		movs	r2, #1
 1776 0038 1146     		mov	r1, r2
 1777 003a 1D20     		movs	r0, #29
 1778 003c FFF7FEFF 		bl	HAL_NVIC_SetPriority
 1779              	.LVL145:
 463:Src/main.c    **** 
 1780              		.loc 1 463 3 view .LVU453
 1781 0040 1D20     		movs	r0, #29
 1782 0042 FFF7FEFF 		bl	HAL_NVIC_EnableIRQ
 1783              	.LVL146:
 465:Src/main.c    ****     Error_Handler();
 1784              		.loc 1 465 3 view .LVU454
 465:Src/main.c    ****     Error_Handler();
 1785              		.loc 1 465 7 is_stmt 0 view .LVU455
 1786 0046 4148     		ldr	r0, .L126+4
 1787 0048 FFF7FEFF 		bl	HAL_TIM_Base_Start_IT
 1788              	.LVL147:
 465:Src/main.c    ****     Error_Handler();
 1789              		.loc 1 465 6 view .LVU456
 1790 004c 08B1     		cbz	r0, .L113
 466:Src/main.c    ****   }
 1791              		.loc 1 466 5 is_stmt 1 view .LVU457
 1792 004e FFF7FEFF 		bl	Error_Handler
 1793              	.LVL148:
 1794              	.L113:
 468:Src/main.c    ****   HAL_NVIC_EnableIRQ(TIM4_IRQn);
 1795              		.loc 1 468 3 view .LVU458
 1796 0052 0022     		movs	r2, #0
 1797 0054 1146     		mov	r1, r2
ARM GAS  /tmp/ccvY7C6x.s 			page 48


 1798 0056 1E20     		movs	r0, #30
 1799 0058 FFF7FEFF 		bl	HAL_NVIC_SetPriority
 1800              	.LVL149:
 469:Src/main.c    ****   baseTick = HAL_GetTick();
 1801              		.loc 1 469 3 view .LVU459
 1802 005c 1E20     		movs	r0, #30
 1803 005e FFF7FEFF 		bl	HAL_NVIC_EnableIRQ
 1804              	.LVL150:
 470:Src/main.c    **** 
 1805              		.loc 1 470 3 view .LVU460
 470:Src/main.c    **** 
 1806              		.loc 1 470 14 is_stmt 0 view .LVU461
 1807 0062 FFF7FEFF 		bl	HAL_GetTick
 1808              	.LVL151:
 470:Src/main.c    **** 
 1809              		.loc 1 470 12 view .LVU462
 1810 0066 3A4B     		ldr	r3, .L126+8
 1811 0068 1860     		str	r0, [r3]
 472:Src/main.c    ****     Error_Handler();  
 1812              		.loc 1 472 3 is_stmt 1 view .LVU463
 472:Src/main.c    ****     Error_Handler();  
 1813              		.loc 1 472 7 is_stmt 0 view .LVU464
 1814 006a 3A48     		ldr	r0, .L126+12
 1815 006c FFF7FEFF 		bl	HAL_TIM_Base_Start_IT
 1816              	.LVL152:
 472:Src/main.c    ****     Error_Handler();  
 1817              		.loc 1 472 6 view .LVU465
 1818 0070 08B1     		cbz	r0, .L114
 473:Src/main.c    ****   }
 1819              		.loc 1 473 5 is_stmt 1 view .LVU466
 1820 0072 FFF7FEFF 		bl	Error_Handler
 1821              	.LVL153:
 1822              	.L114:
 475:Src/main.c    ****   HAL_NVIC_EnableIRQ(TIM2_IRQn);
 1823              		.loc 1 475 3 view .LVU467
 1824 0076 0222     		movs	r2, #2
 1825 0078 1146     		mov	r1, r2
 1826 007a 1C20     		movs	r0, #28
 1827 007c FFF7FEFF 		bl	HAL_NVIC_SetPriority
 1828              	.LVL154:
 476:Src/main.c    **** 
 1829              		.loc 1 476 3 view .LVU468
 1830 0080 1C20     		movs	r0, #28
 1831 0082 FFF7FEFF 		bl	HAL_NVIC_EnableIRQ
 1832              	.LVL155:
 485:Src/main.c    ****       Error_Handler(); 
 1833              		.loc 1 485 3 view .LVU469
 485:Src/main.c    ****       Error_Handler(); 
 1834              		.loc 1 485 7 is_stmt 0 view .LVU470
 1835 0086 0122     		movs	r2, #1
 1836 0088 3349     		ldr	r1, .L126+16
 1837 008a 3448     		ldr	r0, .L126+20
 1838 008c FFF7FEFF 		bl	HAL_UART_Receive_IT
 1839              	.LVL156:
 485:Src/main.c    ****       Error_Handler(); 
 1840              		.loc 1 485 6 view .LVU471
 1841 0090 90B1     		cbz	r0, .L121
ARM GAS  /tmp/ccvY7C6x.s 			page 49


 486:Src/main.c    ****   }
 1842              		.loc 1 486 7 is_stmt 1 view .LVU472
 1843 0092 FFF7FEFF 		bl	Error_Handler
 1844              	.LVL157:
 1845              	.L125:
 496:Src/main.c    ****               trigger_led_count = 0;
 1846              		.loc 1 496 15 view .LVU473
 496:Src/main.c    ****               trigger_led_count = 0;
 1847              		.loc 1 496 32 is_stmt 0 view .LVU474
 1848 0096 0023     		movs	r3, #0
 1849 0098 314A     		ldr	r2, .L126+24
 1850 009a 1370     		strb	r3, [r2]
 497:Src/main.c    ****               HAL_GPIO_WritePin(GPIOB, GPIO_PIN_2, GPIO_PIN_SET); // Trigger LED OFF
 1851              		.loc 1 497 15 is_stmt 1 view .LVU475
 497:Src/main.c    ****               HAL_GPIO_WritePin(GPIOB, GPIO_PIN_2, GPIO_PIN_SET); // Trigger LED OFF
 1852              		.loc 1 497 33 is_stmt 0 view .LVU476
 1853 009c 314A     		ldr	r2, .L126+28
 1854 009e 1360     		str	r3, [r2]
 498:Src/main.c    ****           }
 1855              		.loc 1 498 15 is_stmt 1 view .LVU477
 1856 00a0 0122     		movs	r2, #1
 1857 00a2 0421     		movs	r1, #4
 1858 00a4 3048     		ldr	r0, .L126+32
 1859 00a6 FFF7FEFF 		bl	HAL_GPIO_WritePin
 1860              	.LVL158:
 1861 00aa 10E0     		b	.L116
 1862              	.L117:
 508:Src/main.c    **** 
 1863              		.loc 1 508 11 view .LVU478
 508:Src/main.c    **** 
 1864              		.loc 1 508 15 is_stmt 0 view .LVU479
 1865 00ac 2F4B     		ldr	r3, .L126+36
 1866 00ae 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 508:Src/main.c    **** 
 1867              		.loc 1 508 14 view .LVU480
 1868 00b0 F3B9     		cbnz	r3, .L123
 1869              	.L118:
 518:Src/main.c    **** 
 1870              		.loc 1 518 11 is_stmt 1 view .LVU481
 518:Src/main.c    **** 
 1871              		.loc 1 518 15 is_stmt 0 view .LVU482
 1872 00b2 2F4B     		ldr	r3, .L126+40
 1873 00b4 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 518:Src/main.c    **** 
 1874              		.loc 1 518 14 view .LVU483
 1875 00b6 33BB     		cbnz	r3, .L124
 1876              	.L121:
 492:Src/main.c    **** 
 1877              		.loc 1 492 12 is_stmt 1 view .LVU484
 492:Src/main.c    **** 
 1878              		.loc 1 492 13 is_stmt 0 view .LVU485
 1879 00b8 2E4B     		ldr	r3, .L126+44
 1880 00ba 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 492:Src/main.c    **** 
 1881              		.loc 1 492 12 view .LVU486
 1882 00bc 002B     		cmp	r3, #0
 1883 00be FBD0     		beq	.L121
ARM GAS  /tmp/ccvY7C6x.s 			page 50


 494:Src/main.c    ****           {
 1884              		.loc 1 494 11 is_stmt 1 view .LVU487
 494:Src/main.c    ****           {
 1885              		.loc 1 494 15 is_stmt 0 view .LVU488
 1886 00c0 274B     		ldr	r3, .L126+24
 1887 00c2 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 494:Src/main.c    ****           {
 1888              		.loc 1 494 14 view .LVU489
 1889 00c4 1BB1     		cbz	r3, .L116
 494:Src/main.c    ****           {
 1890              		.loc 1 494 53 discriminator 1 view .LVU490
 1891 00c6 274B     		ldr	r3, .L126+28
 1892 00c8 1B68     		ldr	r3, [r3]
 494:Src/main.c    ****           {
 1893              		.loc 1 494 32 discriminator 1 view .LVU491
 1894 00ca 022B     		cmp	r3, #2
 1895 00cc E3DC     		bgt	.L125
 1896              	.L116:
 501:Src/main.c    ****           {
 1897              		.loc 1 501 11 is_stmt 1 view .LVU492
 501:Src/main.c    ****           {
 1898              		.loc 1 501 15 is_stmt 0 view .LVU493
 1899 00ce 2A4B     		ldr	r3, .L126+48
 1900 00d0 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 501:Src/main.c    ****           {
 1901              		.loc 1 501 14 view .LVU494
 1902 00d2 002B     		cmp	r3, #0
 1903 00d4 EAD1     		bne	.L117
 501:Src/main.c    ****           {
 1904              		.loc 1 501 50 discriminator 1 view .LVU495
 1905 00d6 294B     		ldr	r3, .L126+52
 1906 00d8 1B68     		ldr	r3, [r3]
 501:Src/main.c    ****           {
 1907              		.loc 1 501 31 discriminator 1 view .LVU496
 1908 00da 042B     		cmp	r3, #4
 1909 00dc E6DD     		ble	.L117
 503:Src/main.c    ****               HAL_GPIO_WritePin(GPIOC, GPIO_PIN_5, GPIO_PIN_SET); // LED GPRMC Sending OFF
 1910              		.loc 1 503 15 is_stmt 1 view .LVU497
 503:Src/main.c    ****               HAL_GPIO_WritePin(GPIOC, GPIO_PIN_5, GPIO_PIN_SET); // LED GPRMC Sending OFF
 1911              		.loc 1 503 31 is_stmt 0 view .LVU498
 1912 00de 274B     		ldr	r3, .L126+52
 1913 00e0 0022     		movs	r2, #0
 1914 00e2 1A60     		str	r2, [r3]
 504:Src/main.c    ****           }
 1915              		.loc 1 504 15 is_stmt 1 view .LVU499
 1916 00e4 0122     		movs	r2, #1
 1917 00e6 2021     		movs	r1, #32
 1918 00e8 2548     		ldr	r0, .L126+56
 1919 00ea FFF7FEFF 		bl	HAL_GPIO_WritePin
 1920              	.LVL159:
 1921 00ee DDE7     		b	.L117
 1922              	.L123:
 510:Src/main.c    **** 
 1923              		.loc 1 510 15 view .LVU500
 510:Src/main.c    **** 
 1924              		.loc 1 510 28 is_stmt 0 view .LVU501
 1925 00f0 0022     		movs	r2, #0
ARM GAS  /tmp/ccvY7C6x.s 			page 51


 1926 00f2 1E4B     		ldr	r3, .L126+36
 1927 00f4 1A70     		strb	r2, [r3]
 513:Src/main.c    ****               trigger_led_flag = 1;
 1928              		.loc 1 513 15 is_stmt 1 view .LVU502
 1929 00f6 0421     		movs	r1, #4
 1930 00f8 1B48     		ldr	r0, .L126+32
 1931 00fa FFF7FEFF 		bl	HAL_GPIO_WritePin
 1932              	.LVL160:
 514:Src/main.c    ****               
 1933              		.loc 1 514 15 view .LVU503
 514:Src/main.c    ****               
 1934              		.loc 1 514 32 is_stmt 0 view .LVU504
 1935 00fe 184B     		ldr	r3, .L126+24
 1936 0100 0122     		movs	r2, #1
 1937 0102 1A70     		strb	r2, [r3]
 1938 0104 D5E7     		b	.L118
 1939              	.L124:
 521:Src/main.c    **** 
 1940              		.loc 1 521 15 is_stmt 1 view .LVU505
 521:Src/main.c    **** 
 1941              		.loc 1 521 29 is_stmt 0 view .LVU506
 1942 0106 0022     		movs	r2, #0
 1943 0108 194B     		ldr	r3, .L126+40
 1944 010a 1A70     		strb	r2, [r3]
 523:Src/main.c    ****               gprmc_led_flag = 1;
 1945              		.loc 1 523 15 is_stmt 1 view .LVU507
 1946 010c 2021     		movs	r1, #32
 1947 010e 1C48     		ldr	r0, .L126+56
 1948 0110 FFF7FEFF 		bl	HAL_GPIO_WritePin
 1949              	.LVL161:
 524:Src/main.c    **** 
 1950              		.loc 1 524 15 view .LVU508
 524:Src/main.c    **** 
 1951              		.loc 1 524 30 is_stmt 0 view .LVU509
 1952 0114 184B     		ldr	r3, .L126+48
 1953 0116 0122     		movs	r2, #1
 1954 0118 1A70     		strb	r2, [r3]
 526:Src/main.c    ****               HAL_UART_Transmit(&huart1, (uint8_t *)gprmc_data, strlen(gprmc_data), 6);
 1955              		.loc 1 526 15 is_stmt 1 view .LVU510
 1956 011a 1A4B     		ldr	r3, .L126+60
 1957 011c 1868     		ldr	r0, [r3]
 1958 011e FFF7FEFF 		bl	GPRMC_Generator
 1959              	.LVL162:
 527:Src/main.c    ****               // HAL_UART_Transmit_DMA(&huart1, (uint8_t *)gprmc_data, strlen(gprmc_data));
 1960              		.loc 1 527 15 view .LVU511
 527:Src/main.c    ****               // HAL_UART_Transmit_DMA(&huart1, (uint8_t *)gprmc_data, strlen(gprmc_data));
 1961              		.loc 1 527 65 is_stmt 0 view .LVU512
 1962 0122 194C     		ldr	r4, .L126+64
 1963 0124 2046     		mov	r0, r4
 1964 0126 FFF7FEFF 		bl	strlen
 1965              	.LVL163:
 527:Src/main.c    ****               // HAL_UART_Transmit_DMA(&huart1, (uint8_t *)gprmc_data, strlen(gprmc_data));
 1966              		.loc 1 527 15 view .LVU513
 1967 012a 0623     		movs	r3, #6
 1968 012c 82B2     		uxth	r2, r0
 1969 012e 2146     		mov	r1, r4
 1970 0130 0A48     		ldr	r0, .L126+20
ARM GAS  /tmp/ccvY7C6x.s 			page 52


 1971 0132 FFF7FEFF 		bl	HAL_UART_Transmit
 1972              	.LVL164:
 530:Src/main.c    ****               
 1973              		.loc 1 530 15 is_stmt 1 view .LVU514
 530:Src/main.c    ****               
 1974              		.loc 1 530 69 is_stmt 0 view .LVU515
 1975 0136 2046     		mov	r0, r4
 1976 0138 FFF7FEFF 		bl	strlen
 1977              	.LVL165:
 530:Src/main.c    ****               
 1978              		.loc 1 530 15 view .LVU516
 1979 013c 82B2     		uxth	r2, r0
 1980 013e 2146     		mov	r1, r4
 1981 0140 1248     		ldr	r0, .L126+68
 1982 0142 FFF7FEFF 		bl	HAL_UART_Transmit_DMA
 1983              	.LVL166:
 1984 0146 B7E7     		b	.L121
 1985              	.L127:
 1986              		.align	2
 1987              	.L126:
 1988 0148 00000000 		.word	htim3
 1989 014c 00000000 		.word	htim4
 1990 0150 00000000 		.word	.LANCHOR19
 1991 0154 00000000 		.word	htim2
 1992 0158 00000000 		.word	uart_rx_buffer
 1993 015c 00000000 		.word	huart1
 1994 0160 00000000 		.word	.LANCHOR10
 1995 0164 00000000 		.word	.LANCHOR11
 1996 0168 000C0140 		.word	1073810432
 1997 016c 00000000 		.word	.LANCHOR24
 1998 0170 00000000 		.word	.LANCHOR25
 1999 0174 00000000 		.word	.LANCHOR9
 2000 0178 00000000 		.word	.LANCHOR14
 2001 017c 00000000 		.word	.LANCHOR15
 2002 0180 00100140 		.word	1073811456
 2003 0184 00000000 		.word	.LANCHOR26
 2004 0188 00000000 		.word	gprmc_data
 2005 018c 00000000 		.word	huart3
 2006              		.cfi_endproc
 2007              	.LFE79:
 2009              		.global	trigger_rate
 2010              		.global	for_delay
 2011              		.global	pps_offset
 2012              		.global	uart_transmit_flag
 2013              		.global	gprmc_led_count
 2014              		.global	gprmc_led_flag
 2015              		.global	pps_count
 2016              		.global	pps_flag
 2017              		.global	trigger_led_count
 2018              		.global	trigger_led_flag
 2019              		.global	enable_synchrone
 2020              		.global	send_gps_flag
 2021              		.global	trigger_flag
 2022              		.comm	uart_rx_buffer,1,1
 2023              		.comm	gprmc_data,100,4
 2024              		.global	elapsed
 2025              		.global	baseTick
ARM GAS  /tmp/ccvY7C6x.s 			page 53


 2026              		.global	baseTime
 2027              		.global	LONGITUDE
 2028              		.global	LATITUDE
 2029              		.global	BASE_SECOND
 2030              		.global	BASE_MINUTE
 2031              		.global	BASE_HOUR
 2032              		.global	BASE_DAY
 2033              		.global	BASE_MONTH
 2034              		.global	BASE_YEAR
 2035              		.section	.bss.BASE_MINUTE,"aw",%nobits
 2036              		.align	2
 2037              		.set	.LANCHOR1,. + 0
 2040              	BASE_MINUTE:
 2041 0000 00000000 		.space	4
 2042              		.section	.bss.BASE_SECOND,"aw",%nobits
 2043              		.align	2
 2044              		.set	.LANCHOR2,. + 0
 2047              	BASE_SECOND:
 2048 0000 00000000 		.space	4
 2049              		.section	.bss.baseTick,"aw",%nobits
 2050              		.align	2
 2051              		.set	.LANCHOR19,. + 0
 2054              	baseTick:
 2055 0000 00000000 		.space	4
 2056              		.section	.bss.baseTime,"aw",%nobits
 2057              		.align	2
 2058              		.set	.LANCHOR26,. + 0
 2061              	baseTime:
 2062 0000 00000000 		.space	4
 2063              		.section	.bss.buffer.7968,"aw",%nobits
 2064              		.align	2
 2065              		.set	.LANCHOR17,. + 0
 2068              	buffer.7968:
 2069 0000 00000000 		.space	1024
 2069      00000000 
 2069      00000000 
 2069      00000000 
 2069      00000000 
 2070              		.section	.bss.count_pps_rate.7957,"aw",%nobits
 2071              		.align	2
 2072              		.set	.LANCHOR20,. + 0
 2075              	count_pps_rate.7957:
 2076 0000 00000000 		.space	4
 2077              		.section	.bss.count_trigger_rate.7956,"aw",%nobits
 2078              		.align	2
 2079              		.set	.LANCHOR21,. + 0
 2082              	count_trigger_rate.7956:
 2083 0000 00000000 		.space	4
 2084              		.section	.bss.elapsed,"aw",%nobits
 2085              		.align	2
 2086              		.set	.LANCHOR3,. + 0
 2089              	elapsed:
 2090 0000 00000000 		.space	4
 2091              		.section	.bss.for_delay,"aw",%nobits
 2092              		.align	2
 2093              		.set	.LANCHOR23,. + 0
 2096              	for_delay:
ARM GAS  /tmp/ccvY7C6x.s 			page 54


 2097 0000 00000000 		.space	4
 2098              		.section	.bss.gprmc_led_count,"aw",%nobits
 2099              		.align	2
 2100              		.set	.LANCHOR15,. + 0
 2103              	gprmc_led_count:
 2104 0000 00000000 		.space	4
 2105              		.section	.bss.gprmc_led_flag,"aw",%nobits
 2106              		.set	.LANCHOR14,. + 0
 2109              	gprmc_led_flag:
 2110 0000 00       		.space	1
 2111              		.section	.bss.index.7969,"aw",%nobits
 2112              		.align	2
 2113              		.set	.LANCHOR16,. + 0
 2116              	index.7969:
 2117 0000 00000000 		.space	4
 2118              		.section	.bss.pps_count,"aw",%nobits
 2119              		.align	2
 2120              		.set	.LANCHOR13,. + 0
 2123              	pps_count:
 2124 0000 00000000 		.space	4
 2125              		.section	.bss.pps_flag,"aw",%nobits
 2126              		.set	.LANCHOR12,. + 0
 2129              	pps_flag:
 2130 0000 00       		.space	1
 2131              		.section	.bss.send_gps_flag,"aw",%nobits
 2132              		.set	.LANCHOR25,. + 0
 2135              	send_gps_flag:
 2136 0000 00       		.space	1
 2137              		.section	.bss.trigger_flag,"aw",%nobits
 2138              		.set	.LANCHOR24,. + 0
 2141              	trigger_flag:
 2142 0000 00       		.space	1
 2143              		.section	.bss.trigger_led_count,"aw",%nobits
 2144              		.align	2
 2145              		.set	.LANCHOR11,. + 0
 2148              	trigger_led_count:
 2149 0000 00000000 		.space	4
 2150              		.section	.bss.trigger_led_flag,"aw",%nobits
 2151              		.set	.LANCHOR10,. + 0
 2154              	trigger_led_flag:
 2155 0000 00       		.space	1
 2156              		.section	.bss.uart_transmit_flag,"aw",%nobits
 2159              	uart_transmit_flag:
 2160 0000 00       		.space	1
 2161              		.section	.data.BASE_DAY,"aw"
 2162              		.align	2
 2163              		.set	.LANCHOR6,. + 0
 2166              	BASE_DAY:
 2167 0000 0C000000 		.word	12
 2168              		.section	.data.BASE_HOUR,"aw"
 2169              		.align	2
 2170              		.set	.LANCHOR0,. + 0
 2173              	BASE_HOUR:
 2174 0000 02000000 		.word	2
 2175              		.section	.data.BASE_MONTH,"aw"
 2176              		.align	2
 2177              		.set	.LANCHOR5,. + 0
ARM GAS  /tmp/ccvY7C6x.s 			page 55


 2180              	BASE_MONTH:
 2181 0000 02000000 		.word	2
 2182              		.section	.data.BASE_YEAR,"aw"
 2183              		.align	2
 2184              		.set	.LANCHOR4,. + 0
 2187              	BASE_YEAR:
 2188 0000 D3070000 		.word	2003
 2189              		.section	.data.LATITUDE,"aw"
 2190              		.align	2
 2191              		.set	.LANCHOR8,. + 0
 2194              	LATITUDE:
 2195 0000 32323337 		.ascii	"2237.8840,N\000"
 2195      2E383834 
 2195      302C4E00 
 2196 000c 00000000 		.space	8
 2196      00000000 
 2197              		.section	.data.LONGITUDE,"aw"
 2198              		.align	2
 2199              		.set	.LANCHOR7,. + 0
 2202              	LONGITUDE:
 2203 0000 31313030 		.ascii	"11009.2400,E\000"
 2203      392E3234 
 2203      30302C45 
 2203      00
 2204 000d 00000000 		.space	7
 2204      000000
 2205              		.section	.data.enable_synchrone,"aw"
 2206              		.set	.LANCHOR9,. + 0
 2209              	enable_synchrone:
 2210 0000 01       		.byte	1
 2211              		.section	.data.pps_offset,"aw"
 2212              		.align	2
 2213              		.set	.LANCHOR18,. + 0
 2216              	pps_offset:
 2217 0000 5E010000 		.word	350
 2218              		.section	.data.trigger_rate,"aw"
 2219              		.align	2
 2220              		.set	.LANCHOR22,. + 0
 2223              	trigger_rate:
 2224 0000 0A000000 		.word	10
 2225              		.text
 2226              	.Letext0:
 2227              		.file 2 "/usr/lib/gcc/arm-none-eabi/9.2.1/include/stdint.h"
 2228              		.file 3 "Drivers/CMSIS/Include/core_cm3.h"
 2229              		.file 4 "Drivers/CMSIS/Device/ST/STM32F1xx/Include/system_stm32f1xx.h"
 2230              		.file 5 "Drivers/CMSIS/Device/ST/STM32F1xx/Include/stm32f103xe.h"
 2231              		.file 6 "Drivers/CMSIS/Device/ST/STM32F1xx/Include/stm32f1xx.h"
 2232              		.file 7 "/usr/lib/gcc/arm-none-eabi/9.2.1/include/stddef.h"
 2233              		.file 8 "Drivers/STM32F1xx_HAL_Driver/Inc/stm32f1xx_hal_def.h"
 2234              		.file 9 "Drivers/STM32F1xx_HAL_Driver/Inc/stm32f1xx_hal_rcc.h"
 2235              		.file 10 "Drivers/STM32F1xx_HAL_Driver/Inc/stm32f1xx_hal_rcc_ex.h"
 2236              		.file 11 "Drivers/STM32F1xx_HAL_Driver/Inc/stm32f1xx_hal_gpio.h"
 2237              		.file 12 "Drivers/STM32F1xx_HAL_Driver/Inc/stm32f1xx_hal_dma.h"
 2238              		.file 13 "Drivers/STM32F1xx_HAL_Driver/Inc/stm32f1xx_hal_tim.h"
 2239              		.file 14 "Drivers/STM32F1xx_HAL_Driver/Inc/stm32f1xx_hal_uart.h"
 2240              		.file 15 "Drivers/STM32F1xx_HAL_Driver/Inc/stm32f1xx_hal.h"
 2241              		.file 16 "Inc/tim.h"
ARM GAS  /tmp/ccvY7C6x.s 			page 56


 2242              		.file 17 "Inc/usart.h"
 2243              		.file 18 "/usr/include/newlib/sys/_types.h"
 2244              		.file 19 "/usr/include/newlib/sys/reent.h"
 2245              		.file 20 "/usr/include/newlib/sys/lock.h"
 2246              		.file 21 "/usr/include/newlib/stdlib.h"
 2247              		.file 22 "Inc/gpio.h"
 2248              		.file 23 "Inc/dma.h"
 2249              		.file 24 "Drivers/STM32F1xx_HAL_Driver/Inc/stm32f1xx_hal_cortex.h"
 2250              		.file 25 "/usr/include/newlib/string.h"
 2251              		.file 26 "/usr/include/newlib/stdio.h"
 2252              		.file 27 "Drivers/CMSIS/Include/cmsis_gcc.h"
 2253              		.file 28 "<built-in>"
ARM GAS  /tmp/ccvY7C6x.s 			page 57


DEFINED SYMBOLS
                            *ABS*:0000000000000000 main.c
     /tmp/ccvY7C6x.s:16     .text.Error_Handler_Custom:0000000000000000 $t
     /tmp/ccvY7C6x.s:24     .text.Error_Handler_Custom:0000000000000000 Error_Handler_Custom
     /tmp/ccvY7C6x.s:104    .text.Error_Handler_Custom:0000000000000044 $d
     /tmp/ccvY7C6x.s:111    .text.DWT_Init:0000000000000000 $t
     /tmp/ccvY7C6x.s:118    .text.DWT_Init:0000000000000000 DWT_Init
     /tmp/ccvY7C6x.s:154    .text.DWT_Init:0000000000000024 $d
     /tmp/ccvY7C6x.s:160    .text.DWT_Delay:0000000000000000 $t
     /tmp/ccvY7C6x.s:167    .text.DWT_Delay:0000000000000000 DWT_Delay
     /tmp/ccvY7C6x.s:207    .text.DWT_Delay:0000000000000020 $d
     /tmp/ccvY7C6x.s:214    .text.nmea_checksum:0000000000000000 $t
     /tmp/ccvY7C6x.s:221    .text.nmea_checksum:0000000000000000 nmea_checksum
     /tmp/ccvY7C6x.s:279    .rodata.GPRMC_Generator.str1.4:0000000000000000 $d
     /tmp/ccvY7C6x.s:287    .text.GPRMC_Generator:0000000000000000 $t
     /tmp/ccvY7C6x.s:294    .text.GPRMC_Generator:0000000000000000 GPRMC_Generator
     /tmp/ccvY7C6x.s:446    .text.GPRMC_Generator:00000000000000d0 $d
                            *COM*:0000000000000064 gprmc_data
     /tmp/ccvY7C6x.s:467    .text.TIM2_IRQHandler:0000000000000000 $t
     /tmp/ccvY7C6x.s:474    .text.TIM2_IRQHandler:0000000000000000 TIM2_IRQHandler
     /tmp/ccvY7C6x.s:541    .text.TIM2_IRQHandler:000000000000004c $d
     /tmp/ccvY7C6x.s:549    .text.HAL_TIM_PeriodElapsedCallback:0000000000000000 $t
     /tmp/ccvY7C6x.s:556    .text.HAL_TIM_PeriodElapsedCallback:0000000000000000 HAL_TIM_PeriodElapsedCallback
     /tmp/ccvY7C6x.s:650    .text.HAL_TIM_PeriodElapsedCallback:0000000000000054 $d
     /tmp/ccvY7C6x.s:662    .text.HAL_UART_TxCpltCallback:0000000000000000 $t
     /tmp/ccvY7C6x.s:669    .text.HAL_UART_TxCpltCallback:0000000000000000 HAL_UART_TxCpltCallback
     /tmp/ccvY7C6x.s:700    .text.HAL_UART_TxCpltCallback:0000000000000018 $d
     /tmp/ccvY7C6x.s:706    .rodata.ProcessReceivedData.str1.4:0000000000000000 $d
     /tmp/ccvY7C6x.s:726    .text.ProcessReceivedData:0000000000000000 $t
     /tmp/ccvY7C6x.s:733    .text.ProcessReceivedData:0000000000000000 ProcessReceivedData
     /tmp/ccvY7C6x.s:1025   .text.ProcessReceivedData:0000000000000144 $d
     /tmp/ccvY7C6x.s:1034   .text.ProcessReceivedData:0000000000000168 $t
     /tmp/ccvY7C6x.s:1324   .text.ProcessReceivedData:00000000000002ac $d
     /tmp/ccvY7C6x.s:1352   .text.HAL_UART_RxCpltCallback:0000000000000000 $t
     /tmp/ccvY7C6x.s:1359   .text.HAL_UART_RxCpltCallback:0000000000000000 HAL_UART_RxCpltCallback
     /tmp/ccvY7C6x.s:1407   .text.HAL_UART_RxCpltCallback:0000000000000024 $d
                            *COM*:0000000000000001 uart_rx_buffer
     /tmp/ccvY7C6x.s:1413   .text.Error_Handler:0000000000000000 $t
     /tmp/ccvY7C6x.s:1420   .text.Error_Handler:0000000000000000 Error_Handler
     /tmp/ccvY7C6x.s:1439   .text.TIM4_IRQHandler:0000000000000000 $t
     /tmp/ccvY7C6x.s:1446   .text.TIM4_IRQHandler:0000000000000000 TIM4_IRQHandler
     /tmp/ccvY7C6x.s:1587   .text.TIM4_IRQHandler:0000000000000094 $d
     /tmp/ccvY7C6x.s:1602   .text.SystemClock_Config:0000000000000000 $t
     /tmp/ccvY7C6x.s:1609   .text.SystemClock_Config:0000000000000000 SystemClock_Config
     /tmp/ccvY7C6x.s:1714   .text.main:0000000000000000 $t
     /tmp/ccvY7C6x.s:1721   .text.main:0000000000000000 main
     /tmp/ccvY7C6x.s:1988   .text.main:0000000000000148 $d
     /tmp/ccvY7C6x.s:2223   .data.trigger_rate:0000000000000000 trigger_rate
     /tmp/ccvY7C6x.s:2096   .bss.for_delay:0000000000000000 for_delay
     /tmp/ccvY7C6x.s:2216   .data.pps_offset:0000000000000000 pps_offset
     /tmp/ccvY7C6x.s:2159   .bss.uart_transmit_flag:0000000000000000 uart_transmit_flag
     /tmp/ccvY7C6x.s:2103   .bss.gprmc_led_count:0000000000000000 gprmc_led_count
     /tmp/ccvY7C6x.s:2109   .bss.gprmc_led_flag:0000000000000000 gprmc_led_flag
     /tmp/ccvY7C6x.s:2123   .bss.pps_count:0000000000000000 pps_count
     /tmp/ccvY7C6x.s:2129   .bss.pps_flag:0000000000000000 pps_flag
     /tmp/ccvY7C6x.s:2148   .bss.trigger_led_count:0000000000000000 trigger_led_count
     /tmp/ccvY7C6x.s:2154   .bss.trigger_led_flag:0000000000000000 trigger_led_flag
ARM GAS  /tmp/ccvY7C6x.s 			page 58


     /tmp/ccvY7C6x.s:2209   .data.enable_synchrone:0000000000000000 enable_synchrone
     /tmp/ccvY7C6x.s:2135   .bss.send_gps_flag:0000000000000000 send_gps_flag
     /tmp/ccvY7C6x.s:2141   .bss.trigger_flag:0000000000000000 trigger_flag
     /tmp/ccvY7C6x.s:2089   .bss.elapsed:0000000000000000 elapsed
     /tmp/ccvY7C6x.s:2054   .bss.baseTick:0000000000000000 baseTick
     /tmp/ccvY7C6x.s:2061   .bss.baseTime:0000000000000000 baseTime
     /tmp/ccvY7C6x.s:2202   .data.LONGITUDE:0000000000000000 LONGITUDE
     /tmp/ccvY7C6x.s:2194   .data.LATITUDE:0000000000000000 LATITUDE
     /tmp/ccvY7C6x.s:2047   .bss.BASE_SECOND:0000000000000000 BASE_SECOND
     /tmp/ccvY7C6x.s:2040   .bss.BASE_MINUTE:0000000000000000 BASE_MINUTE
     /tmp/ccvY7C6x.s:2173   .data.BASE_HOUR:0000000000000000 BASE_HOUR
     /tmp/ccvY7C6x.s:2166   .data.BASE_DAY:0000000000000000 BASE_DAY
     /tmp/ccvY7C6x.s:2180   .data.BASE_MONTH:0000000000000000 BASE_MONTH
     /tmp/ccvY7C6x.s:2187   .data.BASE_YEAR:0000000000000000 BASE_YEAR
     /tmp/ccvY7C6x.s:2036   .bss.BASE_MINUTE:0000000000000000 $d
     /tmp/ccvY7C6x.s:2043   .bss.BASE_SECOND:0000000000000000 $d
     /tmp/ccvY7C6x.s:2050   .bss.baseTick:0000000000000000 $d
     /tmp/ccvY7C6x.s:2057   .bss.baseTime:0000000000000000 $d
     /tmp/ccvY7C6x.s:2064   .bss.buffer.7968:0000000000000000 $d
     /tmp/ccvY7C6x.s:2068   .bss.buffer.7968:0000000000000000 buffer.7968
     /tmp/ccvY7C6x.s:2071   .bss.count_pps_rate.7957:0000000000000000 $d
     /tmp/ccvY7C6x.s:2075   .bss.count_pps_rate.7957:0000000000000000 count_pps_rate.7957
     /tmp/ccvY7C6x.s:2078   .bss.count_trigger_rate.7956:0000000000000000 $d
     /tmp/ccvY7C6x.s:2082   .bss.count_trigger_rate.7956:0000000000000000 count_trigger_rate.7956
     /tmp/ccvY7C6x.s:2085   .bss.elapsed:0000000000000000 $d
     /tmp/ccvY7C6x.s:2092   .bss.for_delay:0000000000000000 $d
     /tmp/ccvY7C6x.s:2099   .bss.gprmc_led_count:0000000000000000 $d
     /tmp/ccvY7C6x.s:2110   .bss.gprmc_led_flag:0000000000000000 $d
     /tmp/ccvY7C6x.s:2112   .bss.index.7969:0000000000000000 $d
     /tmp/ccvY7C6x.s:2116   .bss.index.7969:0000000000000000 index.7969
     /tmp/ccvY7C6x.s:2119   .bss.pps_count:0000000000000000 $d
     /tmp/ccvY7C6x.s:2130   .bss.pps_flag:0000000000000000 $d
     /tmp/ccvY7C6x.s:2136   .bss.send_gps_flag:0000000000000000 $d
     /tmp/ccvY7C6x.s:2142   .bss.trigger_flag:0000000000000000 $d
     /tmp/ccvY7C6x.s:2144   .bss.trigger_led_count:0000000000000000 $d
     /tmp/ccvY7C6x.s:2155   .bss.trigger_led_flag:0000000000000000 $d
     /tmp/ccvY7C6x.s:2160   .bss.uart_transmit_flag:0000000000000000 $d
     /tmp/ccvY7C6x.s:2162   .data.BASE_DAY:0000000000000000 $d
     /tmp/ccvY7C6x.s:2169   .data.BASE_HOUR:0000000000000000 $d
     /tmp/ccvY7C6x.s:2176   .data.BASE_MONTH:0000000000000000 $d
     /tmp/ccvY7C6x.s:2183   .data.BASE_YEAR:0000000000000000 $d
     /tmp/ccvY7C6x.s:2190   .data.LATITUDE:0000000000000000 $d
     /tmp/ccvY7C6x.s:2198   .data.LONGITUDE:0000000000000000 $d
     /tmp/ccvY7C6x.s:2212   .data.pps_offset:0000000000000000 $d
     /tmp/ccvY7C6x.s:2219   .data.trigger_rate:0000000000000000 $d

UNDEFINED SYMBOLS
HAL_GPIO_WritePin
SystemCoreClock
HAL_GetTick
memset
sprintf
strlen
htim2
strtol
HAL_UART_Transmit
strncmp
ARM GAS  /tmp/ccvY7C6x.s 			page 59


strtok
atoi
strncpy
strncat
huart1
HAL_UART_Receive_IT
HAL_GPIO_TogglePin
htim4
HAL_RCC_OscConfig
HAL_RCC_ClockConfig
HAL_Init
MX_GPIO_Init
MX_DMA_Init
MX_TIM2_Init
MX_USART1_UART_Init
MX_USART3_UART_Init
MX_TIM3_Init
MX_TIM4_Init
HAL_TIM_Base_Start_IT
HAL_NVIC_SetPriority
HAL_NVIC_EnableIRQ
HAL_UART_Transmit_DMA
htim3
huart3
